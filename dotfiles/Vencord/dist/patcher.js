// Vencord+ ab271d9
// Standalone: true
// Platform: Universal
// Updater Disabled: false
"use strict";var am=Object.create;var $i=Object.defineProperty;var rm=Object.getOwnPropertyDescriptor;var om=Object.getOwnPropertyNames;var cm=Object.getPrototypeOf,pm=Object.prototype.hasOwnProperty;var S=(i,e)=>()=>(i&&(e=i(i=0)),e);var b=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),ae=(i,e)=>{for(var t in e)$i(i,t,{get:e[t],enumerable:!0})},to=(i,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of om(e))!pm.call(i,s)&&s!==t&&$i(i,s,{get:()=>e[s],enumerable:!(n=rm(e,s))||n.enumerable});return i};var Se=(i,e,t)=>(t=i!=null?am(cm(i)):{},to(e||!i||!i.__esModule?$i(t,"default",{value:i,enumerable:!0}):t,i)),hs=i=>to($i({},"__esModule",{value:!0}),i);var p=S(()=>{"use strict"});function Dt(i,e={}){return new Promise((t,n)=>{io.default.get(i,e,s=>{let{statusCode:a,statusMessage:r,headers:o}=s;if(a>=400)return void n(`${a}: ${r} - ${i}`);if(a>=300)return void t(Dt(o.location,e));let c=[];s.on("error",n),s.on("data",l=>c.push(l)),s.once("end",()=>t(Buffer.concat(c)))})})}var io,vs=S(()=>{"use strict";p();io=Se(require("https"))});var xi=S(()=>{"use strict";p()});var bi,gs=S(()=>{p();bi="ab271d9"});var jt,xs=S(()=>{p();jt="RobinRMC/VencordPlus"});var no,so=S(()=>{"use strict";p();gs();xs();no=`VencordPlus/${bi}${jt?` (https://github.com/${jt})`:""}`});function yi(i){return async function(){try{return{ok:!0,value:await i(...arguments)}}catch(e){return{ok:!1,error:e instanceof Error?{...e}:e}}}}var ao,ro=S(()=>{"use strict";p();ao=["patcher.js","preload.js","renderer.js","renderer.css"]});var mm={};async function po(i){return Dt(lm+i,{headers:{Accept:"application/vnd.github+json","User-Agent":no}})}async function um(){if(!await lo())return[];let e=await po(`/compare/${bi}...HEAD`);return JSON.parse(e.toString("utf-8")).commits.map(n=>({hash:n.sha.slice(0,7),author:n.author.login,message:n.commit.message.split(`
`)[0]}))}async function lo(){let i=await po("/releases/latest"),e=JSON.parse(i.toString());return e.name.slice(e.name.lastIndexOf(" ")+1)===bi?!1:(e.assets.forEach(({name:n,browser_download_url:s})=>{ao.some(a=>n.startsWith(a))&&bs.push([n,s])}),!0)}async function dm(){return await Promise.all(bs.map(async([i,e])=>(0,oo.writeFile)((0,co.join)(__dirname,i),await Dt(e)))),bs=[],!0}var wi,oo,co,lm,bs,uo=S(()=>{"use strict";p();vs();xi();so();wi=require("electron"),oo=require("fs/promises"),co=require("path");gs();xs();ro();lm=`https://api.github.com/repos/${jt}`,bs=[];wi.ipcMain.handle("VencordGetRepo",yi(()=>`https://github.com/${jt}`));wi.ipcMain.handle("VencordGetUpdates",yi(um));wi.ipcMain.handle("VencordUpdate",yi(lo));wi.ipcMain.handle("VencordBuild",yi(dm))});var mo=S(()=>{"use strict";p();uo()});function vo(i,e,t,n){return BigInt(i)|BigInt(e)<<16n|BigInt(t)<<32n|BigInt(n)<<48n}function Le(i,e){return BigInt(i[e])|BigInt(i[e+1])<<8n|BigInt(i[e+2])<<16n|BigInt(i[e+3])<<24n|BigInt(i[e+4])<<32n|BigInt(i[e+5])<<40n|BigInt(i[e+6])<<48n|BigInt(i[e+7])<<56n}function U(i,e){return i<<e&fm|i>>go-e}function E(i){return BigInt.asUintN(64,i)}function xo(i,e=0){return new ws(e).update(i).digest()}var L,Y,fo,_i,ho,go,fm,hm,ws,bo=S(()=>{p();L=11400714785074694791n,Y=14029467366897019727n,fo=1609587929392839161n,_i=9650029242287828579n,ho=2870177450012600261n,go=64n,fm=2n**go-1n,hm=new TextEncoder;ws=class{#t;#i;#n;#s;#a;#r;#o;#e;constructor(e=0){this.reset(e)}reset(e=this.#t){return this.#t=BigInt.asUintN(32,BigInt(e)),this.#i=E(this.#t+L+Y),this.#n=E(this.#t+Y),this.#s=this.#t,this.#a=E(this.#t-L),this.#r=null,this.#o=0,this.#e=0,this}update(e){typeof e=="string"&&(e=hm.encode(e));let t=0,n=e.length,s=t+n;if(n===0)return this;if(this.#o+=n,this.#e===0&&(this.#r=new Uint8Array(32)),this.#e+n<32)return this.#r.set(e.subarray(0,n),this.#e),this.#e+=n,this;if(this.#e>0){this.#r.set(e.subarray(0,32-this.#e),this.#e);let a=0,r;r=Le(this.#r,a),this.#i=E(U(E(this.#i+r*Y),31n)*L),a+=8,r=Le(this.memory,a),this.#n=E(U(E(this.#n+r*Y),31n)*L),a+=8,r=Le(this.memory,a),this.#s=E(U(E(this.#s+r*Y),31n)*L),a+=8,r=Le(this.memory,a),this.#a=E(U(E(this.#a+r*Y),31n)*L),t+=32-this.#e,this.#e=0}if(t<=s-32){let a=s-32;do{let r;r=Le(e,t),this.#i=E(U(E(this.#i+r*Y),31n)*L),t+=8,r=Le(e,t),this.#n=E(U(E(this.#n+r*Y),31n)*L),t+=8,r=Le(e,t),this.#s=E(U(E(this.#s+r*Y),31n)*L),t+=8,r=Le(e,t),this.#a=E(U(E(this.#a+r*Y),31n)*L),t+=8}while(t<=a)}return t<s&&(this.#r.set(e.subarray(t,s),this.#e),this.#e=s-t),this}digest(){let e=this.#r,t=this.#e,n=0,s=0n,a=0n,r=0n;for(this.#o>=32?(s=U(this.#i,1n)+U(this.#n,7n)+U(this.#s,12n)+U(this.#a,18n),s=E(s^U(E(this.#i*Y),31n)*L),s=E(s*L+_i),s=E(s^U(E(this.#n*Y),31n)*L),s=E(s*L+_i),s=E(s^U(E(this.#s*Y),31n)*L),s=E(s*L+_i),s=E(s^U(E(this.#a*Y),31n)*L),s=E(s*L+_i)):s=E(this.#t+ho),s+=BigInt(this.#o);n<=t-8;)r=Le(e,n),r=E(U(E(r*Y),31n)*L),s=E(U(s^r,27n)*L+_i),n+=8;for(n+4<=t&&(r=vo(e[n+1]<<8|e[n],e[n+3]<<8|e[n+2],0,0),s=E(U(s^E(r*L),23n)*Y+fo),n+=4);n<t;)r=vo(e[n++],0,0,0),s=E(U(s^E(r*ho),11n)*L);return a=E(s>>33n),s=E((s^a)*Y),a=E(s>>29n),s=E((s^a)*fo),a=E(s>>32n),s=E(s^a),s}}});function gm(i){i=BigInt(i);let e=[],t=Math.ceil(Math.floor(Math.log2(Number(i))+1)/8);for(let s=0;s<t;s++)e.unshift(Number(i>>BigInt(8*s)&BigInt(255)));let n=new Uint8Array(e);return vm?n:n.reverse()}function yo(i){let e=xo(i,0),t=gm(e);return[Nt[t[0]>>2],Nt[(t[0]&3)<<4|t[1]>>4],Nt[(t[1]&15)<<2|t[2]>>6],Nt[t[2]&63],Nt[t[3]>>2],Nt[(t[3]&3)<<4|t[3]>>4]].join("")}var Nt,vm,wo=S(()=>{"use strict";p();bo();Nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),vm=(()=>{let i=new Uint8Array(4),e=new Uint32Array(i.buffer);return!((e[0]=1)&i[0])})()});function _o(i){let e=typeof i=="string"?i:i.source;if(e=e.replaceAll(/#{intl::([\w$+/]*)(?:::(\w+))?}/g,(s,a,r)=>{let o=r==="raw"?a:yo(a),c=typeof i=="string";return!Number.isNaN(Number(o[0]))||o.includes("+")||o.includes("/")?c?`["${o}"]`:String.raw`(?:\["${o}"\])`.replaceAll("+","\\+"):c?`.${o}`:String.raw`(?:\.${o})`}),typeof i=="string")return e;let t=e.replaceAll("\\i",String.raw`(?:[A-Za-z_$][\w$]*)`),n=new RegExp(t,i.flags);return n.toString=i.toString.bind(i),n}var So=S(()=>{"use strict";p();wo()});var Es={};ae(Es,{fetchTrackData:()=>_m});async function _s(i){let{stdout:e}=await To("osascript",i.map(t=>["-e",t]).flat());return e}async function wm({id:i,name:e,artist:t,album:n}){if(i===Ee?.id){if("data"in Ee)return Ee.data;if("failures"in Ee&&Ee.failures>=5)return null}try{let s=new URL("https://amp-api-edge.music.apple.com/v1/catalog/us/search");s.searchParams.set("platform","web"),s.searchParams.set("l","en-US"),s.searchParams.set("limit","1"),s.searchParams.set("with","serverBubbles"),s.searchParams.set("types","songs"),s.searchParams.set("term",`${e} ${t} ${n}`),s.searchParams.set("include[songs]","artists");let a=await ym(),r=await fetch(s,{headers:{accept:"*/*","accept-language":"en-US,en;q=0.9",authorization:`Bearer ${a}`,"user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.36",origin:"https://music.apple.com"}}).then(o=>o.json()).then(o=>o.results.song.data[0]);return Ee={id:i,data:{appleMusicLink:r.attributes.url,songLink:`https://song.link/i/${r.id}`,albumArtwork:r.attributes.artwork.url.replace("{w}x{h}","512x512"),artistArtwork:r.relationships.artists.data[0].attributes.artwork.url.replace("{w}x{h}","512x512")}},Ee.data}catch(s){return console.error("[AppleMusicRichPresence] Failed to fetch remote data:",s),Ee={id:i,failures:(i===Ee?.id&&"failures"in Ee?Ee.failures:0)+1},null}}async function _m(){try{await To("pgrep",["^Music$"])}catch{return null}if(await _s(['tell application "Music"',"get player state","end tell"]).then(u=>u.trim())!=="playing")return null;let e=await _s(['tell application "Music"',"get player position","end tell"]).then(u=>Number.parseFloat(u.trim())),t=await _s(['set output to ""','tell application "Music"',"set t_id to database id of current track","set t_name to name of current track","set t_album to album of current track","set t_artist to artist of current track","set t_duration to duration of current track",'set output to "" & t_id & "\\n" & t_name & "\\n" & t_album & "\\n" & t_artist & "\\n" & t_duration',"end tell","return output"]),[n,s,a,r,o]=t.split(`
`).filter(u=>!!u),c=Number.parseFloat(o),l=await wm({id:n,name:s,artist:r,album:a});return{name:s,album:a,artist:r,playerPosition:e,duration:c,...l}}var Eo,ko,To,Ee,xm,bm,Ss,ym,Co=S(()=>{"use strict";p();So();Eo=require("child_process"),ko=require("util"),To=(0,ko.promisify)(Eo.execFile);Ee=null,xm=/<script type="module" crossorigin src="([a-zA-Z0-9.\-/]+)"><\/script>/,bm=_o(/Promise.allSettled\(\i\)\}const \i="([A-Za-z0-9-_]*\.[A-Za-z0-9-_]*\.[A-Za-z0-9-_]*)"/),ym=async()=>{if(Ss)return Ss;let i=await fetch("https://music.apple.com/").then(s=>s.text()),e=new URL(i.match(xm)[1],"https://music.apple.com/"),n=(await fetch(e).then(s=>s.text())).match(bm)[1];return Ss=n,n}});var ks={};ae(ks,{initDevtoolsOpenEagerLoad:()=>Sm});function Sm(i){let e=()=>i.sender.executeJavaScript("Vencord.Plugins.plugins.ConsoleShortcuts.eagerLoad(true)");i.sender.isDevToolsOpened()?e():i.sender.once("devtools-opened",()=>e())}var Oo=S(()=>{"use strict";p()});var Ts,Ao,Si,Ro=S(()=>{"use strict";p();Ts=Symbol("SettingsStore.isProxy"),Ao=Symbol("SettingsStore.getRawTarget"),Si=class{pathListeners=new Map;globalListeners=new Set;proxyContexts=new WeakMap;proxyHandler=(()=>{let e=this;return{get(t,n,s){if(n===Ts)return!0;if(n===Ao)return t;let a=Reflect.get(t,n,s),r=e.proxyContexts.get(t);if(r==null)return a;let{root:o,path:c}=r;if(!(n in t)&&e.getDefaultValue!=null&&(a=e.getDefaultValue({target:t,key:n,root:o,path:c})),typeof a=="object"&&a!==null&&!a[Ts]){let l=`${c}${c&&"."}${n}`;return e.makeProxy(a,o,l)}return a},set(t,n,s){if(s?.[Ts]&&(s=s[Ao]),t[n]===s)return!0;if(!Reflect.set(t,n,s))return!1;let a=e.proxyContexts.get(t);if(a==null)return!0;let{root:r,path:o}=a,c=`${o}${o&&"."}${n}`;return e.notifyListeners(c,s,r),!0},deleteProperty(t,n){if(!Reflect.deleteProperty(t,n))return!1;let s=e.proxyContexts.get(t);if(s==null)return!0;let{root:a,path:r}=s,o=`${r}${r&&"."}${n}`;return e.notifyListeners(o,void 0,a),!0}}})();constructor(e,t={}){this.plain=e,this.store=this.makeProxy(e),Object.assign(this,t)}makeProxy(e,t=e,n=""){return this.proxyContexts.set(e,{root:t,path:n}),new Proxy(e,this.proxyHandler)}notifyListeners(e,t,n){let s=e.split(".");if(s.length>2&&s[0]==="plugins"){let a=s.slice(0,3),r=a.join("."),o=a.reduce((c,l)=>c[l],n);this.globalListeners.forEach(c=>c(n,r)),this.pathListeners.get(r)?.forEach(c=>c(o))}else this.globalListeners.forEach(a=>a(n,e));this.pathListeners.get(e)?.forEach(a=>a(t))}setData(e,t){if(this.readOnly)throw new Error("SettingsStore is read-only");if(this.plain=e,this.store=this.makeProxy(e),t){let n=e,s=t.split(".");for(let a of s){if(!n){console.warn(`Settings#setData: Path ${t} does not exist in new data. Not dispatching update`);return}n=n[a]}this.pathListeners.get(t)?.forEach(a=>a(n))}this.markAsChanged()}addGlobalChangeListener(e){this.globalListeners.add(e)}addChangeListener(e,t){let n=this.pathListeners.get(e)??new Set;n.add(t),this.pathListeners.set(e,n)}removeGlobalChangeListener(e){this.globalListeners.delete(e)}removeChangeListener(e,t){let n=this.pathListeners.get(e);n&&(n.delete(t),n.size||this.pathListeners.delete(e))}markAsChanged(){this.globalListeners.forEach(e=>e(this.plain,""))}}});function Cs(i,e){for(let t in e){let n=e[t];typeof n=="object"&&!Array.isArray(n)?(i[t]??={},Cs(i[t],n)):i[t]??=n}return i}var Po=S(()=>{"use strict";p()});var Io,Ke,Lt,Bt,Ze,Mt,Os,As,Do,Ki,ut=S(()=>{"use strict";p();Io=require("electron"),Ke=require("path"),Lt=process.env.VENCORD_USER_DATA_DIR??(process.env.DISCORD_USER_DATA_DIR?(0,Ke.join)(process.env.DISCORD_USER_DATA_DIR,"..","VencordData"):(0,Ke.join)(Io.app.getPath("userData"),"..","Vencord")),Bt=(0,Ke.join)(Lt,"settings"),Ze=(0,Ke.join)(Lt,"themes"),Mt=(0,Ke.join)(Bt,"quickCss.css"),Os=(0,Ke.join)(Bt,"settings.json"),As=(0,Ke.join)(Bt,"native-settings.json"),Do=["https:","http:","steam:","spotify:","com.epicgames.launcher:","tidal:","itunes:"],Ki=process.argv.includes("--vanilla")});function No(i,e){try{return JSON.parse((0,dt.readFileSync)(e,"utf-8"))}catch(t){return t?.code!=="ENOENT"&&console.error(`Failed to read ${i} settings`,t),{}}}var Zi,dt,re,Em,Lo,jo,mt=S(()=>{"use strict";p();xi();Ro();Po();Zi=require("electron"),dt=require("fs");ut();(0,dt.mkdirSync)(Bt,{recursive:!0});re=new Si(No("renderer",Os));re.addGlobalChangeListener(()=>{try{(0,dt.writeFileSync)(Os,JSON.stringify(re.plain,null,4))}catch(i){console.error("Failed to write renderer settings",i)}});Zi.ipcMain.handle("VencordGetSettingsDir",()=>Bt);Zi.ipcMain.on("VencordGetSettings",i=>i.returnValue=re.plain);Zi.ipcMain.handle("VencordSetSettings",(i,e,t)=>{re.setData(e,t)});Em={plugins:{}},Lo=No("native",As);Cs(Lo,Em);jo=new Si(Lo);jo.addGlobalChangeListener(()=>{try{(0,dt.writeFileSync)(As,JSON.stringify(jo.plain,null,4))}catch(i){console.error("Failed to write native settings",i)}})});var Mo={};var Bo,Fo=S(()=>{"use strict";p();mt();Bo=require("electron");Bo.app.on("browser-window-created",(i,e)=>{e.webContents.on("frame-created",(t,{frame:n})=>{n?.once("dom-ready",()=>{if(n.url.startsWith("https://open.spotify.com/embed/")){let s=re.store.plugins?.FixSpotifyEmbeds;if(!s?.enabled)return;n.executeJavaScript(`
                    const original = Audio.prototype.play;
                    Audio.prototype.play = function() {
                        this.volume = ${s.volume/100||.1};
                        return original.apply(this, arguments);
                    }
                `)}})})})});var Uo={};var qo,zo=S(()=>{"use strict";p();mt();qo=require("electron");qo.app.on("browser-window-created",(i,e)=>{e.webContents.on("frame-created",(t,{frame:n})=>{n?.once("dom-ready",()=>{if(n.url.startsWith("https://www.youtube.com/")){if(!re.store.plugins?.FixYoutubeEmbeds?.enabled)return;n.executeJavaScript(`
                new MutationObserver(() => {
                    if(
                        document.querySelector('div.ytp-error-content-wrap-subreason a[href*="www.youtube.com/watch?v="]')
                    ) location.reload()
                }).observe(document.body, { childList: true, subtree:true });
                `)}})})})});var Rs={};ae(Rs,{resolveRedirect:()=>Tm});function Ho(i){return new Promise((e,t)=>{let n=(0,Vo.request)(new URL(i),{method:"HEAD"},s=>{e(s.headers.location?Ho(s.headers.location):i)});n.on("error",t),n.end()})}async function Tm(i,e){return km.test(e)?Ho(e):e}var Vo,km,Wo=S(()=>{"use strict";p();Vo=require("https"),km=/^https:\/\/(spotify\.link|s\.team)\/.+$/});var Ps={};ae(Ps,{makeDeeplTranslateRequest:()=>Cm});async function Cm(i,e,t,n){let s=e?"https://api.deepl.com/v2/translate":"https://api-free.deepl.com/v2/translate";try{let a=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`DeepL-Auth-Key ${t}`},body:n}),r=await a.text();return{status:a.status,data:r}}catch(a){return{status:-1,data:String(a)}}}var Go=S(()=>{"use strict";p()});var Is={};ae(Is,{readRecording:()=>Om});async function Om(i,e){e=(0,Ei.normalize)(e);let t=(0,Ei.basename)(e),n=(0,Ei.normalize)($o.app.getPath("userData")+"/");if(console.log(t,n,e),t!=="recording.ogg"||!e.startsWith(n))return null;try{let s=await(0,Ko.readFile)(e);return new Uint8Array(s.buffer)}catch{return null}}var $o,Ko,Ei,Zo=S(()=>{"use strict";p();$o=require("electron"),Ko=require("fs/promises"),Ei=require("path")});var Ds={};ae(Ds,{sendToOverlay:()=>Am});function Am(i,e){e.messageType=e.type;let t=JSON.stringify(e);Yo??=(0,Jo.createSocket)("udp4"),Yo.send(t,42069,"127.0.0.1")}var Jo,Yo,Xo=S(()=>{"use strict";p();Jo=require("dgram")});var Qo,ec=S(()=>{p();Qo=`"use strict";const hiddenCSS=["#__ffYoutube1","#__ffYoutube2","#__ffYoutube3","#__ffYoutube4","#feed-pyv-container","#feedmodule-PRO","#homepage-chrome-side-promo","#merch-shelf","#offer-module",'#pla-shelf > ytd-pla-shelf-renderer[class="style-scope ytd-watch"]',"#pla-shelf","#premium-yva","#promo-info","#promo-list","#promotion-shelf","#related > ytd-watch-next-secondary-results-renderer > #items > ytd-compact-promoted-video-renderer.ytd-watch-next-secondary-results-renderer","#search-pva","#shelf-pyv-container","#video-masthead","#watch-branded-actions","#watch-buy-urls","#watch-channel-brand-div","#watch7-branded-banner","#YtKevlarVisibilityIdentifier","#YtSparklesVisibilityIdentifier",".carousel-offer-url-container",".companion-ad-container",".GoogleActiveViewElement",'.list-view[style="margin: 7px 0pt;"]',".promoted-sparkles-text-search-root-container",".promoted-videos",".searchView.list-view",".sparkles-light-cta",".watch-extra-info-column",".watch-extra-info-right",".ytd-carousel-ad-renderer",".ytd-compact-promoted-video-renderer",".ytd-companion-slot-renderer",".ytd-merch-shelf-renderer",".ytd-player-legacy-desktop-watch-ads-renderer",".ytd-promoted-sparkles-text-search-renderer",".ytd-promoted-video-renderer",".ytd-search-pyv-renderer",".ytd-video-masthead-ad-v3-renderer",".ytp-ad-action-interstitial-background-container",".ytp-ad-action-interstitial-slot",".ytp-ad-image-overlay",".ytp-ad-overlay-container",".ytp-ad-progress",".ytp-ad-progress-list",'[class*="ytd-display-ad-"]','[layout*="display-ad-"]','a[href^="http://www.youtube.com/cthru?"]','a[href^="https://www.youtube.com/cthru?"]',"ytd-action-companion-ad-renderer","ytd-banner-promo-renderer","ytd-compact-promoted-video-renderer","ytd-companion-slot-renderer","ytd-display-ad-renderer","ytd-promoted-sparkles-text-search-renderer","ytd-promoted-sparkles-web-renderer","ytd-search-pyv-renderer","ytd-single-option-survey-renderer","ytd-video-masthead-ad-advertiser-info-renderer","ytd-video-masthead-ad-v3-renderer","YTM-PROMOTED-VIDEO-RENDERER"],hideElements=()=>{const e=hiddenCSS;if(!e)return;const t=e.join(", ")+" { display: none!important; }",r=document.createElement("style");r.textContent=t,document.head.appendChild(r)},observeDomChanges=e=>{new MutationObserver(r=>{e(r)}).observe(document.documentElement,{childList:!0,subtree:!0})},hideDynamicAds=()=>{const e=document.querySelectorAll("#contents > ytd-rich-item-renderer ytd-display-ad-renderer");e.length!==0&&e.forEach(t=>{if(t.parentNode&&t.parentNode.parentNode){const r=t.parentNode.parentNode;r.localName==="ytd-rich-item-renderer"&&(r.style.display="none")}})},autoSkipAds=()=>{if(document.querySelector(".ad-showing")){const e=document.querySelector("video");e&&e.duration&&(e.currentTime=e.duration,setTimeout(()=>{const t=document.querySelector("button.ytp-ad-skip-button");t&&t.click()},100))}},overrideObject=(e,t,r)=>{if(!e)return!1;let n=!1;for(const o in e)e.hasOwnProperty(o)&&o===t?(e[o]=r,n=!0):e.hasOwnProperty(o)&&typeof e[o]=="object"&&overrideObject(e[o],t,r)&&(n=!0);return n},jsonOverride=(e,t)=>{const r=JSON.parse;JSON.parse=(...n)=>{const o=r.apply(this,n);return overrideObject(o,e,t),o},Response.prototype.json=new Proxy(Response.prototype.json,{async apply(...n){const o=await Reflect.apply(...n);return overrideObject(o,e,t),o}})};jsonOverride("adPlacements",[]),jsonOverride("playerAds",[]),hideElements(),hideDynamicAds(),autoSkipAds(),observeDomChanges(()=>{hideDynamicAds(),autoSkipAds()});
`});var ic={};var tc,nc=S(()=>{"use strict";p();mt();tc=require("electron");ec();tc.app.on("browser-window-created",(i,e)=>{e.webContents.on("frame-created",(t,{frame:n})=>{n?.once("dom-ready",()=>{re.store.plugins?.YoutubeAdblock?.enabled&&(n.url.includes("youtube.com/embed/")||n.url.includes("discordsays")&&n.url.includes("youtube.com"))&&n.executeJavaScript(Qo)})})})});var js={};ae(js,{RequestRandomUser:()=>Rm,ToBase64ImageUrl:()=>Pm});async function Rm(){let i=await fetch("https://randomuser.me/api").then(e=>e.json());return JSON.stringify(i.results[0])}async function Pm(i,e){let{imgUrl:t}=e;try{let n=await fetch(t),s=await n.arrayBuffer(),a=`data:${n.headers.get("Content-Type")||"image/png"};base64,${Buffer.from(s).toString("base64")}`;return JSON.stringify({data:a})}catch(n){return console.error("Error converting image to Base64:",n),JSON.stringify({error:"Failed to convert image to Base64"})}}var sc=S(()=>{"use strict";p()});async function Im(i){try{return await(0,Yi.access)(i),!0}catch{return!1}}async function Ft(i){await Im(i)||await(0,Yi.mkdir)(i)}function Ns(i){return ac.default.parse(i).name}var Yi,ac,rc,Ls=S(()=>{"use strict";p();Yi=require("fs/promises"),ac=Se(require("path"));rc=i=>new Promise(e=>setTimeout(e,i))});async function Ji(){try{let i=await Bs.default.readFile(await cc(),"utf8");return JSON.parse(i)}catch{let e={logsDir:await Ye(),imageCacheDir:await ki()};try{await Ms(e)}catch{}return e}}async function Ms(i){i&&await Bs.default.writeFile(await cc(),JSON.stringify(i,null,4),"utf8")}async function cc(){let i=await Ye();return await Ft(i),oc.default.join(i,"mlSettings.json")}var Bs,oc,pc=S(()=>{"use strict";p();Bs=Se(require("fs/promises")),oc=Se(require("path"));Fs();Ls()});function lc(i){let e=new Map,t=(...n)=>{let s=JSON.stringify(n);if(e.has(s))return e.get(s);let a=i(...n);return e.set(s,a),a};return t.clear=()=>e.clear(),t}var uc=S(()=>{"use strict";p()});async function qt(...i){let e={cwd:await jm(),shell:!0};try{let t;return Dm?t=await dc("flatpak-spawn",["--host","git",...i],e):t=await dc("git",i,e),{value:t.stdout.trim(),stderr:t.stderr,ok:!0}}catch(t){return{ok:!1,cmd:t.cmd,message:t.stderr,error:t}}}async function Nm(){return await qt("pull")}async function hc(){return await qt("rev-parse","HEAD")}async function Lm(){let i=await qt("remote","get-url","origin");if(!i.ok)return i;let e=await hc();return e.ok?{ok:!0,value:{repo:i.value.replace(/git@(.+):/,"https://$1/").replace(/\.git$/,""),gitHash:e.value}}:e}async function Bm(){let i=await qt("branch","--show-current");if(!i.ok)return i;let e="%H;%an;%s",t=`HEAD..origin/${i.value}`;try{await qt("fetch");let n=await qt("log",`--format="${e}"`,t);return n.ok?n.value.trim()===""?{ok:!0,value:[]}:{ok:!0,value:n.value.trim().split(`
`).map(r=>{let[o,c,...l]=r.split(";");return{longHash:o,hash:o.slice(0,7),author:c,message:l.join(";")}})}:n}catch(n){return{ok:!1,cmd:n.cmd,message:n.message,error:n}}}var mc,Us,Xi,fc,dc,Dm,qs,jm,vc=S(()=>{"use strict";p();mc=require("node:child_process"),Us=require("fs/promises"),Xi=require("path"),fc=require("util");uc();dc=(0,fc.promisify)(mc.execFile),Dm=process.platform==="linux"&&!!(process.env.FLATPAK_ID?.includes("discordapp")||process.env.FLATPAK_ID?.includes("Discord"));process.platform==="darwin"&&(process.env.PATH=`/usr/local/bin:${process.env.PATH}`);qs=(0,Xi.join)(__dirname,"..","src","plusplugins"),jm=lc(async()=>{let i=await(0,Us.readdir)(qs,{withFileTypes:!0});for(let e of i){if(!e.isDirectory())continue;let t=(0,Xi.join)(qs,e.name);if((await(0,Us.readdir)(t)).includes("LoggedMessageManager.ts"))return(0,Xi.join)(qs,e.name)}})});var gc,xc=S(()=>{"use strict";p();gc="message-logger-logs.json"});var Ws={};ae(Ws,{chooseDir:()=>Wm,chooseFile:()=>$m,deleteFileNative:()=>Vm,downloadAttachment:()=>wc,getCommitHash:()=>hc,getDefaultNativeDataDir:()=>Ye,getDefaultNativeImageDir:()=>ki,getImageNative:()=>Um,getNativeSavedImages:()=>Fm,getNewCommits:()=>Bm,getRepoInfo:()=>Lm,getSettings:()=>Ji,init:()=>yc,initDirs:()=>bc,messageLoggerEnhancedUniqueIdThingyIdkMan:()=>Mm,showItemInFolder:()=>Gm,update:()=>Nm,writeImageNative:()=>zm,writeLogs:()=>Hm});function Mm(){}async function bc(){let{logsDir:i,imageCacheDir:e}=await Ji();zs=i||await Ye(),Vs=e||await ki()}async function yc(i){let e=await Hs();await Ft(e);let t=await(0,ke.readdir)(e);for(let n of t){let s=Ns(n);Je.set(s,ft.default.join(e,n))}}async function Um(i,e){let t=Je.get(e);if(!t)return null;try{return await(0,ke.readFile)(t)}catch(n){return console.error(n),null}}async function zm(i,e,t){if(!e||!t)return;let n=await Hs(),s=Ns(e);if(Je.get(s))return;let r=ft.default.join(n,e);await Ft(n),await(0,ke.writeFile)(r,t),Je.set(s,r)}async function Vm(i,e){let t=Je.get(e);t&&await(0,ke.unlink)(t)}async function Hm(i,e){let t=await qm();(0,ke.writeFile)(ft.default.join(t,gc),e)}async function ki(){return ft.default.join(await Ye(),"savedImages")}async function Ye(){return ft.default.join(Lt,"MessageLoggerData")}async function Wm(i,e){let t=await Ji(),n=t[e]||await Ye(),a=(await Ti.dialog.showOpenDialog({properties:["openDirectory"],defaultPath:n})).filePaths[0];if(!a)throw Error("Invalid Directory");switch(t[e]=a,await Ms(t),e){case"logsDir":zs=a;break;case"imageCacheDir":Vs=a;break}return e==="imageCacheDir"&&await yc(i),a}async function Gm(i,e){Ti.shell.showItemInFolder(e)}async function $m(i,e,t,n){let s=await Ti.dialog.showOpenDialog({title:e,filters:t,properties:["openFile"],defaultPath:n}),[a]=s.filePaths;if(!a)throw Error("Invalid file");return await(0,ke.readFile)(a,"utf-8")}async function wc(i,e,t=0,n=!1){try{if(!e?.url||!e.oldUrl||!e?.id||!e?.fileExtension)return{error:"Invalid Attachment",path:null};if(e.id.match(/[\\/.]/))return{error:"Invalid Attachment ID",path:null};let s=Je.get(e.id);if(s)return{error:null,path:s};let a=await fetch(n?e.oldUrl:e.url);if(a.status!==200)return(a.status===404||a.status===403||a.status===415)&&(n=!0),t++,t>3?{error:`Failed to get attachment ${e.id} for caching. too many attempts, error code ${a.status}`,path:null}:(await rc(1e3),wc(i,e,t,n));let r=await a.arrayBuffer(),o=await Hs();await Ft(o);let c=ft.default.join(o,`${e.id}${e.fileExtension}`);return await(0,ke.writeFile)(c,Buffer.from(r)),Je.set(e.id,c),{error:null,path:c}}catch(s){return console.error(s),{error:s.message,path:null}}}var ke,ft,Ti,Je,Fm,zs,Vs,Hs,qm,Fs=S(()=>{"use strict";p();ke=require("node:fs/promises"),ft=Se(require("node:path"));ut();Ti=require("electron");pc();vc();xc();Ls();Je=new Map,Fm=()=>Je,Hs=async()=>Vs??await ki(),qm=async()=>zs??await Ye();bc()});var Gs={};ae(Gs,{fetchTopAlbum:()=>Km});async function Km(i,e){let{apiKey:t,user:n,period:s}=e,a=`http://ws.audioscrobbler.com/2.0/?method=user.getTopAlbums&user=${n}&api_key=${t}&period=${s}&format=json&limit=1`,o=await(await fetch(a)).json();if(o.topalbums&&o.topalbums.album.length>0){let c=o.topalbums.album[0],l=c.name,u=c.artist.name,d=c.image[c.image.length-1]["#text"];return JSON.stringify({albumName:l,artistName:u,albumCoverUrl:d})}else return null}var _c=S(()=>{"use strict";p()});var $s={};ae($s,{downloadTheme:()=>Jm,getThemesDir:()=>Ym,themeExists:()=>Zm});async function Zm(i,e,t){return(0,Qi.existsSync)((0,en.join)(e.toString(),`${t.name}.theme.css`))}function Ym(i,e,t){return(0,en.join)(e.toString(),`${t.name}.theme.css`)}async function Jm(i,e,t){if(!t.content||!t.name)return;let n=(0,en.join)(e.toString(),`${t.name}.theme.css`),a=await(await fetch(`https://discord-themes.com/api/download/${t.id}`)).text();(0,Qi.writeFileSync)(n,a)}var Qi,en,Sc=S(()=>{"use strict";p();Qi=require("fs"),en=require("path")});var Ks={};ae(Ks,{sendToOverlay:()=>Xm});function Xm(i,e){e.messageType=e.type;let t=JSON.stringify(e);Ec??=(0,kc.createSocket)("udp4"),Ec.send(t,42069,"127.0.0.1")}var kc,Ec,Tc=S(()=>{"use strict";p();kc=require("dgram")});var Js={};ae(Js,{checkffmpeg:()=>pf,checkytdlp:()=>lf,execute:()=>cf,getStdout:()=>df,interrupt:()=>uf,isFfmpegAvailable:()=>ff,isYtdlpAvailable:()=>mf,start:()=>ef,stop:()=>tf});function Rc(i){Me(`Executing yt-dlp with args: ["${i.map(t=>t.replace('"','\\"')).join('", "')}"]`);let e="";return new Promise((t,n)=>{Ut=(0,Qe.spawn)("yt-dlp",i,{cwd:sn()}),Ut.stdout.on("data",s=>nn(s)),Ut.stderr.on("data",s=>{nn(s),Ac(`yt-dlp encountered an error: ${s}`),e+=s}),Ut.on("exit",s=>{Ut=null,s===0?t(Xe):n(new Error(e||`yt-dlp exited with code ${s}`))})})}function Qm(i){Me(`Executing ffmpeg with args: ["${i.map(t=>t.replace('"','\\"')).join('", "')}"]`);let e="";return new Promise((t,n)=>{zt=(0,Qe.spawn)("ffmpeg",i,{cwd:sn()}),zt.stdout.on("data",s=>nn(s)),zt.stderr.on("data",s=>{nn(s),Ac(`ffmpeg encountered an error: ${s}`),e+=s}),zt.on("exit",s=>{zt=null,s===0?t(Xe):n(new Error(e||`ffmpeg exited with code ${s}`))})})}async function ef(i,e){return e||=J.mkdtempSync(Ys.default.join(Cc.default.tmpdir(),"vencord_mediaDownloader_")),J.existsSync(e)||J.mkdirSync(e,{recursive:!0}),Be=e,Me("Using workdir: ",Be),Be}async function tf(i){Be&&(Me("Cleaning up workdir"),J.rmSync(Be,{recursive:!0}),Be=null)}async function nf(i){Xe="";let e=JSON.parse(await Rc(["-J",i.url,"--no-warnings"]));if(e.is_live)throw"Live streams are not supported.";return Xe="",{videoTitle:`${e.title||"video"} (${e.id})`}}function sf({videoTitle:i},{maxFileSize:e,format:t}){let n=!!e,s=n?e*.8:0,a=n?e*.2:0,r={noFfmpeg:"ba[ext=mp3]{TOT_SIZE}/wa[ext=mp3]{TOT_SIZE}",ffmpeg:"ba*{TOT_SIZE}/ba{TOT_SIZE}/wa*{TOT_SIZE}/ba*"},o={noFfmpeg:"b{TOT_SIZE}{HEIGHT}[ext=webm]/b{TOT_SIZE}{HEIGHT}[ext=mp4]/w{HEIGHT}{TOT_SIZE}",ffmpeg:"b*{VID_SIZE}{HEIGHT}+ba{AUD_SIZE}/b{TOT_SIZE}{HEIGHT}/b*{HEIGHT}+ba"},c={ffmpeg:"bv{TOT_SIZE}/wv{TOT_SIZE}"},l;switch(t){case"audio":l=r;break;case"gif":l=c;break;case"video":default:l=o;break}let u=(vt?l.ffmpeg:l.noFfmpeg)?.replaceAll("{TOT_SIZE}",n?`[filesize<${e}]`:"").replaceAll("{VID_SIZE}",n?`[filesize<${s}]`:"").replaceAll("{AUD_SIZE}",n?`[filesize<${a}]`:"").replaceAll("{HEIGHT}","[height<=1080]");if(!u)throw"Gif format is only supported with ffmpeg.";return Me("Video formated calculated as ",u),Me(`Based on: format=${t}, maxFileSize=${e}, ffmpegAvailable=${vt}`),{format:u,videoTitle:i}}async function af({format:i,videoTitle:e},{ytdlpArgs:t,url:n,format:s}){Oc();let a=["-f",i,"-o","download.%(ext)s","--force-overwrites","-I","1"],r=vt?s==="video"?["--remux-video","webm>webm/mp4"]:s==="audio"?["--extract-audio","--audio-format","mp3"]:[]:[],o=t?.filter(Boolean)||[];await Rc([n,...a,...r,...o]);let c=J.readdirSync(sn()).find(l=>l.startsWith("download."));if(!c)throw"No video file was found!";return{file:c,videoTitle:e}}async function rf({file:i,videoTitle:e},{ffmpegArgs:t,format:n,maxFileSize:s,gifQuality:a}){let r=i.split(".").pop();if(!vt)return Me("Skipping remux, ffmpeg is unavailable."),{file:i,videoTitle:e,extension:r};let o=["mp3","mp4","webm"],c=J.statSync(ht(i)).size,l=t?.filter(Boolean)||[],u=o.includes(r??""),d=!s||c<=s,v=l.length>0;if(u&&d&&!v&&!(n==="gif"))return Me("Skipping remux, file type and size are good, and no ffmpeg arguments were specified."),{file:i,videoTitle:e,extension:r};let g=parseFloat((0,Qe.execFileSync)("ffprobe",["-v","error","-show_entries","format=duration","-of","default=noprint_wrappers=1:nokey=1",ht(i)]).toString());if(isNaN(g))throw"Failed to get video duration.";let x=~~((s?s*7/g:9999999)/1024),y,w;switch(n){case"audio":y=["-i",ht(i),"-b:a",`${x}k`,"-maxrate",`${x}k`,"-bufsize","1M","-y"],w="mp3";break;case"video":default:let A=x<=100?480:x<=500?720:1080;y=["-i",ht(i),"-b:v",`${~~(x*.8)}k`,"-b:a",`${~~(x*.2)}k`,"-maxrate",`${x}k`,"-bufsize","1M","-y","-filter:v",`scale=-1:${A}`],w="mp4";break;case"gif":let C,j,P,N;switch(a){case 1:C=5,j=360,P=24,N=5;break;case 2:C=10,j=420,P=32,N=5;break;default:case 3:C=15,j=480,P=64,N=4;break;case 4:C=20,j=540,P=64,N=3;break;case 5:C=30,j=720,P=128,N=1;break}y=["-i",ht(i),"-vf",`fps=${C},scale=w=${j}:h=-1:flags=lanczos,mpdecimate,split[s0][s1];[s0]palettegen=max_colors=${P}[p];[s1][p]paletteuse=dither=bayer:bayer_scale=${N}`,"-loop","0","-bufsize","1M","-y"],w="gif";break}return await Qm([...y,...l,`remux.${w}`]),{file:`remux.${w}`,videoTitle:e,extension:w}}function of({file:i,videoTitle:e,extension:t}){if(!t)throw"Invalid extension.";return{buffer:J.readFileSync(ht(i)),title:`${e}.${t}`}}async function cf(i,e){tn="";try{let t=await nf(e),n=sf(t,e),s=await af(n,e),a=await rf(s,e),r=of(a);return{logs:tn,...r}}catch(t){return{error:t.toString(),logs:tn}}}function pf(i){try{return(0,Qe.execFileSync)("ffmpeg",["-version"]),(0,Qe.execFileSync)("ffprobe",["-version"]),vt=!0,!0}catch{return vt=!1,!1}}async function lf(i){try{return(0,Qe.execFileSync)("yt-dlp",["--version"]),Zs=!0,!0}catch{return Zs=!1,!1}}async function uf(i){Me("Interrupting..."),Ut?.kill(),zt?.kill(),Oc()}var Qe,J,Cc,Ys,Be,Xe,tn,Zs,vt,Ut,zt,sn,ht,Oc,nn,Me,Ac,df,mf,ff,Pc=S(()=>{"use strict";p();Qe=require("child_process"),J=Se(require("fs")),Cc=Se(require("os")),Ys=Se(require("path")),Be=null,Xe="",tn="",Zs=!1,vt=!1,Ut=null,zt=null,sn=()=>Be??process.cwd(),ht=i=>Ys.default.join(sn(),i),Oc=()=>{Be&&J.readdirSync(Be).filter(i=>i.startsWith("download.")||i.startsWith("remux.")).forEach(i=>J.unlinkSync(ht(i)))},nn=i=>(Xe+=i,Xe=Xe.replace(/^.*\r([^\n])/gm,"$1")),Me=(...i)=>(console.log(`[Plugin:MediaDownloader] ${i.join(" ")}`),tn+=`[Plugin:MediaDownloader] ${i.join(" ")}
`),Ac=(...i)=>console.error(`[Plugin:MediaDownloader] [ERROR] ${i.join(" ")}`);df=()=>Xe,mf=()=>Zs,ff=()=>vt});var Nc=b((D0,Xs)=>{"use strict";p();Xs.exports=jc;Xs.exports.preferredCharsets=jc;var hf=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function vf(i){for(var e=i.split(","),t=0,n=0;t<e.length;t++){var s=gf(e[t].trim(),t);s&&(e[n++]=s)}return e.length=n,e}function gf(i,e){var t=hf.exec(i);if(!t)return null;var n=t[1],s=1;if(t[2])for(var a=t[2].split(";"),r=0;r<a.length;r++){var o=a[r].trim().split("=");if(o[0]==="q"){s=parseFloat(o[1]);break}}return{charset:n,q:s,i:e}}function xf(i,e,t){for(var n={o:-1,q:0,s:0},s=0;s<e.length;s++){var a=bf(i,e[s],t);a&&(n.s-a.s||n.q-a.q||n.o-a.o)<0&&(n=a)}return n}function bf(i,e,t){var n=0;if(e.charset.toLowerCase()===i.toLowerCase())n|=1;else if(e.charset!=="*")return null;return{i:t,o:e.i,q:e.q,s:n}}function jc(i,e){var t=vf(i===void 0?"*":i||"");if(!e)return t.filter(Dc).sort(Ic).map(yf);var n=e.map(function(a,r){return xf(a,t,r)});return n.filter(Dc).sort(Ic).map(function(a){return e[n.indexOf(a)]})}function Ic(i,e){return e.q-i.q||e.s-i.s||i.o-e.o||i.i-e.i||0}function yf(i){return i.charset}function Dc(i){return i.q>0}});var qc=b((N0,Qs)=>{"use strict";p();Qs.exports=Fc;Qs.exports.preferredEncodings=Fc;var wf=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function _f(i){for(var e=i.split(","),t=!1,n=1,s=0,a=0;s<e.length;s++){var r=Sf(e[s].trim(),s);r&&(e[a++]=r,t=t||Mc("identity",r),n=Math.min(n,r.q||1))}return t||(e[a++]={encoding:"identity",q:n,i:s}),e.length=a,e}function Sf(i,e){var t=wf.exec(i);if(!t)return null;var n=t[1],s=1;if(t[2])for(var a=t[2].split(";"),r=0;r<a.length;r++){var o=a[r].trim().split("=");if(o[0]==="q"){s=parseFloat(o[1]);break}}return{encoding:n,q:s,i:e}}function Ef(i,e,t){for(var n={o:-1,q:0,s:0},s=0;s<e.length;s++){var a=Mc(i,e[s],t);a&&(n.s-a.s||n.q-a.q||n.o-a.o)<0&&(n=a)}return n}function Mc(i,e,t){var n=0;if(e.encoding.toLowerCase()===i.toLowerCase())n|=1;else if(e.encoding!=="*")return null;return{i:t,o:e.i,q:e.q,s:n}}function Fc(i,e){var t=_f(i||"");if(!e)return t.filter(Bc).sort(Lc).map(kf);var n=e.map(function(a,r){return Ef(a,t,r)});return n.filter(Bc).sort(Lc).map(function(a){return e[n.indexOf(a)]})}function Lc(i,e){return e.q-i.q||e.s-i.s||i.o-e.o||i.i-e.i||0}function kf(i){return i.encoding}function Bc(i){return i.q>0}});var Wc=b((B0,ea)=>{"use strict";p();ea.exports=Hc;ea.exports.preferredLanguages=Hc;var Tf=/^\s*([^\s\-;]+)(?:-([^\s;]+))?\s*(?:;(.*))?$/;function Cf(i){for(var e=i.split(","),t=0,n=0;t<e.length;t++){var s=Vc(e[t].trim(),t);s&&(e[n++]=s)}return e.length=n,e}function Vc(i,e){var t=Tf.exec(i);if(!t)return null;var n=t[1],s=t[2],a=n;s&&(a+="-"+s);var r=1;if(t[3])for(var o=t[3].split(";"),c=0;c<o.length;c++){var l=o[c].split("=");l[0]==="q"&&(r=parseFloat(l[1]))}return{prefix:n,suffix:s,q:r,i:e,full:a}}function Of(i,e,t){for(var n={o:-1,q:0,s:0},s=0;s<e.length;s++){var a=Af(i,e[s],t);a&&(n.s-a.s||n.q-a.q||n.o-a.o)<0&&(n=a)}return n}function Af(i,e,t){var n=Vc(i);if(!n)return null;var s=0;if(e.full.toLowerCase()===n.full.toLowerCase())s|=4;else if(e.prefix.toLowerCase()===n.full.toLowerCase())s|=2;else if(e.full.toLowerCase()===n.prefix.toLowerCase())s|=1;else if(e.full!=="*")return null;return{i:t,o:e.i,q:e.q,s}}function Hc(i,e){var t=Cf(i===void 0?"*":i||"");if(!e)return t.filter(zc).sort(Uc).map(Rf);var n=e.map(function(a,r){return Of(a,t,r)});return n.filter(zc).sort(Uc).map(function(a){return e[n.indexOf(a)]})}function Uc(i,e){return e.q-i.q||e.s-i.s||i.o-e.o||i.i-e.i||0}function Rf(i){return i.full}function zc(i){return i.q>0}});var Jc=b((F0,ta)=>{"use strict";p();ta.exports=Zc;ta.exports.preferredMediaTypes=Zc;var Pf=/^\s*([^\s\/;]+)\/([^;\s]+)\s*(?:;(.*))?$/;function If(i){for(var e=Bf(i),t=0,n=0;t<e.length;t++){var s=Kc(e[t].trim(),t);s&&(e[n++]=s)}return e.length=n,e}function Kc(i,e){var t=Pf.exec(i);if(!t)return null;var n=Object.create(null),s=1,a=t[2],r=t[1];if(t[3])for(var o=Mf(t[3]).map(Lf),c=0;c<o.length;c++){var l=o[c],u=l[0].toLowerCase(),d=l[1],v=d&&d[0]==='"'&&d[d.length-1]==='"'?d.substr(1,d.length-2):d;if(u==="q"){s=parseFloat(v);break}n[u]=v}return{type:r,subtype:a,params:n,q:s,i:e}}function Df(i,e,t){for(var n={o:-1,q:0,s:0},s=0;s<e.length;s++){var a=jf(i,e[s],t);a&&(n.s-a.s||n.q-a.q||n.o-a.o)<0&&(n=a)}return n}function jf(i,e,t){var n=Kc(i),s=0;if(!n)return null;if(e.type.toLowerCase()==n.type.toLowerCase())s|=4;else if(e.type!="*")return null;if(e.subtype.toLowerCase()==n.subtype.toLowerCase())s|=2;else if(e.subtype!="*")return null;var a=Object.keys(e.params);if(a.length>0)if(a.every(function(r){return e.params[r]=="*"||(e.params[r]||"").toLowerCase()==(n.params[r]||"").toLowerCase()}))s|=1;else return null;return{i:t,o:e.i,q:e.q,s}}function Zc(i,e){var t=If(i===void 0?"*/*":i||"");if(!e)return t.filter($c).sort(Gc).map(Nf);var n=e.map(function(a,r){return Df(a,t,r)});return n.filter($c).sort(Gc).map(function(a){return e[n.indexOf(a)]})}function Gc(i,e){return e.q-i.q||e.s-i.s||i.o-e.o||i.i-e.i||0}function Nf(i){return i.type+"/"+i.subtype}function $c(i){return i.q>0}function Yc(i){for(var e=0,t=0;(t=i.indexOf('"',t))!==-1;)e++,t++;return e}function Lf(i){var e=i.indexOf("="),t,n;return e===-1?t=i:(t=i.substr(0,e),n=i.substr(e+1)),[t,n]}function Bf(i){for(var e=i.split(","),t=1,n=0;t<e.length;t++)Yc(e[n])%2==0?e[++n]=e[t]:e[n]+=","+e[t];return e.length=n+1,e}function Mf(i){for(var e=i.split(";"),t=1,n=0;t<e.length;t++)Yc(e[n])%2==0?e[++n]=e[t]:e[n]+=";"+e[t];e.length=n+1;for(var t=0;t<e.length;t++)e[t]=e[t].trim();return e}});var Xc=b((U0,ia)=>{"use strict";p();var Ff=Nc(),qf=qc(),Uf=Wc(),zf=Jc();ia.exports=R;ia.exports.Negotiator=R;function R(i){if(!(this instanceof R))return new R(i);this.request=i}R.prototype.charset=function(e){var t=this.charsets(e);return t&&t[0]};R.prototype.charsets=function(e){return Ff(this.request.headers["accept-charset"],e)};R.prototype.encoding=function(e){var t=this.encodings(e);return t&&t[0]};R.prototype.encodings=function(e){return qf(this.request.headers["accept-encoding"],e)};R.prototype.language=function(e){var t=this.languages(e);return t&&t[0]};R.prototype.languages=function(e){return Uf(this.request.headers["accept-language"],e)};R.prototype.mediaType=function(e){var t=this.mediaTypes(e);return t&&t[0]};R.prototype.mediaTypes=function(e){return zf(this.request.headers.accept,e)};R.prototype.preferredCharset=R.prototype.charset;R.prototype.preferredCharsets=R.prototype.charsets;R.prototype.preferredEncoding=R.prototype.encoding;R.prototype.preferredEncodings=R.prototype.encodings;R.prototype.preferredLanguage=R.prototype.language;R.prototype.preferredLanguages=R.prototype.languages;R.prototype.preferredMediaType=R.prototype.mediaType;R.prototype.preferredMediaTypes=R.prototype.mediaTypes});var Qc=b((V0,Vf)=>{Vf.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var tp=b((H0,ep)=>{p();ep.exports=Qc()});var sp=b(oe=>{"use strict";p();var an=tp(),Hf=require("path").extname,ip=/^\s*([^;\s]*)(?:;|\s|$)/,Wf=/^text\//i;oe.charset=np;oe.charsets={lookup:np};oe.contentType=Gf;oe.extension=$f;oe.extensions=Object.create(null);oe.lookup=Kf;oe.types=Object.create(null);Zf(oe.extensions,oe.types);function np(i){if(!i||typeof i!="string")return!1;var e=ip.exec(i),t=e&&an[e[1].toLowerCase()];return t&&t.charset?t.charset:e&&Wf.test(e[1])?"UTF-8":!1}function Gf(i){if(!i||typeof i!="string")return!1;var e=i.indexOf("/")===-1?oe.lookup(i):i;if(!e)return!1;if(e.indexOf("charset")===-1){var t=oe.charset(e);t&&(e+="; charset="+t.toLowerCase())}return e}function $f(i){if(!i||typeof i!="string")return!1;var e=ip.exec(i),t=e&&oe.extensions[e[1].toLowerCase()];return!t||!t.length?!1:t[0]}function Kf(i){if(!i||typeof i!="string")return!1;var e=Hf("x."+i).toLowerCase().substr(1);return e&&oe.types[e]||!1}function Zf(i,e){var t=["nginx","apache",void 0,"iana"];Object.keys(an).forEach(function(s){var a=an[s],r=a.extensions;if(!(!r||!r.length)){i[s]=r;for(var o=0;o<r.length;o++){var c=r[o];if(e[c]){var l=t.indexOf(an[e[c]].source),u=t.indexOf(a.source);if(e[c]!=="application/octet-stream"&&(l>u||l===u&&e[c].substr(0,12)==="application/"))continue}e[c]=s}}})}});var rn=b((K0,ap)=>{"use strict";p();var Yf=Xc(),Jf=sp();ap.exports=le;function le(i){if(!(this instanceof le))return new le(i);this.headers=i.headers,this.negotiator=new Yf(i)}le.prototype.type=le.prototype.types=function(i){var e=i;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var t=0;t<e.length;t++)e[t]=arguments[t]}if(!e||e.length===0)return this.negotiator.mediaTypes();if(!this.headers.accept)return e[0];var n=e.map(Xf),s=this.negotiator.mediaTypes(n.filter(Qf)),a=s[0];return a?e[n.indexOf(a)]:!1};le.prototype.encoding=le.prototype.encodings=function(i){var e=i;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var t=0;t<e.length;t++)e[t]=arguments[t]}return!e||e.length===0?this.negotiator.encodings():this.negotiator.encodings(e)[0]||!1};le.prototype.charset=le.prototype.charsets=function(i){var e=i;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var t=0;t<e.length;t++)e[t]=arguments[t]}return!e||e.length===0?this.negotiator.charsets():this.negotiator.charsets(e)[0]||!1};le.prototype.lang=le.prototype.langs=le.prototype.language=le.prototype.languages=function(i){var e=i;if(e&&!Array.isArray(e)){e=new Array(arguments.length);for(var t=0;t<e.length;t++)e[t]=arguments[t]}return!e||e.length===0?this.negotiator.languages():this.negotiator.languages(e)[0]||!1};function Xf(i){return i.indexOf("/")===-1?Jf.lookup(i):i}function Qf(i){return typeof i=="string"}});var sa=b((rp,op)=>{p();var Ci=require("crypto"),na=function(){};na.prototype.getRandomBytes=function(i){var e=4096,t=this;if(i=i||12,i>e)return Ci.randomBytes(i);var n=parseInt(e/i),s=parseInt(n*.85);if(!s||(this.bytesBufferIndex==null&&(this.bytesBufferIndex=-1),this.bytesBufferIndex==n&&(this.bytesBuffer=null,this.bytesBufferIndex=-1),(this.bytesBufferIndex==-1||this.bytesBufferIndex>s)&&(this.isGeneratingBytes||(this.isGeneratingBytes=!0,Ci.randomBytes(e,function(r,o){t.bytesBuffer=o,t.bytesBufferIndex=0,t.isGeneratingBytes=!1})),this.bytesBufferIndex==-1)))return Ci.randomBytes(i);var a=this.bytesBuffer.slice(i*this.bytesBufferIndex,i*(this.bytesBufferIndex+1));return this.bytesBufferIndex++,a};na.prototype.generateId=function(){var i=Buffer.alloc(15);return i.writeInt32BE?(this.sequenceNumber=this.sequenceNumber+1|0,i.writeInt32BE(this.sequenceNumber,11),Ci.randomBytes?this.getRandomBytes(12).copy(i):[0,4,8].forEach(function(e){i.writeInt32BE(Math.random()*Math.pow(2,32)|0,e)}),i.toString("base64").replace(/\//g,"_").replace(/\+/g,"-")):Math.abs(Math.random()*Math.random()*Date.now()|0).toString()+Math.abs(Math.random()*Math.random()*Date.now()|0).toString()};rp=op.exports=new na});var on=b(et=>{"use strict";p();Object.defineProperty(et,"__esModule",{value:!0});et.ERROR_PACKET=et.PACKET_TYPES_REVERSE=et.PACKET_TYPES=void 0;var Ie=Object.create(null);et.PACKET_TYPES=Ie;Ie.open="0";Ie.close="1";Ie.ping="2";Ie.pong="3";Ie.message="4";Ie.upgrade="5";Ie.noop="6";var cp=Object.create(null);et.PACKET_TYPES_REVERSE=cp;Object.keys(Ie).forEach(i=>{cp[Ie[i]]=i});var eh={type:"error",data:"parser error"};et.ERROR_PACKET=eh});var lp=b(Vt=>{"use strict";p();Object.defineProperty(Vt,"__esModule",{value:!0});Vt.encodePacket=void 0;Vt.encodePacketToBinary=nh;var th=on(),ih=({type:i,data:e},t,n)=>e instanceof ArrayBuffer||ArrayBuffer.isView(e)?n(t?e:"b"+pp(e,!0).toString("base64")):n(th.PACKET_TYPES[i]+(e||""));Vt.encodePacket=ih;var pp=(i,e)=>Buffer.isBuffer(i)||i instanceof Uint8Array&&!e?i:i instanceof ArrayBuffer?Buffer.from(i):Buffer.from(i.buffer,i.byteOffset,i.byteLength),aa;function nh(i,e){if(i.data instanceof ArrayBuffer||ArrayBuffer.isView(i.data))return e(pp(i.data,!1));(0,Vt.encodePacket)(i,!0,t=>{aa||(aa=new TextEncoder),e(aa.encode(t))})}});var dp=b(pn=>{"use strict";p();Object.defineProperty(pn,"__esModule",{value:!0});pn.decodePacket=void 0;var cn=on(),sh=(i,e)=>{if(typeof i!="string")return{type:"message",data:up(i,e)};let t=i.charAt(0);if(t==="b"){let n=Buffer.from(i.substring(1),"base64");return{type:"message",data:up(n,e)}}return cn.PACKET_TYPES_REVERSE[t]?i.length>1?{type:cn.PACKET_TYPES_REVERSE[t],data:i.substring(1)}:{type:cn.PACKET_TYPES_REVERSE[t]}:cn.ERROR_PACKET};pn.decodePacket=sh;var up=(i,e)=>{switch(e){case"arraybuffer":return i instanceof ArrayBuffer?i:Buffer.isBuffer(i)?i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength):i.buffer;case"nodebuffer":default:return Buffer.isBuffer(i)?i:Buffer.from(i)}}});var Oi=b(ce=>{"use strict";p();Object.defineProperty(ce,"__esModule",{value:!0});ce.decodePayload=ce.decodePacket=ce.encodePayload=ce.encodePacket=ce.protocol=void 0;ce.createPacketEncoderStream=oh;ce.createPacketDecoderStream=ch;var oa=lp();Object.defineProperty(ce,"encodePacket",{enumerable:!0,get:function(){return oa.encodePacket}});var ca=dp();Object.defineProperty(ce,"decodePacket",{enumerable:!0,get:function(){return ca.decodePacket}});var mp=on(),fp="",ah=(i,e)=>{let t=i.length,n=new Array(t),s=0;i.forEach((a,r)=>{(0,oa.encodePacket)(a,!1,o=>{n[r]=o,++s===t&&e(n.join(fp))})})};ce.encodePayload=ah;var rh=(i,e)=>{let t=i.split(fp),n=[];for(let s=0;s<t.length;s++){let a=(0,ca.decodePacket)(t[s],e);if(n.push(a),a.type==="error")break}return n};ce.decodePayload=rh;function oh(){return new TransformStream({transform(i,e){(0,oa.encodePacketToBinary)(i,t=>{let n=t.length,s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);let a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{s=new Uint8Array(9);let a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}i.data&&typeof i.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(t)})}})}var ra;function ln(i){return i.reduce((e,t)=>e+t.length,0)}function un(i,e){if(i[0].length===e)return i.shift();let t=new Uint8Array(e),n=0;for(let s=0;s<e;s++)t[s]=i[0][n++],n===i[0].length&&(i.shift(),n=0);return i.length&&n<i[0].length&&(i[0]=i[0].slice(n)),t}function ch(i,e){ra||(ra=new TextDecoder);let t=[],n=0,s=-1,a=!1;return new TransformStream({transform(r,o){for(t.push(r);;){if(n===0){if(ln(t)<1)break;let c=un(t,1);a=(c[0]&128)===128,s=c[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(ln(t)<2)break;let c=un(t,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(ln(t)<8)break;let c=un(t,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){o.enqueue(mp.ERROR_PACKET);break}s=u*Math.pow(2,32)+l.getUint32(4),n=3}else{if(ln(t)<s)break;let c=un(t,s);o.enqueue((0,ca.decodePacket)(a?c:ra.decode(c),e)),n=0}if(s===0||s>i){o.enqueue(mp.ERROR_PACKET);break}}}})}ce.protocol=4});var xp=b((aw,gp)=>{p();var tt=String.fromCharCode;function hp(i){for(var e=[],t=0,n=i.length,s,a;t<n;)s=i.charCodeAt(t++),s>=55296&&s<=56319&&t<n?(a=i.charCodeAt(t++),(a&64512)==56320?e.push(((s&1023)<<10)+(a&1023)+65536):(e.push(s),t--)):e.push(s);return e}function ph(i){for(var e=i.length,t=-1,n,s="";++t<e;)n=i[t],n>65535&&(n-=65536,s+=tt(n>>>10&1023|55296),n=56320|n&1023),s+=tt(n);return s}function vp(i,e){if(i>=55296&&i<=57343){if(e)throw Error("Lone surrogate U+"+i.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function pa(i,e){return tt(i>>e&63|128)}function lh(i,e){if((i&4294967168)==0)return tt(i);var t="";return(i&4294965248)==0?t=tt(i>>6&31|192):(i&4294901760)==0?(vp(i,e)||(i=65533),t=tt(i>>12&15|224),t+=pa(i,6)):(i&4292870144)==0&&(t=tt(i>>18&7|240),t+=pa(i,12),t+=pa(i,6)),t+=tt(i&63|128),t}function uh(i,e){e=e||{};for(var t=e.strict!==!1,n=hp(i),s=n.length,a=-1,r,o="";++a<s;)r=n[a],o+=lh(r,t);return o}function Ht(){if(it>=mn)throw Error("Invalid byte index");var i=dn[it]&255;if(it++,(i&192)==128)return i&63;throw Error("Invalid continuation byte")}function dh(i){var e,t,n,s,a;if(it>mn)throw Error("Invalid byte index");if(it==mn)return!1;if(e=dn[it]&255,it++,(e&128)==0)return e;if((e&224)==192){if(t=Ht(),a=(e&31)<<6|t,a>=128)return a;throw Error("Invalid continuation byte")}if((e&240)==224){if(t=Ht(),n=Ht(),a=(e&15)<<12|t<<6|n,a>=2048)return vp(a,i)?a:65533;throw Error("Invalid continuation byte")}if((e&248)==240&&(t=Ht(),n=Ht(),s=Ht(),a=(e&7)<<18|t<<12|n<<6|s,a>=65536&&a<=1114111))return a;throw Error("Invalid UTF-8 detected")}var dn,mn,it;function mh(i,e){e=e||{};var t=e.strict!==!1;dn=hp(i),mn=dn.length,it=0;for(var n=[],s;(s=dh(t))!==!1;)n.push(s);return ph(n)}gp.exports={version:"2.1.2",encode:uh,decode:mh}});var Tp=b(z=>{"use strict";p();Object.defineProperty(z,"__esModule",{value:!0});z.packets=z.protocol=void 0;z.encodePacket=la;z.encodeBase64Packet=wp;z.decodePacket=ua;z.decodeBase64Packet=_p;z.encodePayload=gh;z.decodePayload=bh;z.encodePayloadAsBinary=Ep;z.decodePayloadAsBinary=kp;var yp=xp();z.protocol=3;var fh=i=>{for(let e of i)if(e.data instanceof ArrayBuffer||ArrayBuffer.isView(e.data))return!0;return!1};z.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6};var Wt=Object.keys(z.packets),Te={type:"error",data:"parser error"},hh=Buffer.concat([]);function la(i,e,t,n){if(typeof e=="function"&&(n=e,e=null),typeof t=="function"&&(n=t,t=null),Buffer.isBuffer(i.data))return bp(i,e,n);if(i.data&&(i.data.buffer||i.data)instanceof ArrayBuffer)return bp({type:i.type,data:da(i.data)},e,n);var s=z.packets[i.type];return i.data!==void 0&&(s+=t?yp.encode(String(i.data),{strict:!1}):String(i.data)),n(""+s)}function bp(i,e,t){if(!e)return wp(i,t);var n=i.data,s=Buffer.allocUnsafe(1);return s[0]=z.packets[i.type],t(Buffer.concat([s,n]))}function wp(i,e){var t=Buffer.isBuffer(i.data)?i.data:da(i.data),n="b"+z.packets[i.type];return n+=t.toString("base64"),e(n)}function ua(i,e,t){if(i===void 0)return Te;var n;if(typeof i=="string")return n=i.charAt(0),n==="b"?_p(i.slice(1),e):t&&(i=vh(i),i===!1)||Number(n)!=n||!Wt[n]?Te:i.length>1?{type:Wt[n],data:i.slice(1)}:{type:Wt[n]};if(e==="arraybuffer"){var s=new Uint8Array(i);return n=s[0],{type:Wt[n],data:s.buffer.slice(1)}}return i instanceof ArrayBuffer&&(i=da(i)),n=i[0],{type:Wt[n],data:i.slice(1)}}function vh(i){try{i=yp.decode(i,{strict:!1})}catch{return!1}return i}function _p(i,e){var t=Wt[i.charAt(0)],n=Buffer.from(i.slice(1),"base64");if(e==="arraybuffer"){for(var s=new Uint8Array(n.length),a=0;a<s.length;a++)s[a]=n[a];n=s.buffer}return{type:t,data:n}}function gh(i,e,t){if(typeof e=="function"&&(t=e,e=null),e&&fh(i))return Ep(i,t);if(!i.length)return t("0:");function n(s,a){la(s,e,!1,function(r){a(null,xh(r))})}Sp(i,n,function(s,a){return t(a.join(""))})}function xh(i){return i.length+":"+i}function Sp(i,e,t){let n=new Array(i.length),s=0;for(let a=0;a<i.length;a++)e(i[a],(r,o)=>{n[a]=o,++s===i.length&&t(null,n)})}function bh(i,e,t){if(typeof i!="string")return kp(i,e,t);if(typeof e=="function"&&(t=e,e=null),i==="")return t(Te,0,1);for(var n="",s,a,r,o=0,c=i.length;o<c;o++){var l=i.charAt(o);if(l!==":"){n+=l;continue}if(n===""||n!=(s=Number(n))||(a=i.slice(o+1,o+1+s),n!=a.length))return t(Te,0,1);if(a.length){if(r=ua(a,e,!1),Te.type===r.type&&Te.data===r.data)return t(Te,0,1);var u=t(r,o+s,c);if(u===!1)return}o+=s,n=""}if(n!=="")return t(Te,0,1)}function yh(i){for(var e="",t=0,n=i.length;t<n;t++)e+=String.fromCharCode(i[t]);return e}function wh(i){for(var e=Buffer.allocUnsafe(i.length),t=0,n=i.length;t<n;t++)e.writeUInt8(i.charCodeAt(t),t);return e}function da(i){var e=i.byteLength||i.length,t=i.byteOffset||0;return Buffer.from(i.buffer||i,t,e)}function Ep(i,e){if(!i.length)return e(hh);Sp(i,_h,function(t,n){return e(Buffer.concat(n))})}function _h(i,e){function t(n){var s=""+n.length,a;if(typeof n=="string"){a=Buffer.allocUnsafe(s.length+2),a[0]=0;for(var r=0;r<s.length;r++)a[r+1]=parseInt(s[r],10);return a[a.length-1]=255,e(null,Buffer.concat([a,wh(n)]))}a=Buffer.allocUnsafe(s.length+2),a[0]=1;for(var r=0;r<s.length;r++)a[r+1]=parseInt(s[r],10);a[a.length-1]=255,e(null,Buffer.concat([a,n]))}la(i,!0,!0,t)}function kp(i,e,t){typeof e=="function"&&(t=e,e=null);for(var n=i,s=[],a;n.length>0;){var r="",o=n[0]===0;for(a=1;n[a]!==255;a++){if(r.length>310)return t(Te,0,1);r+=""+n[a]}n=n.slice(r.length+1);var c=parseInt(r,10),l=n.slice(1,c+1);o&&(l=yh(l)),s.push(l),n=n.slice(c+1)}var u=s.length;for(a=0;a<u;a++){var d=s[a];t(ua(d,e,!0),a,u)}}});var Op=b((pw,Cp)=>{p();var Gt=1e3,$t=Gt*60,Kt=$t*60,gt=Kt*24,Sh=gt*7,Eh=gt*365.25;Cp.exports=function(i,e){e=e||{};var t=typeof i;if(t==="string"&&i.length>0)return kh(i);if(t==="number"&&isFinite(i))return e.long?Ch(i):Th(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))};function kh(i){if(i=String(i),!(i.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(i);if(e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*Eh;case"weeks":case"week":case"w":return t*Sh;case"days":case"day":case"d":return t*gt;case"hours":case"hour":case"hrs":case"hr":case"h":return t*Kt;case"minutes":case"minute":case"mins":case"min":case"m":return t*$t;case"seconds":case"second":case"secs":case"sec":case"s":return t*Gt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function Th(i){var e=Math.abs(i);return e>=gt?Math.round(i/gt)+"d":e>=Kt?Math.round(i/Kt)+"h":e>=$t?Math.round(i/$t)+"m":e>=Gt?Math.round(i/Gt)+"s":i+"ms"}function Ch(i){var e=Math.abs(i);return e>=gt?fn(i,e,gt,"day"):e>=Kt?fn(i,e,Kt,"hour"):e>=$t?fn(i,e,$t,"minute"):e>=Gt?fn(i,e,Gt,"second"):i+" ms"}function fn(i,e,t,n){var s=e>=t*1.5;return Math.round(i/t)+" "+n+(s?"s":"")}});var ma=b((uw,Ap)=>{p();function Oh(i){t.debug=t,t.default=t,t.coerce=c,t.disable=a,t.enable=s,t.enabled=r,t.humanize=Op(),t.destroy=l,Object.keys(i).forEach(u=>{t[u]=i[u]}),t.names=[],t.skips=[],t.formatters={};function e(u){let d=0;for(let v=0;v<u.length;v++)d=(d<<5)-d+u.charCodeAt(v),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(u){let d,v=null,_,g;function h(...x){if(!h.enabled)return;let y=h,w=Number(new Date),A=w-(d||w);y.diff=A,y.prev=d,y.curr=w,d=w,x[0]=t.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let C=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(P,N)=>{if(P==="%%")return"%";C++;let K=t.formatters[N];if(typeof K=="function"){let D=x[C];P=K.call(y,D),x.splice(C,1),C--}return P}),t.formatArgs.call(y,x),(y.log||t.log).apply(y,x)}return h.namespace=u,h.useColors=t.useColors(),h.color=t.selectColor(u),h.extend=n,h.destroy=t.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(_!==t.namespaces&&(_=t.namespaces,g=t.enabled(u)),g),set:x=>{v=x}}),typeof t.init=="function"&&t.init(h),h}function n(u,d){let v=t(this.namespace+(typeof d>"u"?":":d)+u);return v.log=this.log,v}function s(u){t.save(u),t.namespaces=u,t.names=[],t.skips=[];let d,v=(typeof u=="string"?u:"").split(/[\s,]+/),_=v.length;for(d=0;d<_;d++)v[d]&&(u=v[d].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.slice(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function a(){let u=[...t.names.map(o),...t.skips.map(o).map(d=>"-"+d)].join(",");return t.enable(""),u}function r(u){if(u[u.length-1]==="*")return!0;let d,v;for(d=0,v=t.skips.length;d<v;d++)if(t.skips[d].test(u))return!1;for(d=0,v=t.names.length;d<v;d++)if(t.names[d].test(u))return!0;return!1}function o(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}Ap.exports=Oh});var Rp=b((ue,hn)=>{p();ue.formatArgs=Rh;ue.save=Ph;ue.load=Ih;ue.useColors=Ah;ue.storage=Dh();ue.destroy=(()=>{let i=!1;return()=>{i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ue.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Ah(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let i;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(i=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(i[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Rh(i){if(i[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+i[0]+(this.useColors?"%c ":" ")+"+"+hn.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;i.splice(1,0,e,"color: inherit");let t=0,n=0;i[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(t++,s==="%c"&&(n=t))}),i.splice(n,0,e)}ue.log=console.debug||console.log||(()=>{});function Ph(i){try{i?ue.storage.setItem("debug",i):ue.storage.removeItem("debug")}catch{}}function Ih(){let i;try{i=ue.storage.getItem("debug")}catch{}return!i&&typeof process<"u"&&"env"in process&&(i=process.env.DEBUG),i}function Dh(){try{return localStorage}catch{}}hn.exports=ma()(ue);var{formatters:jh}=hn.exports;jh.j=function(i){try{return JSON.stringify(i)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Ip=b((fw,Pp)=>{"use strict";p();Pp.exports=(i,e=process.argv)=>{let t=i.startsWith("-")?"":i.length===1?"-":"--",n=e.indexOf(t+i),s=e.indexOf("--");return n!==-1&&(s===-1||n<s)}});var Np=b((vw,jp)=>{"use strict";p();var Nh=require("os"),Dp=require("tty"),ve=Ip(),{env:V}=process,nt;ve("no-color")||ve("no-colors")||ve("color=false")||ve("color=never")?nt=0:(ve("color")||ve("colors")||ve("color=true")||ve("color=always"))&&(nt=1);"FORCE_COLOR"in V&&(V.FORCE_COLOR==="true"?nt=1:V.FORCE_COLOR==="false"?nt=0:nt=V.FORCE_COLOR.length===0?1:Math.min(parseInt(V.FORCE_COLOR,10),3));function fa(i){return i===0?!1:{level:i,hasBasic:!0,has256:i>=2,has16m:i>=3}}function ha(i,e){if(nt===0)return 0;if(ve("color=16m")||ve("color=full")||ve("color=truecolor"))return 3;if(ve("color=256"))return 2;if(i&&!e&&nt===void 0)return 0;let t=nt||0;if(V.TERM==="dumb")return t;if(process.platform==="win32"){let n=Nh.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in V)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in V)||V.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in V)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(V.TEAMCITY_VERSION)?1:0;if(V.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in V){let n=parseInt((V.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(V.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(V.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(V.TERM)||"COLORTERM"in V?1:t}function Lh(i){let e=ha(i,i&&i.isTTY);return fa(e)}jp.exports={supportsColor:Lh,stdout:fa(ha(!0,Dp.isatty(1))),stderr:fa(ha(!0,Dp.isatty(2)))}});var Bp=b((H,gn)=>{p();var Bh=require("tty"),vn=require("util");H.init=Hh;H.log=Uh;H.formatArgs=Fh;H.save=zh;H.load=Vh;H.useColors=Mh;H.destroy=vn.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");H.colors=[6,2,3,4,5,1];try{let i=Np();i&&(i.stderr||i).level>=2&&(H.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}H.inspectOpts=Object.keys(process.env).filter(i=>/^debug_/i.test(i)).reduce((i,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,a)=>a.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),i[t]=n,i},{});function Mh(){return"colors"in H.inspectOpts?!!H.inspectOpts.colors:Bh.isatty(process.stderr.fd)}function Fh(i){let{namespace:e,useColors:t}=this;if(t){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),a=`  ${s};1m${e} \x1B[0m`;i[0]=a+i[0].split(`
`).join(`
`+a),i.push(s+"m+"+gn.exports.humanize(this.diff)+"\x1B[0m")}else i[0]=qh()+e+" "+i[0]}function qh(){return H.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Uh(...i){return process.stderr.write(vn.formatWithOptions(H.inspectOpts,...i)+`
`)}function zh(i){i?process.env.DEBUG=i:delete process.env.DEBUG}function Vh(){return process.env.DEBUG}function Hh(i){i.inspectOpts={};let e=Object.keys(H.inspectOpts);for(let t=0;t<e.length;t++)i.inspectOpts[e[t]]=H.inspectOpts[e[t]]}gn.exports=ma()(H);var{formatters:Lp}=gn.exports;Lp.o=function(i){return this.inspectOpts.colors=this.useColors,vn.inspect(i,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Lp.O=function(i){return this.inspectOpts.colors=this.useColors,vn.inspect(i,this.inspectOpts)}});var W=b((bw,va)=>{p();typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?va.exports=Rp():va.exports=Bp()});var xt=b(xn=>{"use strict";p();Object.defineProperty(xn,"__esModule",{value:!0});xn.Transport=void 0;var Wh=require("events"),Gh=Oi(),$h=Tp(),Kh=W(),Mp=(0,Kh.default)("engine:transport");function Zh(){}var ga=class extends Wh.EventEmitter{get readyState(){return this._readyState}set readyState(e){Mp("readyState updated from %s to %s (%s)",this._readyState,e,this.name),this._readyState=e}constructor(e){super(),this.writable=!1,this._readyState="open",this.discarded=!1,this.protocol=e._query.EIO==="4"?4:3,this.parser=this.protocol===4?Gh:$h,this.supportsBinary=!(e._query&&e._query.b64)}discard(){this.discarded=!0}onRequest(e){}close(e){this.readyState==="closed"||this.readyState==="closing"||(this.readyState="closing",this.doClose(e||Zh))}onError(e,t){if(this.listeners("error").length){let n=new Error(e);n.type="TransportError",n.description=t,this.emit("error",n)}else Mp("ignored transport error %s (%s)",e,t)}onPacket(e){this.emit("packet",e)}onData(e){this.onPacket(this.parser.decodePacket(e))}onClose(){this.readyState="closed",this.emit("close")}};xn.Transport=ga});var ba=b(bn=>{"use strict";p();Object.defineProperty(bn,"__esModule",{value:!0});bn.Polling=void 0;var Yh=xt(),Fp=require("zlib"),Jh=rn(),Xh=W(),de=(0,Xh.default)("engine:polling"),Qh={gzip:Fp.createGzip,deflate:Fp.createDeflate},xa=class extends Yh.Transport{constructor(e){super(e),this.closeTimeout=30*1e3}get name(){return"polling"}onRequest(e){let t=e.res;e.res=null,e.method==="GET"?this.onPollRequest(e,t):e.method==="POST"?this.onDataRequest(e,t):(t.writeHead(500),t.end())}onPollRequest(e,t){if(this.req){de("request overlap"),this.onError("overlap from client"),t.writeHead(400),t.end();return}de("setting request"),this.req=e,this.res=t;let n=()=>{this.onError("poll connection closed prematurely")},s=()=>{e.removeListener("close",n),this.req=this.res=null};e.cleanup=s,e.on("close",n),this.writable=!0,this.emit("ready"),this.writable&&this.shouldClose&&(de("triggering empty send to append close packet"),this.send([{type:"noop"}]))}onDataRequest(e,t){if(this.dataReq){this.onError("data request overlap from client"),t.writeHead(400),t.end();return}let n=e.headers["content-type"]==="application/octet-stream";if(n&&this.protocol===4)return this.onError("invalid content");this.dataReq=e,this.dataRes=t;let s=n?Buffer.concat([]):"",a=()=>{e.removeListener("data",o),e.removeListener("end",c),e.removeListener("close",r),this.dataReq=this.dataRes=s=null},r=()=>{a(),this.onError("data request connection closed prematurely")},o=l=>{let u;n?(s=Buffer.concat([s,l]),u=s.length):(s+=l,u=Buffer.byteLength(s)),u>this.maxHttpBufferSize&&(t.writeHead(413).end(),a())},c=()=>{this.onData(s);let l={"Content-Type":"text/html","Content-Length":"2"};t.writeHead(200,this.headers(e,l)),t.end("ok"),a()};e.on("close",r),n||e.setEncoding("utf8"),e.on("data",o),e.on("end",c)}onData(e){de('received "%s"',e);let t=n=>{if(n.type==="close")return de("got xhr close packet"),this.onClose(),!1;this.onPacket(n)};this.protocol===3?this.parser.decodePayload(e,t):this.parser.decodePayload(e).forEach(t)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(e){this.writable=!1,this.shouldClose&&(de("appending close packet to payload"),e.push({type:"close"}),this.shouldClose(),this.shouldClose=null);let t=n=>{let s=e.some(a=>a.options&&a.options.compress);this.write(n,{compress:s})};this.protocol===3?this.parser.encodePayload(e,this.supportsBinary,t):this.parser.encodePayload(e,t)}write(e,t){de('writing "%s"',e),this.doWrite(e,t,()=>{this.req.cleanup(),this.emit("drain")})}doWrite(e,t,n){let s=typeof e=="string",r={"Content-Type":s?"text/plain; charset=UTF-8":"application/octet-stream"},o=u=>{r["Content-Length"]=typeof u=="string"?Buffer.byteLength(u):u.length,this.res.writeHead(200,this.headers(this.req,r)),this.res.end(u),n()};if(!this.httpCompression||!t.compress){o(e);return}if((s?Buffer.byteLength(e):e.length)<this.httpCompression.threshold){o(e);return}let l=Jh(this.req).encodings(["gzip","deflate"]);if(!l){o(e);return}this.compress(e,l,(u,d)=>{if(u){this.res.writeHead(500),this.res.end(),n(u);return}r["Content-Encoding"]=l,o(d)})}compress(e,t,n){de("compressing");let s=[],a=0;Qh[t](this.httpCompression).on("error",n).on("data",function(r){s.push(r),a+=r.length}).on("end",function(){n(null,Buffer.concat(s,a))}).end(e)}doClose(e){de("closing");let t;this.dataReq&&(de("aborting ongoing data request"),this.dataReq.destroy());let n=()=>{clearTimeout(t),e(),this.onClose()};this.writable?(de("transport writable - closing right away"),this.send([{type:"close"}]),n()):this.discarded?(de("transport discarded - closing right away"),n()):(de("transport not writable - buffering orderly close"),this.shouldClose=n,t=setTimeout(n,this.closeTimeout))}headers(e,t={}){let n=e.headers["user-agent"];return n&&(~n.indexOf(";MSIE")||~n.indexOf("Trident/"))&&(t["X-XSS-Protection"]="0"),t["cache-control"]="no-store",this.emit("headers",t,e),t}};bn.Polling=xa});var qp=b(yn=>{"use strict";p();Object.defineProperty(yn,"__esModule",{value:!0});yn.JSONP=void 0;var ev=ba(),tv=require("querystring"),iv=/\\\\n/g,nv=/(\\)?\\n/g,ya=class extends ev.Polling{constructor(e){super(e),this.head="___eio["+(e._query.j||"").replace(/[^0-9]/g,"")+"](",this.foot=");"}onData(e){e=tv.parse(e).d,typeof e=="string"&&(e=e.replace(nv,function(t,n){return n?t:`
`}),super.onData(e.replace(iv,"\\n")))}doWrite(e,t,n){let s=JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029");e=this.head+s+this.foot,super.doWrite(e,t,n)}};yn.JSONP=ya});var zp=b(wn=>{"use strict";p();Object.defineProperty(wn,"__esModule",{value:!0});wn.WebSocket=void 0;var sv=xt(),av=W(),Up=(0,av.default)("engine:ws"),wa=class extends sv.Transport{constructor(e){super(e),this._doSend=t=>{this.socket.send(t,this._onSent)},this._doSendLast=t=>{this.socket.send(t,this._onSentLast)},this._onSent=t=>{t&&this.onError("write error",t.stack)},this._onSentLast=t=>{t?this.onError("write error",t.stack):(this.emit("drain"),this.writable=!0,this.emit("ready"))},this.socket=e.websocket,this.socket.on("message",(t,n)=>{let s=n?t:t.toString();Up('received "%s"',s),super.onData(s)}),this.socket.once("close",this.onClose.bind(this)),this.socket.on("error",this.onError.bind(this)),this.writable=!0,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}send(e){this.writable=!1;for(let t=0;t<e.length;t++){let n=e[t],s=t+1===e.length;this._canSendPreEncodedFrame(n)?this.socket._sender.sendFrame(n.options.wsPreEncodedFrame,s?this._onSentLast:this._onSent):this.parser.encodePacket(n,this.supportsBinary,s?this._doSendLast:this._doSend)}}_canSendPreEncodedFrame(e){var t,n,s;return!this.perMessageDeflate&&typeof((n=(t=this.socket)===null||t===void 0?void 0:t._sender)===null||n===void 0?void 0:n.sendFrame)=="function"&&((s=e.options)===null||s===void 0?void 0:s.wsPreEncodedFrame)!==void 0}doClose(e){Up("closing"),this.socket.close(),e&&e()}};wn.WebSocket=wa});var Sa=b(_n=>{"use strict";p();Object.defineProperty(_n,"__esModule",{value:!0});_n.WebTransport=void 0;var rv=xt(),ov=W(),cv=Oi(),Zt=(0,ov.default)("engine:webtransport"),_a=class extends rv.Transport{constructor(e,t,n){super({_query:{EIO:"4"}}),this.session=e;let s=(0,cv.createPacketEncoderStream)();s.readable.pipeTo(t.writable).catch(()=>{Zt("the stream was closed")}),this.writer=s.writable.getWriter(),(async()=>{try{for(;;){let{value:a,done:r}=await n.read();if(r){Zt("session is closed");break}Zt("received chunk: %o",a),this.onPacket(a)}}catch(a){Zt("error while reading: %s",a.message)}})(),e.closed.then(()=>this.onClose()),this.writable=!0}get name(){return"webtransport"}async send(e){this.writable=!1;try{for(let t=0;t<e.length;t++){let n=e[t];await this.writer.write(n)}}catch(t){Zt("error while writing: %s",t.message)}this.emit("drain"),this.writable=!0,this.emit("ready")}doClose(e){Zt("closing WebTransport session"),this.session.close(),e&&e()}};_n.WebTransport=_a});var ka=b(Ea=>{"use strict";p();Object.defineProperty(Ea,"__esModule",{value:!0});var pv=ba(),lv=qp(),uv=zp(),dv=Sa();Ea.default={polling:Vp,websocket:uv.WebSocket,webtransport:dv.WebTransport};function Vp(i){return typeof i._query.j=="string"?new lv.JSONP(i):new pv.Polling(i)}Vp.upgradesTo=["websocket","webtransport"]});var Ca=b(Sn=>{"use strict";p();Object.defineProperty(Sn,"__esModule",{value:!0});Sn.Socket=void 0;var mv=require("events"),fv=W(),Fe=require("timers"),M=(0,fv.default)("engine:socket"),Ta=class extends mv.EventEmitter{get readyState(){return this._readyState}set readyState(e){M("readyState updated from %s to %s",this._readyState,e),this._readyState=e}constructor(e,t,n,s,a){super(),this._readyState="opening",this.upgrading=!1,this.upgraded=!1,this.writeBuffer=[],this.packetsFn=[],this.sentCallbackFn=[],this.cleanupFn=[],this.id=e,this.server=t,this.request=s,this.protocol=a,s&&(s.websocket&&s.websocket._socket?this.remoteAddress=s.websocket._socket.remoteAddress:this.remoteAddress=s.connection.remoteAddress),this.pingTimeoutTimer=null,this.pingIntervalTimer=null,this.setTransport(n),this.onOpen()}onOpen(){this.readyState="open",this.transport.sid=this.id,this.sendPacket("open",JSON.stringify({sid:this.id,upgrades:this.getAvailableUpgrades(),pingInterval:this.server.opts.pingInterval,pingTimeout:this.server.opts.pingTimeout,maxPayload:this.server.opts.maxHttpBufferSize})),this.server.opts.initialPacket&&this.sendPacket("message",this.server.opts.initialPacket),this.emit("open"),this.protocol===3?this.resetPingTimeout():this.schedulePing()}onPacket(e){if(this.readyState!=="open")return M("packet received with closed socket");switch(M(`received packet ${e.type}`),this.emit("packet",e),e.type){case"ping":if(this.transport.protocol!==3){this.onError(new Error("invalid heartbeat direction"));return}M("got ping"),this.pingTimeoutTimer.refresh(),this.sendPacket("pong"),this.emit("heartbeat");break;case"pong":if(this.transport.protocol===3){this.onError(new Error("invalid heartbeat direction"));return}M("got pong"),(0,Fe.clearTimeout)(this.pingTimeoutTimer),this.pingIntervalTimer.refresh(),this.emit("heartbeat");break;case"error":this.onClose("parse error");break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}}onError(e){M("transport error"),this.onClose("transport error",e)}schedulePing(){this.pingIntervalTimer=(0,Fe.setTimeout)(()=>{M("writing ping packet - expecting pong within %sms",this.server.opts.pingTimeout),this.sendPacket("ping"),this.resetPingTimeout()},this.server.opts.pingInterval)}resetPingTimeout(){(0,Fe.clearTimeout)(this.pingTimeoutTimer),this.pingTimeoutTimer=(0,Fe.setTimeout)(()=>{this.readyState!=="closed"&&this.onClose("ping timeout")},this.protocol===3?this.server.opts.pingInterval+this.server.opts.pingTimeout:this.server.opts.pingTimeout)}setTransport(e){let t=this.onError.bind(this),n=()=>this.flush(),s=this.onPacket.bind(this),a=this.onDrain.bind(this),r=this.onClose.bind(this,"transport close");this.transport=e,this.transport.once("error",t),this.transport.on("ready",n),this.transport.on("packet",s),this.transport.on("drain",a),this.transport.once("close",r),this.cleanupFn.push(function(){e.removeListener("error",t),e.removeListener("ready",n),e.removeListener("packet",s),e.removeListener("drain",a),e.removeListener("close",r)})}onDrain(){if(this.sentCallbackFn.length>0){M("executing batch send callback");let e=this.sentCallbackFn.shift();if(e)for(let t=0;t<e.length;t++)e[t](this.transport)}}_maybeUpgrade(e){M('might upgrade socket transport from "%s" to "%s"',this.transport.name,e.name),this.upgrading=!0;let t=(0,Fe.setTimeout)(()=>{M("client did not complete upgrade - closing transport"),r(),e.readyState==="open"&&e.close()},this.server.opts.upgradeTimeout),n,s=u=>{u.type==="ping"&&u.data==="probe"?(M("got probe ping packet, sending pong"),e.send([{type:"pong",data:"probe"}]),this.emit("upgrading",e),clearInterval(n),n=setInterval(a,100)):u.type==="upgrade"&&this.readyState!=="closed"?(M("got upgrade packet - upgrading"),r(),this.transport.discard(),this.upgraded=!0,this.clearTransport(),this.setTransport(e),this.emit("upgrade",e),this.flush(),this.readyState==="closing"&&e.close(()=>{this.onClose("forced close")})):(r(),e.close())},a=()=>{this.transport.name==="polling"&&this.transport.writable&&(M("writing a noop packet to polling for fast upgrade"),this.transport.send([{type:"noop"}]))},r=()=>{this.upgrading=!1,clearInterval(n),(0,Fe.clearTimeout)(t),e.removeListener("packet",s),e.removeListener("close",c),e.removeListener("error",o),this.removeListener("close",l)},o=u=>{M("client did not complete upgrade - %s",u),r(),e.close(),e=null},c=()=>{o("transport closed")},l=()=>{o("socket closed")};e.on("packet",s),e.once("close",c),e.once("error",o),this.once("close",l)}clearTransport(){let e,t=this.cleanupFn.length;for(let n=0;n<t;n++)e=this.cleanupFn.shift(),e();this.transport.on("error",function(){M("error triggered by discarded transport")}),this.transport.close(),(0,Fe.clearTimeout)(this.pingTimeoutTimer)}onClose(e,t){this.readyState!=="closed"&&(this.readyState="closed",(0,Fe.clearTimeout)(this.pingIntervalTimer),(0,Fe.clearTimeout)(this.pingTimeoutTimer),process.nextTick(()=>{this.writeBuffer=[]}),this.packetsFn=[],this.sentCallbackFn=[],this.clearTransport(),this.emit("close",e,t))}send(e,t,n){return this.sendPacket("message",e,t,n),this}write(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n={},s){if(typeof n=="function"&&(s=n,n={}),this.readyState!=="closing"&&this.readyState!=="closed"){M('sending packet "%s" (%s)',e,t),n.compress=n.compress!==!1;let a={type:e,options:n};t&&(a.data=t),this.emit("packetCreate",a),this.writeBuffer.push(a),typeof s=="function"&&this.packetsFn.push(s),this.flush()}}flush(){if(this.readyState!=="closed"&&this.transport.writable&&this.writeBuffer.length){M("flushing buffer to transport"),this.emit("flush",this.writeBuffer),this.server.emit("flush",this,this.writeBuffer);let e=this.writeBuffer;this.writeBuffer=[],this.packetsFn.length?(this.sentCallbackFn.push(this.packetsFn),this.packetsFn=[]):this.sentCallbackFn.push(null),this.transport.send(e),this.emit("drain"),this.server.emit("drain",this)}}getAvailableUpgrades(){let e=[],t=this.server.upgrades(this.transport.name);for(let n=0;n<t.length;++n){let s=t[n];this.server.opts.transports.indexOf(s)!==-1&&e.push(s)}return e}close(e){if(e&&(this.readyState==="open"||this.readyState==="closing"))return this.closeTransport(e);if(this.readyState==="open"){if(this.readyState="closing",this.writeBuffer.length){M("there are %d remaining packets in the buffer, waiting for the 'drain' event",this.writeBuffer.length),this.once("drain",()=>{M("all packets have been sent, closing the transport"),this.closeTransport(e)});return}M("the buffer is empty, closing the transport right away"),this.closeTransport(e)}}closeTransport(e){M("closing the transport (discard? %s)",!!e),e&&this.transport.discard(),this.transport.close(this.onClose.bind(this,"forced close"))}};Sn.Socket=Ta});var Gp=b(Oa=>{"use strict";p();Oa.parse=wv;Oa.serialize=_v;var hv=Object.prototype.toString,vv=Object.prototype.hasOwnProperty,gv=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,xv=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,bv=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,yv=/^[\u0020-\u003A\u003D-\u007E]*$/;function wv(i,e){if(typeof i!="string")throw new TypeError("argument str must be a string");var t={},n=i.length;if(n<2)return t;var s=e&&e.decode||Sv,a=0,r=0,o=0;do{if(r=i.indexOf("=",a),r===-1)break;if(o=i.indexOf(";",a),o===-1)o=n;else if(r>o){a=i.lastIndexOf(";",r-1)+1;continue}var c=Hp(i,a,r),l=Wp(i,r,c),u=i.slice(c,l);if(!vv.call(t,u)){var d=Hp(i,r+1,o),v=Wp(i,o,d);i.charCodeAt(d)===34&&i.charCodeAt(v-1)===34&&(d++,v--);var _=i.slice(d,v);t[u]=kv(_,s)}a=o+1}while(a<n);return t}function Hp(i,e,t){do{var n=i.charCodeAt(e);if(n!==32&&n!==9)return e}while(++e<t);return t}function Wp(i,e,t){for(;e>t;){var n=i.charCodeAt(--e);if(n!==32&&n!==9)return e+1}return t}function _v(i,e,t){var n=t&&t.encode||encodeURIComponent;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!gv.test(i))throw new TypeError("argument name is invalid");var s=n(e);if(!xv.test(s))throw new TypeError("argument val is invalid");var a=i+"="+s;if(!t)return a;if(t.maxAge!=null){var r=Math.floor(t.maxAge);if(!isFinite(r))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+r}if(t.domain){if(!bv.test(t.domain))throw new TypeError("option domain is invalid");a+="; Domain="+t.domain}if(t.path){if(!yv.test(t.path))throw new TypeError("option path is invalid");a+="; Path="+t.path}if(t.expires){var o=t.expires;if(!Ev(o)||isNaN(o.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+o.toUTCString()}if(t.httpOnly&&(a+="; HttpOnly"),t.secure&&(a+="; Secure"),t.partitioned&&(a+="; Partitioned"),t.priority){var c=typeof t.priority=="string"?t.priority.toLowerCase():t.priority;switch(c){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(t.sameSite){var l=typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function Sv(i){return i.indexOf("%")!==-1?decodeURIComponent(i):i}function Ev(i){return hv.call(i)==="[object Date]"}function kv(i,e){try{return e(i)}catch{return i}}});var st=b((Bw,$p)=>{"use strict";p();$p.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Ai=b((Fw,En)=>{"use strict";p();var{EMPTY_BUFFER:Tv}=st(),Aa=Buffer[Symbol.species];function Cv(i,e){if(i.length===0)return Tv;if(i.length===1)return i[0];let t=Buffer.allocUnsafe(e),n=0;for(let s=0;s<i.length;s++){let a=i[s];t.set(a,n),n+=a.length}return n<e?new Aa(t.buffer,t.byteOffset,n):t}function Kp(i,e,t,n,s){for(let a=0;a<s;a++)t[n+a]=i[a]^e[a&3]}function Zp(i,e){for(let t=0;t<i.length;t++)i[t]^=e[t&3]}function Ov(i){return i.length===i.buffer.byteLength?i.buffer:i.buffer.slice(i.byteOffset,i.byteOffset+i.length)}function Ra(i){if(Ra.readOnly=!0,Buffer.isBuffer(i))return i;let e;return i instanceof ArrayBuffer?e=new Aa(i):ArrayBuffer.isView(i)?e=new Aa(i.buffer,i.byteOffset,i.byteLength):(e=Buffer.from(i),Ra.readOnly=!1),e}En.exports={concat:Cv,mask:Kp,toArrayBuffer:Ov,toBuffer:Ra,unmask:Zp};if(!process.env.WS_NO_BUFFER_UTIL)try{let i=require("bufferutil");En.exports.mask=function(e,t,n,s,a){a<48?Kp(e,t,n,s,a):i.mask(e,t,n,s,a)},En.exports.unmask=function(e,t){e.length<32?Zp(e,t):i.unmask(e,t)}}catch{}});var Xp=b((Uw,Jp)=>{"use strict";p();var Yp=Symbol("kDone"),Pa=Symbol("kRun"),Ia=class{constructor(e){this[Yp]=()=>{this.pending--,this[Pa]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Pa]()}[Pa](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[Yp])}}};Jp.exports=Ia});var Ii=b((Vw,il)=>{"use strict";p();var Ri=require("zlib"),Qp=Ai(),Av=Xp(),{kStatusCode:el}=st(),Rv=Buffer[Symbol.species],Pv=Buffer.from([0,0,255,255]),Cn=Symbol("permessage-deflate"),qe=Symbol("total-length"),Pi=Symbol("callback"),at=Symbol("buffers"),Tn=Symbol("error"),kn,Da=class{constructor(e,t,n){if(this._maxPayload=n|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!kn){let s=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;kn=new Av(s)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Pi];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,n=e.find(s=>!(t.serverNoContextTakeover===!1&&s.server_no_context_takeover||s.server_max_window_bits&&(t.serverMaxWindowBits===!1||typeof t.serverMaxWindowBits=="number"&&t.serverMaxWindowBits>s.server_max_window_bits)||typeof t.clientMaxWindowBits=="number"&&!s.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof t.serverMaxWindowBits=="number"&&(n.server_max_window_bits=t.serverMaxWindowBits),typeof t.clientMaxWindowBits=="number"?n.client_max_window_bits=t.clientMaxWindowBits:(n.client_max_window_bits===!0||t.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(e){let t=e[0];if(this._options.clientNoContextTakeover===!1&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!t.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(t.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return t}normalizeParams(e){return e.forEach(t=>{Object.keys(t).forEach(n=>{let s=t[n];if(s.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(s=s[0],n==="client_max_window_bits"){if(s!==!0){let a=+s;if(!Number.isInteger(a)||a<8||a>15)throw new TypeError(`Invalid value for parameter "${n}": ${s}`);s=a}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${s}`)}else if(n==="server_max_window_bits"){let a=+s;if(!Number.isInteger(a)||a<8||a>15)throw new TypeError(`Invalid value for parameter "${n}": ${s}`);s=a}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(s!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${s}`)}else throw new Error(`Unknown parameter "${n}"`);t[n]=s})}),e}decompress(e,t,n){kn.add(s=>{this._decompress(e,t,(a,r)=>{s(),n(a,r)})})}compress(e,t,n){kn.add(s=>{this._compress(e,t,(a,r)=>{s(),n(a,r)})})}_decompress(e,t,n){let s=this._isServer?"client":"server";if(!this._inflate){let a=`${s}_max_window_bits`,r=typeof this.params[a]!="number"?Ri.Z_DEFAULT_WINDOWBITS:this.params[a];this._inflate=Ri.createInflateRaw({...this._options.zlibInflateOptions,windowBits:r}),this._inflate[Cn]=this,this._inflate[qe]=0,this._inflate[at]=[],this._inflate.on("error",Dv),this._inflate.on("data",tl)}this._inflate[Pi]=n,this._inflate.write(e),t&&this._inflate.write(Pv),this._inflate.flush(()=>{let a=this._inflate[Tn];if(a){this._inflate.close(),this._inflate=null,n(a);return}let r=Qp.concat(this._inflate[at],this._inflate[qe]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[qe]=0,this._inflate[at]=[],t&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),n(null,r)})}_compress(e,t,n){let s=this._isServer?"server":"client";if(!this._deflate){let a=`${s}_max_window_bits`,r=typeof this.params[a]!="number"?Ri.Z_DEFAULT_WINDOWBITS:this.params[a];this._deflate=Ri.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:r}),this._deflate[qe]=0,this._deflate[at]=[],this._deflate.on("data",Iv)}this._deflate[Pi]=n,this._deflate.write(e),this._deflate.flush(Ri.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let a=Qp.concat(this._deflate[at],this._deflate[qe]);t&&(a=new Rv(a.buffer,a.byteOffset,a.length-4)),this._deflate[Pi]=null,this._deflate[qe]=0,this._deflate[at]=[],t&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),n(null,a)})}};il.exports=Da;function Iv(i){this[at].push(i),this[qe]+=i.length}function tl(i){if(this[qe]+=i.length,this[Cn]._maxPayload<1||this[qe]<=this[Cn]._maxPayload){this[at].push(i);return}this[Tn]=new RangeError("Max payload size exceeded"),this[Tn].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Tn][el]=1009,this.removeListener("data",tl),this.reset()}function Dv(i){this[Cn]._inflate=null,i[el]=1007,this[Pi](i)}});var Di=b((Ww,On)=>{"use strict";p();var{isUtf8:nl}=require("buffer"),jv=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Nv(i){return i>=1e3&&i<=1014&&i!==1004&&i!==1005&&i!==1006||i>=3e3&&i<=4999}function ja(i){let e=i.length,t=0;for(;t<e;)if((i[t]&128)===0)t++;else if((i[t]&224)===192){if(t+1===e||(i[t+1]&192)!==128||(i[t]&254)===192)return!1;t+=2}else if((i[t]&240)===224){if(t+2>=e||(i[t+1]&192)!==128||(i[t+2]&192)!==128||i[t]===224&&(i[t+1]&224)===128||i[t]===237&&(i[t+1]&224)===160)return!1;t+=3}else if((i[t]&248)===240){if(t+3>=e||(i[t+1]&192)!==128||(i[t+2]&192)!==128||(i[t+3]&192)!==128||i[t]===240&&(i[t+1]&240)===128||i[t]===244&&i[t+1]>143||i[t]>244)return!1;t+=4}else return!1;return!0}On.exports={isValidStatusCode:Nv,isValidUTF8:ja,tokenChars:jv};if(nl)On.exports.isValidUTF8=function(i){return i.length<24?ja(i):nl(i)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let i=require("utf-8-validate");On.exports.isValidUTF8=function(e){return e.length<32?ja(e):i(e)}}catch{}});var Fa=b(($w,ll)=>{"use strict";p();var{Writable:Lv}=require("stream"),sl=Ii(),{BINARY_TYPES:Bv,EMPTY_BUFFER:al,kStatusCode:Mv,kWebSocket:Fv}=st(),{concat:Na,toArrayBuffer:qv,unmask:Uv}=Ai(),{isValidStatusCode:zv,isValidUTF8:rl}=Di(),An=Buffer[Symbol.species],ge=0,ol=1,cl=2,pl=3,La=4,Ba=5,Rn=6,Ma=class extends Lv{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||Bv[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[Fv]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=ge}_write(e,t,n){if(this._opcode===8&&this._state==ge)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new An(n.buffer,n.byteOffset+e,n.length-e),new An(n.buffer,n.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let n=this._buffers[0],s=t.length-e;e>=n.length?t.set(this._buffers.shift(),s):(t.set(new Uint8Array(n.buffer,n.byteOffset,e),s),this._buffers[0]=new An(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case ge:this.getInfo(e);break;case ol:this.getPayloadLength16(e);break;case cl:this.getPayloadLength64(e);break;case pl:this.getMask();break;case La:this.getData(e);break;case Ba:case Rn:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((t[0]&48)!==0){let s=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(s);return}let n=(t[0]&64)===64;if(n&&!this._extensions[sl.extensionName]){let s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(s);return}if(this._fin=(t[0]&128)===128,this._opcode=t[0]&15,this._payloadLength=t[1]&127,this._opcode===0){if(n){let s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(s);return}if(!this._fragmented){let s=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(s);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let s=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(s);return}this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let s=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(s);return}if(n){let s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(s);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let s=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(s);return}}else{let s=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(s);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(t[1]&128)===128,this._isServer){if(!this._masked){let s=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(s);return}}else if(this._masked){let s=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(s);return}this._payloadLength===126?this._state=ol:this._payloadLength===127?this._state=cl:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),n=t.readUInt32BE(0);if(n>Math.pow(2,21)-1){let s=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(s);return}this._payloadLength=n*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let t=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(t);return}this._masked?this._state=pl:this._state=La}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=La}getData(e){let t=al;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&Uv(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=Ba,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[sl.extensionName].decompress(e,this._fin,(s,a)=>{if(s)return t(s);if(a.length){if(this._messageLength+=a.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let r=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");t(r);return}this._fragments.push(a)}this.dataMessage(t),this._state===ge&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=ge;return}let t=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let s;this._binaryType==="nodebuffer"?s=Na(n,t):this._binaryType==="arraybuffer"?s=qv(Na(n,t)):s=n,this._allowSynchronousEvents?(this.emit("message",s,!0),this._state=ge):(this._state=Rn,setImmediate(()=>{this.emit("message",s,!0),this._state=ge,this.startLoop(e)}))}else{let s=Na(n,t);if(!this._skipUTF8Validation&&!rl(s)){let a=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(a);return}this._state===Ba||this._allowSynchronousEvents?(this.emit("message",s,!1),this._state=ge):(this._state=Rn,setImmediate(()=>{this.emit("message",s,!1),this._state=ge,this.startLoop(e)}))}}controlMessage(e,t){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,al),this.end();else{let n=e.readUInt16BE(0);if(!zv(n)){let a=this.createError(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");t(a);return}let s=new An(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!rl(s)){let a=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");t(a);return}this._loop=!1,this.emit("conclude",n,s),this.end()}this._state=ge;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=ge):(this._state=Rn,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=ge,this.startLoop(t)}))}createError(e,t,n,s,a){this._loop=!1,this._errored=!0;let r=new e(n?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(r,this.createError),r.code=a,r[Mv]=s,r}};ll.exports=Ma});var Ua=b((Yw,ml)=>{"use strict";p();var{Duplex:Zw}=require("stream"),{randomFillSync:Vv}=require("crypto"),ul=Ii(),{EMPTY_BUFFER:Hv}=st(),{isValidStatusCode:Wv}=Di(),{mask:dl,toBuffer:Yt}=Ai(),Ce=Symbol("kByteLength"),Gv=Buffer.alloc(4),Pn=8*1024,bt,Jt=Pn,qa=class i{constructor(e,t,n){this._extensions=t||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let n,s=!1,a=2,r=!1;t.mask&&(n=t.maskBuffer||Gv,t.generateMask?t.generateMask(n):(Jt===Pn&&(bt===void 0&&(bt=Buffer.alloc(Pn)),Vv(bt,0,Pn),Jt=0),n[0]=bt[Jt++],n[1]=bt[Jt++],n[2]=bt[Jt++],n[3]=bt[Jt++]),r=(n[0]|n[1]|n[2]|n[3])===0,a=6);let o;typeof e=="string"?(!t.mask||r)&&t[Ce]!==void 0?o=t[Ce]:(e=Buffer.from(e),o=e.length):(o=e.length,s=t.mask&&t.readOnly&&!r);let c=o;o>=65536?(a+=8,c=127):o>125&&(a+=2,c=126);let l=Buffer.allocUnsafe(s?o+a:a);return l[0]=t.fin?t.opcode|128:t.opcode,t.rsv1&&(l[0]|=64),l[1]=c,c===126?l.writeUInt16BE(o,2):c===127&&(l[2]=l[3]=0,l.writeUIntBE(o,4,6)),t.mask?(l[1]|=128,l[a-4]=n[0],l[a-3]=n[1],l[a-2]=n[2],l[a-1]=n[3],r?[l,e]:s?(dl(e,n,l,a,o),[l]):(dl(e,n,e,0,o),[l,e])):[l,e]}close(e,t,n,s){let a;if(e===void 0)a=Hv;else{if(typeof e!="number"||!Wv(e))throw new TypeError("First argument must be a valid error code number");if(t===void 0||!t.length)a=Buffer.allocUnsafe(2),a.writeUInt16BE(e,0);else{let o=Buffer.byteLength(t);if(o>123)throw new RangeError("The message must not be greater than 123 bytes");a=Buffer.allocUnsafe(2+o),a.writeUInt16BE(e,0),typeof t=="string"?a.write(t,2):a.set(t,2)}}let r={[Ce]:a.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,a,!1,r,s]):this.sendFrame(i.frame(a,r),s)}ping(e,t,n){let s,a;if(typeof e=="string"?(s=Buffer.byteLength(e),a=!1):(e=Yt(e),s=e.length,a=Yt.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let r={[Ce]:s,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:a,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,r,n]):this.sendFrame(i.frame(e,r),n)}pong(e,t,n){let s,a;if(typeof e=="string"?(s=Buffer.byteLength(e),a=!1):(e=Yt(e),s=e.length,a=Yt.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let r={[Ce]:s,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:a,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,r,n]):this.sendFrame(i.frame(e,r),n)}send(e,t,n){let s=this._extensions[ul.extensionName],a=t.binary?2:1,r=t.compress,o,c;if(typeof e=="string"?(o=Buffer.byteLength(e),c=!1):(e=Yt(e),o=e.length,c=Yt.readOnly),this._firstFragment?(this._firstFragment=!1,r&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(r=o>=s._threshold),this._compress=r):(r=!1,a=0),t.fin&&(this._firstFragment=!0),s){let l={[Ce]:o,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:c,rsv1:r};this._deflating?this.enqueue([this.dispatch,e,this._compress,l,n]):this.dispatch(e,this._compress,l,n)}else this.sendFrame(i.frame(e,{[Ce]:o,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:c,rsv1:!1}),n)}dispatch(e,t,n,s){if(!t){this.sendFrame(i.frame(e,n),s);return}let a=this._extensions[ul.extensionName];this._bufferedBytes+=n[Ce],this._deflating=!0,a.compress(e,n.fin,(r,o)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");typeof s=="function"&&s(c);for(let l=0;l<this._queue.length;l++){let u=this._queue[l],d=u[u.length-1];typeof d=="function"&&d(c)}return}this._bufferedBytes-=n[Ce],this._deflating=!1,n.readOnly=!1,this.sendFrame(i.frame(o,n),s),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Ce],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Ce],this._queue.push(e)}sendFrame(e,t){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}};ml.exports=qa});var _l=b((Xw,wl)=>{"use strict";p();var{kForOnEventAttribute:ji,kListener:za}=st(),fl=Symbol("kCode"),hl=Symbol("kData"),vl=Symbol("kError"),gl=Symbol("kMessage"),xl=Symbol("kReason"),Xt=Symbol("kTarget"),bl=Symbol("kType"),yl=Symbol("kWasClean"),Ue=class{constructor(e){this[Xt]=null,this[bl]=e}get target(){return this[Xt]}get type(){return this[bl]}};Object.defineProperty(Ue.prototype,"target",{enumerable:!0});Object.defineProperty(Ue.prototype,"type",{enumerable:!0});var yt=class extends Ue{constructor(e,t={}){super(e),this[fl]=t.code===void 0?0:t.code,this[xl]=t.reason===void 0?"":t.reason,this[yl]=t.wasClean===void 0?!1:t.wasClean}get code(){return this[fl]}get reason(){return this[xl]}get wasClean(){return this[yl]}};Object.defineProperty(yt.prototype,"code",{enumerable:!0});Object.defineProperty(yt.prototype,"reason",{enumerable:!0});Object.defineProperty(yt.prototype,"wasClean",{enumerable:!0});var Qt=class extends Ue{constructor(e,t={}){super(e),this[vl]=t.error===void 0?null:t.error,this[gl]=t.message===void 0?"":t.message}get error(){return this[vl]}get message(){return this[gl]}};Object.defineProperty(Qt.prototype,"error",{enumerable:!0});Object.defineProperty(Qt.prototype,"message",{enumerable:!0});var Ni=class extends Ue{constructor(e,t={}){super(e),this[hl]=t.data===void 0?null:t.data}get data(){return this[hl]}};Object.defineProperty(Ni.prototype,"data",{enumerable:!0});var $v={addEventListener(i,e,t={}){for(let s of this.listeners(i))if(!t[ji]&&s[za]===e&&!s[ji])return;let n;if(i==="message")n=function(a,r){let o=new Ni("message",{data:r?a:a.toString()});o[Xt]=this,In(e,this,o)};else if(i==="close")n=function(a,r){let o=new yt("close",{code:a,reason:r.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});o[Xt]=this,In(e,this,o)};else if(i==="error")n=function(a){let r=new Qt("error",{error:a,message:a.message});r[Xt]=this,In(e,this,r)};else if(i==="open")n=function(){let a=new Ue("open");a[Xt]=this,In(e,this,a)};else return;n[ji]=!!t[ji],n[za]=e,t.once?this.once(i,n):this.on(i,n)},removeEventListener(i,e){for(let t of this.listeners(i))if(t[za]===e&&!t[ji]){this.removeListener(i,t);break}}};wl.exports={CloseEvent:yt,ErrorEvent:Qt,Event:Ue,EventTarget:$v,MessageEvent:Ni};function In(i,e,t){typeof i=="object"&&i.handleEvent?i.handleEvent.call(i,t):i.call(e,t)}});var Va=b((e_,Sl)=>{"use strict";p();var{tokenChars:Li}=Di();function De(i,e,t){i[e]===void 0?i[e]=[t]:i[e].push(t)}function Kv(i){let e=Object.create(null),t=Object.create(null),n=!1,s=!1,a=!1,r,o,c=-1,l=-1,u=-1,d=0;for(;d<i.length;d++)if(l=i.charCodeAt(d),r===void 0)if(u===-1&&Li[l]===1)c===-1&&(c=d);else if(d!==0&&(l===32||l===9))u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let _=i.slice(c,u);l===44?(De(e,_,t),t=Object.create(null)):r=_,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(o===void 0)if(u===-1&&Li[l]===1)c===-1&&(c=d);else if(l===32||l===9)u===-1&&c!==-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d),De(t,i.slice(c,u),!0),l===44&&(De(e,r,t),t=Object.create(null),r=void 0),c=u=-1}else if(l===61&&c!==-1&&u===-1)o=i.slice(c,d),c=u=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(s){if(Li[l]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);c===-1?c=d:n||(n=!0),s=!1}else if(a)if(Li[l]===1)c===-1&&(c=d);else if(l===34&&c!==-1)a=!1,u=d;else if(l===92)s=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(l===34&&i.charCodeAt(d-1)===61)a=!0;else if(u===-1&&Li[l]===1)c===-1&&(c=d);else if(c!==-1&&(l===32||l===9))u===-1&&(u=d);else if(l===59||l===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let _=i.slice(c,u);n&&(_=_.replace(/\\/g,""),n=!1),De(t,o,_),l===44&&(De(e,r,t),t=Object.create(null),r=void 0),o=void 0,c=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(c===-1||a||l===32||l===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=d);let v=i.slice(c,u);return r===void 0?De(e,v,t):(o===void 0?De(t,v,!0):n?De(t,o,v.replace(/\\/g,"")):De(t,o,v),De(e,r,t)),e}function Zv(i){return Object.keys(i).map(e=>{let t=i[e];return Array.isArray(t)||(t=[t]),t.map(n=>[e].concat(Object.keys(n).map(s=>{let a=n[s];return Array.isArray(a)||(a=[a]),a.map(r=>r===!0?s:`${s}=${r}`).join("; ")})).join("; ")).join(", ")}).join(", ")}Sl.exports={format:Zv,parse:Kv}});var Ka=b((s_,jl)=>{"use strict";p();var Yv=require("events"),Jv=require("https"),Xv=require("http"),Tl=require("net"),Qv=require("tls"),{randomBytes:eg,createHash:tg}=require("crypto"),{Duplex:i_,Readable:n_}=require("stream"),{URL:Ha}=require("url"),rt=Ii(),ig=Fa(),ng=Ua(),{BINARY_TYPES:El,EMPTY_BUFFER:Dn,GUID:sg,kForOnEventAttribute:Wa,kListener:ag,kStatusCode:rg,kWebSocket:X,NOOP:Cl}=st(),{EventTarget:{addEventListener:og,removeEventListener:cg}}=_l(),{format:pg,parse:lg}=Va(),{toBuffer:ug}=Ai(),dg=30*1e3,Ol=Symbol("kAborted"),Ga=[8,13],ze=["CONNECTING","OPEN","CLOSING","CLOSED"],mg=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,F=class i extends Yv{constructor(e,t,n){super(),this._binaryType=El[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Dn,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=i.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,t===void 0?t=[]:Array.isArray(t)||(typeof t=="object"&&t!==null?(n=t,t=[]):t=[t]),Al(this,e,t,n)):(this._autoPong=n.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){El.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,n){let s=new ig({allowSynchronousEvents:n.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new ng(e,this._extensions,n.generateMask),this._receiver=s,this._socket=e,s[X]=this,e[X]=this,s.on("conclude",vg),s.on("drain",gg),s.on("error",xg),s.on("message",bg),s.on("ping",yg),s.on("pong",wg),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",Pl),e.on("data",Nn),e.on("end",Il),e.on("error",Dl),this._readyState=i.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=i.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[rt.extensionName]&&this._extensions[rt.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=i.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==i.CLOSED){if(this.readyState===i.CONNECTING){me(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===i.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=i.CLOSING,this._sender.close(e,t,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),dg)}}pause(){this.readyState===i.CONNECTING||this.readyState===i.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,t,n){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=t=void 0):typeof t=="function"&&(n=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){$a(this,e,n);return}t===void 0&&(t=!this._isServer),this._sender.ping(e||Dn,t,n)}pong(e,t,n){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=t=void 0):typeof t=="function"&&(n=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){$a(this,e,n);return}t===void 0&&(t=!this._isServer),this._sender.pong(e||Dn,t,n)}resume(){this.readyState===i.CONNECTING||this.readyState===i.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,n){if(this.readyState===i.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"&&(n=t,t={}),typeof e=="number"&&(e=e.toString()),this.readyState!==i.OPEN){$a(this,e,n);return}let s={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[rt.extensionName]||(s.compress=!1),this._sender.send(e||Dn,s,n)}terminate(){if(this.readyState!==i.CLOSED){if(this.readyState===i.CONNECTING){me(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=i.CLOSING,this._socket.destroy())}}};Object.defineProperty(F,"CONNECTING",{enumerable:!0,value:ze.indexOf("CONNECTING")});Object.defineProperty(F.prototype,"CONNECTING",{enumerable:!0,value:ze.indexOf("CONNECTING")});Object.defineProperty(F,"OPEN",{enumerable:!0,value:ze.indexOf("OPEN")});Object.defineProperty(F.prototype,"OPEN",{enumerable:!0,value:ze.indexOf("OPEN")});Object.defineProperty(F,"CLOSING",{enumerable:!0,value:ze.indexOf("CLOSING")});Object.defineProperty(F.prototype,"CLOSING",{enumerable:!0,value:ze.indexOf("CLOSING")});Object.defineProperty(F,"CLOSED",{enumerable:!0,value:ze.indexOf("CLOSED")});Object.defineProperty(F.prototype,"CLOSED",{enumerable:!0,value:ze.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(i=>{Object.defineProperty(F.prototype,i,{enumerable:!0})});["open","error","close","message"].forEach(i=>{Object.defineProperty(F.prototype,`on${i}`,{enumerable:!0,get(){for(let e of this.listeners(i))if(e[Wa])return e[ag];return null},set(e){for(let t of this.listeners(i))if(t[Wa]){this.removeListener(i,t);break}typeof e=="function"&&this.addEventListener(i,e,{[Wa]:!0})}})});F.prototype.addEventListener=og;F.prototype.removeEventListener=cg;jl.exports=F;function Al(i,e,t,n){let s={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:Ga[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(i._autoPong=s.autoPong,!Ga.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${Ga.join(", ")})`);let a;if(e instanceof Ha)a=e;else try{a=new Ha(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}a.protocol==="http:"?a.protocol="ws:":a.protocol==="https:"&&(a.protocol="wss:"),i._url=a.href;let r=a.protocol==="wss:",o=a.protocol==="ws+unix:",c;if(a.protocol!=="ws:"&&!r&&!o?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:o&&!a.pathname?c="The URL's pathname is empty":a.hash&&(c="The URL contains a fragment identifier"),c){let h=new SyntaxError(c);if(i._redirects===0)throw h;jn(i,h);return}let l=r?443:80,u=eg(16).toString("base64"),d=r?Jv.request:Xv.request,v=new Set,_;if(s.createConnection=s.createConnection||(r?hg:fg),s.defaultPort=s.defaultPort||l,s.port=a.port||l,s.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname,s.headers={...s.headers,"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},s.path=a.pathname+a.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(_=new rt(s.perMessageDeflate!==!0?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=pg({[rt.extensionName]:_.offer()})),t.length){for(let h of t){if(typeof h!="string"||!mg.test(h)||v.has(h))throw new SyntaxError("An invalid or duplicated subprotocol was specified");v.add(h)}s.headers["Sec-WebSocket-Protocol"]=t.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(a.username||a.password)&&(s.auth=`${a.username}:${a.password}`),o){let h=s.path.split(":");s.socketPath=h[0],s.path=h[1]}let g;if(s.followRedirects){if(i._redirects===0){i._originalIpc=o,i._originalSecure=r,i._originalHostOrSocketPath=o?s.socketPath:a.host;let h=n&&n.headers;if(n={...n,headers:{}},h)for(let[x,y]of Object.entries(h))n.headers[x.toLowerCase()]=y}else if(i.listenerCount("redirect")===0){let h=o?i._originalIpc?s.socketPath===i._originalHostOrSocketPath:!1:i._originalIpc?!1:a.host===i._originalHostOrSocketPath;(!h||i._originalSecure&&!r)&&(delete s.headers.authorization,delete s.headers.cookie,h||delete s.headers.host,s.auth=void 0)}s.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64")),g=i._req=d(s),i._redirects&&i.emit("redirect",i.url,g)}else g=i._req=d(s);s.timeout&&g.on("timeout",()=>{me(i,g,"Opening handshake has timed out")}),g.on("error",h=>{g===null||g[Ol]||(g=i._req=null,jn(i,h))}),g.on("response",h=>{let x=h.headers.location,y=h.statusCode;if(x&&s.followRedirects&&y>=300&&y<400){if(++i._redirects>s.maxRedirects){me(i,g,"Maximum redirects exceeded");return}g.abort();let w;try{w=new Ha(x,e)}catch{let C=new SyntaxError(`Invalid URL: ${x}`);jn(i,C);return}Al(i,w,t,n)}else i.emit("unexpected-response",g,h)||me(i,g,`Unexpected server response: ${h.statusCode}`)}),g.on("upgrade",(h,x,y)=>{if(i.emit("upgrade",h),i.readyState!==F.CONNECTING)return;g=i._req=null;let w=h.headers.upgrade;if(w===void 0||w.toLowerCase()!=="websocket"){me(i,x,"Invalid Upgrade header");return}let A=tg("sha1").update(u+sg).digest("base64");if(h.headers["sec-websocket-accept"]!==A){me(i,x,"Invalid Sec-WebSocket-Accept header");return}let C=h.headers["sec-websocket-protocol"],j;if(C!==void 0?v.size?v.has(C)||(j="Server sent an invalid subprotocol"):j="Server sent a subprotocol but none was requested":v.size&&(j="Server sent no subprotocol"),j){me(i,x,j);return}C&&(i._protocol=C);let P=h.headers["sec-websocket-extensions"];if(P!==void 0){if(!_){me(i,x,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let N;try{N=lg(P)}catch{me(i,x,"Invalid Sec-WebSocket-Extensions header");return}let K=Object.keys(N);if(K.length!==1||K[0]!==rt.extensionName){me(i,x,"Server indicated an extension that was not requested");return}try{_.accept(N[rt.extensionName])}catch{me(i,x,"Invalid Sec-WebSocket-Extensions header");return}i._extensions[rt.extensionName]=_}i.setSocket(x,y,{allowSynchronousEvents:s.allowSynchronousEvents,generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})}),s.finishRequest?s.finishRequest(g,i):g.end()}function jn(i,e){i._readyState=F.CLOSING,i.emit("error",e),i.emitClose()}function fg(i){return i.path=i.socketPath,Tl.connect(i)}function hg(i){return i.path=void 0,!i.servername&&i.servername!==""&&(i.servername=Tl.isIP(i.host)?"":i.host),Qv.connect(i)}function me(i,e,t){i._readyState=F.CLOSING;let n=new Error(t);Error.captureStackTrace(n,me),e.setHeader?(e[Ol]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(jn,i,n)):(e.destroy(n),e.once("error",i.emit.bind(i,"error")),e.once("close",i.emitClose.bind(i)))}function $a(i,e,t){if(e){let n=ug(e).length;i._socket?i._sender._bufferedBytes+=n:i._bufferedAmount+=n}if(t){let n=new Error(`WebSocket is not open: readyState ${i.readyState} (${ze[i.readyState]})`);process.nextTick(t,n)}}function vg(i,e){let t=this[X];t._closeFrameReceived=!0,t._closeMessage=e,t._closeCode=i,t._socket[X]!==void 0&&(t._socket.removeListener("data",Nn),process.nextTick(Rl,t._socket),i===1005?t.close():t.close(i,e))}function gg(){let i=this[X];i.isPaused||i._socket.resume()}function xg(i){let e=this[X];e._socket[X]!==void 0&&(e._socket.removeListener("data",Nn),process.nextTick(Rl,e._socket),e.close(i[rg])),e.emit("error",i)}function kl(){this[X].emitClose()}function bg(i,e){this[X].emit("message",i,e)}function yg(i){let e=this[X];e._autoPong&&e.pong(i,!this._isServer,Cl),e.emit("ping",i)}function wg(i){this[X].emit("pong",i)}function Rl(i){i.resume()}function Pl(){let i=this[X];this.removeListener("close",Pl),this.removeListener("data",Nn),this.removeListener("end",Il),i._readyState=F.CLOSING;let e;!this._readableState.endEmitted&&!i._closeFrameReceived&&!i._receiver._writableState.errorEmitted&&(e=i._socket.read())!==null&&i._receiver.write(e),i._receiver.end(),this[X]=void 0,clearTimeout(i._closeTimer),i._receiver._writableState.finished||i._receiver._writableState.errorEmitted?i.emitClose():(i._receiver.on("error",kl),i._receiver.on("finish",kl))}function Nn(i){this[X]._receiver.write(i)||this.pause()}function Il(){let i=this[X];i._readyState=F.CLOSING,i._receiver.end(),this.end()}function Dl(){let i=this[X];this.removeListener("error",Dl),this.on("error",Cl),i&&(i._readyState=F.CLOSING,this.destroy())}});var Ml=b((r_,Bl)=>{"use strict";p();var{Duplex:_g}=require("stream");function Nl(i){i.emit("close")}function Sg(){!this.destroyed&&this._writableState.finished&&this.destroy()}function Ll(i){this.removeListener("error",Ll),this.destroy(),this.listenerCount("error")===0&&this.emit("error",i)}function Eg(i,e){let t=!0,n=new _g({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return i.on("message",function(a,r){let o=!r&&n._readableState.objectMode?a.toString():a;n.push(o)||i.pause()}),i.once("error",function(a){n.destroyed||(t=!1,n.destroy(a))}),i.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(s,a){if(i.readyState===i.CLOSED){a(s),process.nextTick(Nl,n);return}let r=!1;i.once("error",function(c){r=!0,a(c)}),i.once("close",function(){r||a(s),process.nextTick(Nl,n)}),t&&i.terminate()},n._final=function(s){if(i.readyState===i.CONNECTING){i.once("open",function(){n._final(s)});return}i._socket!==null&&(i._socket._writableState.finished?(s(),n._readableState.endEmitted&&n.destroy()):(i._socket.once("finish",function(){s()}),i.close()))},n._read=function(){i.isPaused&&i.resume()},n._write=function(s,a,r){if(i.readyState===i.CONNECTING){i.once("open",function(){n._write(s,a,r)});return}i.send(s,r)},n.on("end",Sg),n.on("error",Ll),n}Bl.exports=Eg});var ql=b((c_,Fl)=>{"use strict";p();var{tokenChars:kg}=Di();function Tg(i){let e=new Set,t=-1,n=-1,s=0;for(s;s<i.length;s++){let r=i.charCodeAt(s);if(n===-1&&kg[r]===1)t===-1&&(t=s);else if(s!==0&&(r===32||r===9))n===-1&&t!==-1&&(n=s);else if(r===44){if(t===-1)throw new SyntaxError(`Unexpected character at index ${s}`);n===-1&&(n=s);let o=i.slice(t,n);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);e.add(o),t=n=-1}else throw new SyntaxError(`Unexpected character at index ${s}`)}if(t===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let a=i.slice(t,s);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);return e.add(a),e}Fl.exports={parse:Tg}});var $l=b((u_,Gl)=>{"use strict";p();var Cg=require("events"),Ln=require("http"),{Duplex:l_}=require("stream"),{createHash:Og}=require("crypto"),Ul=Va(),wt=Ii(),Ag=ql(),Rg=Ka(),{GUID:Pg,kWebSocket:Ig}=st(),Dg=/^[+/0-9A-Za-z]{22}==$/,zl=0,Vl=1,Wl=2,Za=class extends Cg{constructor(e,t){if(super(),e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:Rg,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=Ln.createServer((n,s)=>{let a=Ln.STATUS_CODES[426];s.writeHead(426,{"Content-Length":a.length,"Content-Type":"text/plain"}),s.end(a)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=jg(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(s,a,r)=>{this.handleUpgrade(s,a,r,n)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=zl}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===Wl){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(Bi,this);return}if(e&&this.once("close",e),this._state!==Vl)if(this._state=Vl,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Bi,this):process.nextTick(Bi,this);else{let t=this._server;this._removeListeners(),this._removeListeners=this._server=null,t.close(()=>{Bi(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((t!==-1?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,n,s){t.on("error",Hl);let a=e.headers["sec-websocket-key"],r=e.headers.upgrade,o=+e.headers["sec-websocket-version"];if(e.method!=="GET"){_t(this,e,t,405,"Invalid HTTP method");return}if(r===void 0||r.toLowerCase()!=="websocket"){_t(this,e,t,400,"Invalid Upgrade header");return}if(a===void 0||!Dg.test(a)){_t(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(o!==8&&o!==13){_t(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){Mi(t,400);return}let c=e.headers["sec-websocket-protocol"],l=new Set;if(c!==void 0)try{l=Ag.parse(c)}catch{_t(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&u!==void 0){let v=new wt(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let _=Ul.parse(u);_[wt.extensionName]&&(v.accept(_[wt.extensionName]),d[wt.extensionName]=v)}catch{_t(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let v={origin:e.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(v,(_,g,h,x)=>{if(!_)return Mi(t,g||401,h,x);this.completeUpgrade(d,a,l,e,t,n,s)});return}if(!this.options.verifyClient(v))return Mi(t,401)}this.completeUpgrade(d,a,l,e,t,n,s)}completeUpgrade(e,t,n,s,a,r,o){if(!a.readable||!a.writable)return a.destroy();if(a[Ig])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>zl)return Mi(a,503);let l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Og("sha1").update(t+Pg).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(n.size){let d=this.options.handleProtocols?this.options.handleProtocols(n,s):n.values().next().value;d&&(l.push(`Sec-WebSocket-Protocol: ${d}`),u._protocol=d)}if(e[wt.extensionName]){let d=e[wt.extensionName].params,v=Ul.format({[wt.extensionName]:[d]});l.push(`Sec-WebSocket-Extensions: ${v}`),u._extensions=e}this.emit("headers",l,s),a.write(l.concat(`\r
`).join(`\r
`)),a.removeListener("error",Hl),u.setSocket(a,r,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Bi,this)})),o(u,s)}};Gl.exports=Za;function jg(i,e){for(let t of Object.keys(e))i.on(t,e[t]);return function(){for(let n of Object.keys(e))i.removeListener(n,e[n])}}function Bi(i){i._state=Wl,i.emit("close")}function Hl(){this.destroy()}function Mi(i,e,t,n){t=t||Ln.STATUS_CODES[e],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(t),...n},i.once("finish",i.destroy),i.end(`HTTP/1.1 ${e} ${Ln.STATUS_CODES[e]}\r
`+Object.keys(n).map(s=>`${s}: ${n[s]}`).join(`\r
`)+`\r
\r
`+t)}function _t(i,e,t,n,s){if(i.listenerCount("wsClientError")){let a=new Error(s);Error.captureStackTrace(a,_t),i.emit("wsClientError",a,t,e)}else Mi(t,n,s)}});var Ya=b((m_,Kl)=>{"use strict";p();var Ve=Ka();Ve.createWebSocketStream=Ml();Ve.Server=$l();Ve.Receiver=Fa();Ve.Sender=Ua();Ve.WebSocket=Ve;Ve.WebSocketServer=Ve.Server;Kl.exports=Ve});var Jl=b((h_,Yl)=>{"use strict";p();var Zl=Object.getOwnPropertySymbols,Ng=Object.prototype.hasOwnProperty,Lg=Object.prototype.propertyIsEnumerable;function Bg(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function Mg(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var e={},t=0;t<10;t++)e["_"+String.fromCharCode(t)]=t;var n=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(n.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(a){s[a]=a}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Yl.exports=Mg()?Object.assign:function(i,e){for(var t,n=Bg(i),s,a=1;a<arguments.length;a++){t=Object(arguments[a]);for(var r in t)Ng.call(t,r)&&(n[r]=t[r]);if(Zl){s=Zl(t);for(var o=0;o<s.length;o++)Lg.call(t,s[o])&&(n[s[o]]=t[s[o]])}}return n}});var eu=b((g_,Ja)=>{"use strict";p();Ja.exports=qg;Ja.exports.append=Ql;var Fg=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function Ql(i,e){if(typeof i!="string")throw new TypeError("header argument is required");if(!e)throw new TypeError("field argument is required");for(var t=Array.isArray(e)?e:Xl(String(e)),n=0;n<t.length;n++)if(!Fg.test(t[n]))throw new TypeError("field argument contains an invalid header name");if(i==="*")return i;var s=i,a=Xl(i.toLowerCase());if(t.indexOf("*")!==-1||a.indexOf("*")!==-1)return"*";for(var r=0;r<t.length;r++){var o=t[r].toLowerCase();a.indexOf(o)===-1&&(a.push(o),s=s?s+", "+t[r]:t[r])}return s}function Xl(i){for(var e=0,t=[],n=0,s=0,a=i.length;s<a;s++)switch(i.charCodeAt(s)){case 32:n===e&&(n=e=s+1);break;case 44:t.push(i.substring(n,e)),n=e=s+1;break;default:e=s+1;break}return t.push(i.substring(n,e)),t}function qg(i,e){if(!i||!i.getHeader||!i.setHeader)throw new TypeError("res argument is required");var t=i.getHeader("Vary")||"",n=Array.isArray(t)?t.join(", "):String(t);(t=Ql(n,e))&&i.setHeader("Vary",t)}});var Xa=b((b_,tu)=>{p();(function(){"use strict";var i=Jl(),e=eu(),t={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function n(g){return typeof g=="string"||g instanceof String}function s(g,h){if(Array.isArray(h)){for(var x=0;x<h.length;++x)if(s(g,h[x]))return!0;return!1}else return n(h)?g===h:h instanceof RegExp?h.test(g):!!h}function a(g,h){var x=h.headers.origin,y=[],w;return!g.origin||g.origin==="*"?y.push([{key:"Access-Control-Allow-Origin",value:"*"}]):n(g.origin)?(y.push([{key:"Access-Control-Allow-Origin",value:g.origin}]),y.push([{key:"Vary",value:"Origin"}])):(w=s(x,g.origin),y.push([{key:"Access-Control-Allow-Origin",value:w?x:!1}]),y.push([{key:"Vary",value:"Origin"}])),y}function r(g){var h=g.methods;return h.join&&(h=g.methods.join(",")),{key:"Access-Control-Allow-Methods",value:h}}function o(g){return g.credentials===!0?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function c(g,h){var x=g.allowedHeaders||g.headers,y=[];return x?x.join&&(x=x.join(",")):(x=h.headers["access-control-request-headers"],y.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),x&&x.length&&y.push([{key:"Access-Control-Allow-Headers",value:x}]),y}function l(g){var h=g.exposedHeaders;if(h)h.join&&(h=h.join(","));else return null;return h&&h.length?{key:"Access-Control-Expose-Headers",value:h}:null}function u(g){var h=(typeof g.maxAge=="number"||g.maxAge)&&g.maxAge.toString();return h&&h.length?{key:"Access-Control-Max-Age",value:h}:null}function d(g,h){for(var x=0,y=g.length;x<y;x++){var w=g[x];w&&(Array.isArray(w)?d(w,h):w.key==="Vary"&&w.value?e(h,w.value):w.value&&h.setHeader(w.key,w.value))}}function v(g,h,x,y){var w=[],A=h.method&&h.method.toUpperCase&&h.method.toUpperCase();A==="OPTIONS"?(w.push(a(g,h)),w.push(o(g,h)),w.push(r(g,h)),w.push(c(g,h)),w.push(u(g,h)),w.push(l(g,h)),d(w,x),g.preflightContinue?y():(x.statusCode=g.optionsSuccessStatus,x.setHeader("Content-Length","0"),x.end())):(w.push(a(g,h)),w.push(o(g,h)),w.push(l(g,h)),d(w,x),y())}function _(g){var h=null;return typeof g=="function"?h=g:h=function(x,y){y(null,g)},function(y,w,A){h(y,function(C,j){if(C)A(C);else{var P=i({},t,j),N=null;P.origin&&typeof P.origin=="function"?N=P.origin:P.origin&&(N=function(K,D){D(null,P.origin)}),N?N(y.headers.origin,function(K,D){K||!D?A(K):(P.origin=D,v(P,y,w,A))}):A()}})}}tu.exports=_})()});var er=b(ii=>{"use strict";p();Object.defineProperty(ii,"__esModule",{value:!0});ii.Server=ii.BaseServer=void 0;var Ug=require("querystring"),zg=require("url"),iu=sa(),Bn=ka(),Vg=require("events"),nu=Ca(),Hg=W(),Wg=Gp(),Gg=Ya(),su=Sa(),$g=Oi(),T=(0,Hg.default)("engine"),ei=Symbol("responseHeaders");function Kg(i){try{let e=JSON.parse(i);if(typeof e.sid=="string")return e.sid}catch{}}var ti=class extends Vg.EventEmitter{constructor(e={}){super(),this.middlewares=[],this.clients={},this.clientsCount=0,this.opts=Object.assign({wsEngine:Gg.Server,pingTimeout:2e4,pingInterval:25e3,upgradeTimeout:1e4,maxHttpBufferSize:1e6,transports:["polling","websocket"],allowUpgrades:!0,httpCompression:{threshold:1024},cors:!1,allowEIO3:!1},e),e.cookie&&(this.opts.cookie=Object.assign({name:"io",path:"/",httpOnly:e.cookie.path!==!1,sameSite:"lax"},e.cookie)),this.opts.cors&&this.use(Xa()(this.opts.cors)),e.perMessageDeflate&&(this.opts.perMessageDeflate=Object.assign({threshold:1024},e.perMessageDeflate)),this.init()}_computePath(e){let t=(e.path||"/engine.io").replace(/\/$/,"");return e.addTrailingSlash!==!1&&(t+="/"),t}upgrades(e){return this.opts.allowUpgrades?Bn.default[e].upgradesTo||[]:[]}verify(e,t,n){let s=e._query.transport;if(!~this.opts.transports.indexOf(s)||s==="webtransport")return T('unknown transport "%s"',s),n(I.errors.UNKNOWN_TRANSPORT,{transport:s});if(Zg(e.headers.origin)){let o=e.headers.origin;return e.headers.origin=null,T("origin header invalid"),n(I.errors.BAD_REQUEST,{name:"INVALID_ORIGIN",origin:o})}let r=e._query.sid;if(r){if(!this.clients.hasOwnProperty(r))return T('unknown sid "%s"',r),n(I.errors.UNKNOWN_SID,{sid:r});let o=this.clients[r].transport.name;if(!t&&o!==s)return T("bad request: unexpected transport without upgrade"),n(I.errors.BAD_REQUEST,{name:"TRANSPORT_MISMATCH",transport:s,previousTransport:o})}else return e.method!=="GET"?n(I.errors.BAD_HANDSHAKE_METHOD,{method:e.method}):s==="websocket"&&!t?(T("invalid transport upgrade"),n(I.errors.BAD_REQUEST,{name:"TRANSPORT_HANDSHAKE_ERROR"})):this.opts.allowRequest?this.opts.allowRequest(e,(o,c)=>{if(!c)return n(I.errors.FORBIDDEN,{message:o});n()}):n();n()}use(e){this.middlewares.push(e)}_applyMiddlewares(e,t,n){if(this.middlewares.length===0)return T("no middleware to apply, skipping"),n();let s=a=>{T("applying middleware n\xB0%d",a+1),this.middlewares[a](e,t,r=>{if(r)return n(r);a+1<this.middlewares.length?s(a+1):n()})};s(0)}close(){T("closing all open clients");for(let e in this.clients)this.clients.hasOwnProperty(e)&&this.clients[e].close(!0);return this.cleanup(),this}generateId(e){return iu.generateId()}async handshake(e,t,n){let s=t._query.EIO==="4"?4:3;if(s===3&&!this.opts.allowEIO3){T("unsupported protocol version"),this.emit("connection_error",{req:t,code:I.errors.UNSUPPORTED_PROTOCOL_VERSION,message:I.errorMessages[I.errors.UNSUPPORTED_PROTOCOL_VERSION],context:{protocol:s}}),n(I.errors.UNSUPPORTED_PROTOCOL_VERSION);return}let a;try{a=await this.generateId(t)}catch(c){T("error while generating an id"),this.emit("connection_error",{req:t,code:I.errors.BAD_REQUEST,message:I.errorMessages[I.errors.BAD_REQUEST],context:{name:"ID_GENERATION_ERROR",error:c}}),n(I.errors.BAD_REQUEST);return}T('handshaking client "%s"',a);try{var r=this.createTransport(e,t);e==="polling"?(r.maxHttpBufferSize=this.opts.maxHttpBufferSize,r.httpCompression=this.opts.httpCompression):e==="websocket"&&(r.perMessageDeflate=this.opts.perMessageDeflate)}catch(c){T('error handshaking to transport "%s"',e),this.emit("connection_error",{req:t,code:I.errors.BAD_REQUEST,message:I.errorMessages[I.errors.BAD_REQUEST],context:{name:"TRANSPORT_HANDSHAKE_ERROR",error:c}}),n(I.errors.BAD_REQUEST);return}let o=new nu.Socket(a,this,r,t,s);return r.on("headers",(c,l)=>{!l._query.sid&&(this.opts.cookie&&(c["Set-Cookie"]=[(0,Wg.serialize)(this.opts.cookie.name,a,this.opts.cookie)]),this.emit("initial_headers",c,l)),this.emit("headers",c,l)}),r.onRequest(t),this.clients[a]=o,this.clientsCount++,o.once("close",()=>{delete this.clients[a],this.clientsCount--}),this.emit("connection",o),r}async onWebTransportSession(e){let t=setTimeout(()=>{T("the client failed to establish a bidirectional stream in the given period"),e.close()},this.opts.upgradeTimeout),s=await e.incomingBidirectionalStreams.getReader().read();if(s.done){T("session is closed");return}let a=s.value,r=(0,$g.createPacketDecoderStream)(this.opts.maxHttpBufferSize,"nodebuffer"),o=a.readable.pipeThrough(r).getReader(),{value:c,done:l}=await o.read();if(l){T("stream is closed");return}if(clearTimeout(t),c.type!=="open")return T("invalid WebTransport handshake"),e.close();if(c.data===void 0){let v=new su.WebTransport(e,a,o),_=iu.generateId();T('handshaking client "%s" (WebTransport)',_);let g=new nu.Socket(_,this,v,null,4);this.clients[_]=g,this.clientsCount++,g.once("close",()=>{delete this.clients[_],this.clientsCount--}),this.emit("connection",g);return}let u=Kg(c.data);if(!u)return T("invalid WebTransport handshake"),e.close();let d=this.clients[u];if(!d)T("upgrade attempt for closed client"),e.close();else if(d.upgrading)T("transport has already been trying to upgrade"),e.close();else if(d.upgraded)T("transport had already been upgraded"),e.close();else{T("upgrading existing transport");let v=new su.WebTransport(e,a,o);d._maybeUpgrade(v)}}};ii.BaseServer=ti;ti.errors={UNKNOWN_TRANSPORT:0,UNKNOWN_SID:1,BAD_HANDSHAKE_METHOD:2,BAD_REQUEST:3,FORBIDDEN:4,UNSUPPORTED_PROTOCOL_VERSION:5};ti.errorMessages={0:"Transport unknown",1:"Session ID unknown",2:"Bad handshake method",3:"Bad request",4:"Forbidden",5:"Unsupported protocol version"};var Qa=class{constructor(e,t){this.req=e,this.socket=t,e[ei]={}}setHeader(e,t){this.req[ei][e]=t}getHeader(e){return this.req[ei][e]}removeHeader(e){delete this.req[ei][e]}write(){}writeHead(){}end(){this.socket.destroy()}},I=class i extends ti{init(){~this.opts.transports.indexOf("websocket")&&(this.ws&&this.ws.close(),this.ws=new this.opts.wsEngine({noServer:!0,clientTracking:!1,perMessageDeflate:this.opts.perMessageDeflate,maxPayload:this.opts.maxHttpBufferSize}),typeof this.ws.on=="function"&&this.ws.on("headers",(e,t)=>{let n=t[ei]||{};delete t[ei],!t._query.sid&&this.emit("initial_headers",n,t),this.emit("headers",n,t),T("writing headers: %j",n),Object.keys(n).forEach(a=>{e.push(`${a}: ${n[a]}`)})}))}cleanup(){this.ws&&(T("closing webSocketServer"),this.ws.close())}prepare(e){e._query||(e._query=~e.url.indexOf("?")?Ug.parse((0,zg.parse)(e.url).query):{})}createTransport(e,t){return new Bn.default[e](t)}handleRequest(e,t){T('handling "%s" http request "%s"',e.method,e.url),this.prepare(e),e.res=t;let n=(s,a)=>{if(s!==void 0){this.emit("connection_error",{req:e,code:s,message:i.errorMessages[s],context:a}),au(t,s,a);return}if(e._query.sid)T("setting new request for existing client"),this.clients[e._query.sid].transport.onRequest(e);else{let r=(o,c)=>au(t,o,c);this.handshake(e._query.transport,e,r)}};this._applyMiddlewares(e,t,s=>{s?n(i.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(e,!1,n)})}handleUpgrade(e,t,n){this.prepare(e);let s=new Qa(e,t),a=(r,o)=>{if(r!==void 0){this.emit("connection_error",{req:e,code:r,message:i.errorMessages[r],context:o}),ru(t,r,o);return}let c=Buffer.from(n);n=null,s.writeHead(),this.ws.handleUpgrade(e,t,c,l=>{this.onWebSocket(e,t,l)})};this._applyMiddlewares(e,s,r=>{r?a(i.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(e,!0,a)})}onWebSocket(e,t,n){if(n.on("error",a),Bn.default[e._query.transport]!==void 0&&!Bn.default[e._query.transport].prototype.handlesUpgrades){T("transport doesnt handle upgraded requests"),n.close();return}let s=e._query.sid;if(e.websocket=n,s){let r=this.clients[s];if(!r)T("upgrade attempt for closed client"),n.close();else if(r.upgrading)T("transport has already been trying to upgrade"),n.close();else if(r.upgraded)T("transport had already been upgraded"),n.close();else{T("upgrading existing transport"),n.removeListener("error",a);let o=this.createTransport(e._query.transport,e);o.perMessageDeflate=this.opts.perMessageDeflate,r._maybeUpgrade(o)}}else{let r=(o,c)=>ru(t,o,c);this.handshake(e._query.transport,e,r)}function a(){T("websocket error before upgrade")}}attach(e,t={}){let n=this._computePath(t),s=t.destroyUpgradeTimeout||1e3;function a(o){return n===o.url.slice(0,n.length)}let r=e.listeners("request").slice(0);e.removeAllListeners("request"),e.on("close",this.close.bind(this)),e.on("listening",this.init.bind(this)),e.on("request",(o,c)=>{if(a(o))T('intercepting request for path "%s"',n),this.handleRequest(o,c);else{let l=0,u=r.length;for(;l<u;l++)r[l].call(e,o,c)}}),~this.opts.transports.indexOf("websocket")&&e.on("upgrade",(o,c,l)=>{a(o)?this.handleUpgrade(o,c,l):t.destroyUpgrade!==!1&&setTimeout(function(){if(c.writable&&c.bytesWritten<=0)return c.on("error",u=>{T("error while destroying upgrade: %s",u.message)}),c.end()},s)})}};ii.Server=I;function au(i,e,t){let n=e===I.errors.FORBIDDEN?403:400,s=t&&t.message?t.message:I.errorMessages[e];i.writeHead(n,{"Content-Type":"application/json"}),i.end(JSON.stringify({code:e,message:s}))}function ru(i,e,t={}){if(i.on("error",()=>{T("ignoring error from closed connection")}),i.writable){let n=t.message||I.errorMessages[e],s=Buffer.byteLength(n);i.write(`HTTP/1.1 400 Bad Request\r
Connection: close\r
Content-type: text/html\r
Content-Length: `+s+`\r
\r
`+n)}i.destroy()}var Fi=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];function Zg(i){if(i+="",i.length<1)return!1;if(!Fi[i.charCodeAt(0)])return T('invalid header, index 0, char "%s"',i.charCodeAt(0)),!0;if(i.length<2)return!1;if(!Fi[i.charCodeAt(1)])return T('invalid header, index 1, char "%s"',i.charCodeAt(1)),!0;if(i.length<3)return!1;if(!Fi[i.charCodeAt(2)])return T('invalid header, index 2, char "%s"',i.charCodeAt(2)),!0;if(i.length<4)return!1;if(!Fi[i.charCodeAt(3)])return T('invalid header, index 3, char "%s"',i.charCodeAt(3)),!0;for(let e=4;e<i.length;++e)if(!Fi[i.charCodeAt(e)])return T('invalid header, index "%i", char "%s"',e,i.charCodeAt(e)),!0;return!1}});var cu=b(Mn=>{"use strict";p();Object.defineProperty(Mn,"__esModule",{value:!0});Mn.Polling=void 0;var Yg=xt(),ou=require("zlib"),Jg=rn(),Xg=W(),xe=(0,Xg.default)("engine:polling"),Qg={gzip:ou.createGzip,deflate:ou.createDeflate},tr=class extends Yg.Transport{constructor(e){super(e),this.closeTimeout=30*1e3}get name(){return"polling"}onRequest(e){let t=e.res;e.res=null,e.getMethod()==="get"?this.onPollRequest(e,t):e.getMethod()==="post"?this.onDataRequest(e,t):(t.writeStatus("500 Internal Server Error"),t.end())}onPollRequest(e,t){if(this.req){xe("request overlap"),this.onError("overlap from client"),t.writeStatus("500 Internal Server Error"),t.end();return}xe("setting request"),this.req=e,this.res=t;let n=()=>{this.writable=!1,this.onError("poll connection closed prematurely")},s=()=>{this.req=this.res=null};e.cleanup=s,t.onAborted(n),this.writable=!0,this.emit("ready"),this.writable&&this.shouldClose&&(xe("triggering empty send to append close packet"),this.send([{type:"noop"}]))}onDataRequest(e,t){if(this.dataReq){this.onError("data request overlap from client"),t.writeStatus("500 Internal Server Error"),t.end();return}let n=Number(e.headers["content-length"]);if(!n){this.onError("content-length header required"),t.writeStatus("411 Length Required").end();return}if(n>this.maxHttpBufferSize){this.onError("payload too large"),t.writeStatus("413 Payload Too Large").end();return}if(e.headers["content-type"]==="application/octet-stream"&&this.protocol===4)return this.onError("invalid content");this.dataReq=e,this.dataRes=t;let a,r=0,o={"Content-Type":"text/html"};this.headers(e,o);for(let l in o)t.writeHeader(l,String(o[l]));let c=l=>{this.onData(l.toString()),this.onDataRequestCleanup(),t.cork(()=>{t.end("ok")})};t.onAborted(()=>{this.onDataRequestCleanup(),this.onError("data request connection closed prematurely")}),t.onData((l,u)=>{let d=r+l.byteLength;if(d>n){this.onError("content-length mismatch"),t.close();return}if(!a){if(u){c(Buffer.from(l));return}a=Buffer.allocUnsafe(n)}if(Buffer.from(l).copy(a,r),u){if(d!=n){this.onError("content-length mismatch"),t.writeStatus("400 Content-Length Mismatch").end(),this.onDataRequestCleanup();return}c(a);return}r=d})}onDataRequestCleanup(){this.dataReq=this.dataRes=null}onData(e){xe('received "%s"',e);let t=n=>{if(n.type==="close")return xe("got xhr close packet"),this.onClose(),!1;this.onPacket(n)};this.protocol===3?this.parser.decodePayload(e,t):this.parser.decodePayload(e).forEach(t)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(e){this.writable=!1,this.shouldClose&&(xe("appending close packet to payload"),e.push({type:"close"}),this.shouldClose(),this.shouldClose=null);let t=n=>{let s=e.some(a=>a.options&&a.options.compress);this.write(n,{compress:s})};this.protocol===3?this.parser.encodePayload(e,this.supportsBinary,t):this.parser.encodePayload(e,t)}write(e,t){xe('writing "%s"',e),this.doWrite(e,t,()=>{this.req.cleanup(),this.emit("drain")})}doWrite(e,t,n){let s=typeof e=="string",r={"Content-Type":s?"text/plain; charset=UTF-8":"application/octet-stream"},o=u=>{this.headers(this.req,r),this.res.cork(()=>{Object.keys(r).forEach(d=>{this.res.writeHeader(d,String(r[d]))}),this.res.end(u)}),n()};if(!this.httpCompression||!t.compress){o(e);return}if((s?Buffer.byteLength(e):e.length)<this.httpCompression.threshold){o(e);return}let l=Jg(this.req).encodings(["gzip","deflate"]);if(!l){o(e);return}this.compress(e,l,(u,d)=>{if(u){this.res.writeStatus("500 Internal Server Error"),this.res.end(),n(u);return}r["Content-Encoding"]=l,o(d)})}compress(e,t,n){xe("compressing");let s=[],a=0;Qg[t](this.httpCompression).on("error",n).on("data",function(r){s.push(r),a+=r.length}).on("end",function(){n(null,Buffer.concat(s,a))}).end(e)}doClose(e){xe("closing");let t,n=()=>{clearTimeout(t),e(),this.onClose()};this.writable?(xe("transport writable - closing right away"),this.send([{type:"close"}]),n()):this.discarded?(xe("transport discarded - closing right away"),n()):(xe("transport not writable - buffering orderly close"),this.shouldClose=n,t=setTimeout(n,this.closeTimeout))}headers(e,t){t=t||{};let n=e.headers["user-agent"];return n&&(~n.indexOf(";MSIE")||~n.indexOf("Trident/"))&&(t["X-XSS-Protection"]="0"),t["cache-control"]="no-store",this.emit("headers",t,e),t}};Mn.Polling=tr});var lu=b(Fn=>{"use strict";p();Object.defineProperty(Fn,"__esModule",{value:!0});Fn.WebSocket=void 0;var ex=xt(),tx=W(),pu=(0,tx.default)("engine:ws"),ir=class extends ex.Transport{constructor(e){super(e),this.writable=!1,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}send(e){this.writable=!1;for(let t=0;t<e.length;t++){let n=e[t],s=t+1===e.length,a=r=>{let o=typeof r!="string",c=this.perMessageDeflate&&Buffer.byteLength(r)>this.perMessageDeflate.threshold;pu('writing "%s"',r),this.socket.send(r,o,c),s&&(this.emit("drain"),this.writable=!0,this.emit("ready"))};n.options&&typeof n.options.wsPreEncoded=="string"?a(n.options.wsPreEncoded):this.parser.encodePacket(n,this.supportsBinary,a)}}doClose(e){pu("closing"),e&&e(),this.socket.end()}};Fn.WebSocket=ir});var uu=b(nr=>{"use strict";p();Object.defineProperty(nr,"__esModule",{value:!0});var ix=cu(),nx=lu();nr.default={polling:ix.Polling,websocket:nx.WebSocket}});var du=b(qn=>{"use strict";p();Object.defineProperty(qn,"__esModule",{value:!0});qn.uServer=void 0;var sx=W(),St=er(),ax=uu(),ot=(0,sx.default)("engine:uws"),sr=class extends St.BaseServer{init(){}cleanup(){}prepare(e,t){e.method=e.getMethod().toUpperCase(),e.url=e.getUrl();let n=new URLSearchParams(e.getQuery());e._query=Object.fromEntries(n.entries()),e.headers={},e.forEach((s,a)=>{e.headers[s]=a}),e.connection={remoteAddress:Buffer.from(t.getRemoteAddressAsText()).toString()},t.onAborted(()=>{ot("response has been aborted")})}createTransport(e,t){return new ax.default[e](t)}attach(e,t={}){let n=this._computePath(t);e.any(n,this.handleRequest.bind(this)).ws(n,{compression:t.compression,idleTimeout:t.idleTimeout,maxBackpressure:t.maxBackpressure,maxPayloadLength:this.opts.maxHttpBufferSize,upgrade:this.handleUpgrade.bind(this),open:s=>{let a=s.getUserData().transport;a.socket=s,a.writable=!0,a.emit("ready")},message:(s,a,r)=>{s.getUserData().transport.onData(r?a:Buffer.from(a).toString())},close:(s,a,r)=>{s.getUserData().transport.onClose(a,r)}})}_applyMiddlewares(e,t,n){if(this.middlewares.length===0)return n();e.res=new ar(t),super._applyMiddlewares(e,e.res,s=>{e.res.writeHead(),n(s)})}handleRequest(e,t){ot('handling "%s" http request "%s"',t.getMethod(),t.getUrl()),this.prepare(t,e),t.res=e;let n=(s,a)=>{if(s!==void 0){this.emit("connection_error",{req:t,code:s,message:St.Server.errorMessages[s],context:a}),this.abortRequest(t.res,s,a);return}if(t._query.sid)ot("setting new request for existing client"),this.clients[t._query.sid].transport.onRequest(t);else{let r=(o,c)=>this.abortRequest(e,o,c);this.handshake(t._query.transport,t,r)}};this._applyMiddlewares(t,e,s=>{s?n(St.Server.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(t,!1,n)})}handleUpgrade(e,t,n){ot("on upgrade"),this.prepare(t,e),t.res=e;let s=async(a,r)=>{if(a!==void 0){this.emit("connection_error",{req:t,code:a,message:St.Server.errorMessages[a],context:r}),this.abortRequest(e,a,r);return}let o=t._query.sid,c;if(o){let l=this.clients[o];if(l){if(l.upgrading)return ot("transport has already been trying to upgrade"),e.close();if(l.upgraded)return ot("transport had already been upgraded"),e.close();ot("upgrading existing transport"),c=this.createTransport(t._query.transport,t),l._maybeUpgrade(c)}else return ot("upgrade attempt for closed client"),e.close()}else if(c=await this.handshake(t._query.transport,t,(l,u)=>this.abortRequest(e,l,u)),!c)return;t.res.writeStatus("101 Switching Protocols"),e.upgrade({transport:c},t.getHeader("sec-websocket-key"),t.getHeader("sec-websocket-protocol"),t.getHeader("sec-websocket-extensions"),n)};this._applyMiddlewares(t,e,a=>{a?s(St.Server.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(t,!0,s)})}abortRequest(e,t,n){let s=t===St.Server.errors.FORBIDDEN?"403 Forbidden":"400 Bad Request",a=n&&n.message?n.message:St.Server.errorMessages[t];e.writeStatus(s),e.writeHeader("Content-Type","application/json"),e.end(JSON.stringify({code:t,message:a}))}};qn.uServer=sr;var ar=class{constructor(e){this.res=e,this.statusWritten=!1,this.headers=[],this.isAborted=!1}set statusCode(e){e&&this.writeStatus(e===200?"200 OK":"204 No Content")}writeHead(e){this.statusCode=e}setHeader(e,t){Array.isArray(t)?t.forEach(n=>{this.writeHeader(e,n)}):this.writeHeader(e,t)}removeHeader(){}getHeader(){}writeStatus(e){if(!this.isAborted)return this.res.writeStatus(e),this.statusWritten=!0,this.writeBufferedHeaders(),this}writeHeader(e,t){this.isAborted||e!=="Content-Length"&&(this.statusWritten?this.res.writeHeader(e,t):this.headers.push([e,t]))}writeBufferedHeaders(){this.headers.forEach(([e,t])=>{this.res.writeHeader(e,t)})}end(e){this.isAborted||this.res.cork(()=>{this.statusWritten||this.writeBufferedHeaders(),this.res.end(e)})}onData(e){this.isAborted||this.res.onData(e)}onAborted(e){this.isAborted||this.res.onAborted(()=>{this.isAborted=!0,e()})}cork(e){this.isAborted||this.res.cork(e)}}});var vu=b(G=>{"use strict";p();Object.defineProperty(G,"__esModule",{value:!0});G.protocol=G.Transport=G.Socket=G.uServer=G.parser=G.transports=G.Server=void 0;G.listen=ux;G.attach=hu;var rx=require("http"),mu=er();Object.defineProperty(G,"Server",{enumerable:!0,get:function(){return mu.Server}});var ox=ka();G.transports=ox.default;var fu=Oi();G.parser=fu;var cx=du();Object.defineProperty(G,"uServer",{enumerable:!0,get:function(){return cx.uServer}});var px=Ca();Object.defineProperty(G,"Socket",{enumerable:!0,get:function(){return px.Socket}});var lx=xt();Object.defineProperty(G,"Transport",{enumerable:!0,get:function(){return lx.Transport}});G.protocol=fu.protocol;function ux(i,e,t){typeof e=="function"&&(t=e,e={});let n=(0,rx.createServer)(function(a,r){r.writeHead(501),r.end("Not Implemented")}),s=hu(n,e);return s.httpServer=n,n.listen(i,t),s}function hu(i,e){let t=new mu.Server(e);return t.attach(i,e),t}});var xu=b(gu=>{p();gu.Emitter=ie;function ie(i){if(i)return dx(i)}function dx(i){for(var e in ie.prototype)i[e]=ie.prototype[e];return i}ie.prototype.on=ie.prototype.addEventListener=function(i,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(e),this};ie.prototype.once=function(i,e){function t(){this.off(i,t),e.apply(this,arguments)}return t.fn=e,this.on(i,t),this};ie.prototype.off=ie.prototype.removeListener=ie.prototype.removeAllListeners=ie.prototype.removeEventListener=function(i,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+i];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var n,s=0;s<t.length;s++)if(n=t[s],n===e||n.fn===e){t.splice(s,1);break}return t.length===0&&delete this._callbacks["$"+i],this};ie.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+i],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,s=t.length;n<s;++n)t[n].apply(this,e)}return this};ie.prototype.emitReserved=ie.prototype.emit;ie.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};ie.prototype.hasListeners=function(i){return!!this.listeners(i).length}});var rr=b(ni=>{"use strict";p();Object.defineProperty(ni,"__esModule",{value:!0});ni.hasBinary=ni.isBinary=void 0;var mx=typeof ArrayBuffer=="function",fx=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,bu=Object.prototype.toString,hx=typeof Blob=="function"||typeof Blob<"u"&&bu.call(Blob)==="[object BlobConstructor]",vx=typeof File=="function"||typeof File<"u"&&bu.call(File)==="[object FileConstructor]";function yu(i){return mx&&(i instanceof ArrayBuffer||fx(i))||hx&&i instanceof Blob||vx&&i instanceof File}ni.isBinary=yu;function Un(i,e){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let t=0,n=i.length;t<n;t++)if(Un(i[t]))return!0;return!1}if(yu(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return Un(i.toJSON(),!0);for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&Un(i[t]))return!0;return!1}ni.hasBinary=Un});var wu=b(si=>{"use strict";p();Object.defineProperty(si,"__esModule",{value:!0});si.reconstructPacket=si.deconstructPacket=void 0;var gx=rr();function xx(i){let e=[],t=i.data,n=i;return n.data=or(t,e),n.attachments=e.length,{packet:n,buffers:e}}si.deconstructPacket=xx;function or(i,e){if(!i)return i;if((0,gx.isBinary)(i)){let t={_placeholder:!0,num:e.length};return e.push(i),t}else if(Array.isArray(i)){let t=new Array(i.length);for(let n=0;n<i.length;n++)t[n]=or(i[n],e);return t}else if(typeof i=="object"&&!(i instanceof Date)){let t={};for(let n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=or(i[n],e));return t}return i}function bx(i,e){return i.data=cr(i.data,e),delete i.attachments,i}si.reconstructPacket=bx;function cr(i,e){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<e.length)return e[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let t=0;t<i.length;t++)i[t]=cr(i[t],e);else if(typeof i=="object")for(let t in i)Object.prototype.hasOwnProperty.call(i,t)&&(i[t]=cr(i[t],e));return i}});var qi=b(Oe=>{"use strict";p();Object.defineProperty(Oe,"__esModule",{value:!0});Oe.Decoder=Oe.Encoder=Oe.PacketType=Oe.protocol=void 0;var yx=xu(),Su=wu(),Eu=rr(),wx=W(),pr=(0,wx.default)("socket.io-parser"),_x=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];Oe.protocol=5;var B;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})(B=Oe.PacketType||(Oe.PacketType={}));var lr=class{constructor(e){this.replacer=e}encode(e){return pr("encoding packet %j",e),(e.type===B.EVENT||e.type===B.ACK)&&(0,Eu.hasBinary)(e)?this.encodeAsBinary({type:e.type===B.EVENT?B.BINARY_EVENT:B.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===B.BINARY_EVENT||e.type===B.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),pr("encoded %j as %s",e,t),t}encodeAsBinary(e){let t=(0,Su.deconstructPacket)(e),n=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(n),s}};Oe.Encoder=lr;function _u(i){return Object.prototype.toString.call(i)==="[object Object]"}var ur=class i extends yx.Emitter{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let n=t.type===B.BINARY_EVENT;n||t.type===B.BINARY_ACK?(t.type=n?B.EVENT:B.ACK,this.reconstructor=new dr(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if((0,Eu.isBinary)(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,n={type:Number(e.charAt(0))};if(B[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===B.BINARY_EVENT||n.type===B.BINARY_ACK){let a=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let r=e.substring(a,t);if(r!=Number(r)||e.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(r)}if(e.charAt(t+1)==="/"){let a=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););n.nsp=e.substring(a,t)}else n.nsp="/";let s=e.charAt(t+1);if(s!==""&&Number(s)==s){let a=t+1;for(;++t;){let r=e.charAt(t);if(r==null||Number(r)!=r){--t;break}if(t===e.length)break}n.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){let a=this.tryParse(e.substr(t));if(i.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return pr("decoded %s as %j",e,n),n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case B.CONNECT:return _u(t);case B.DISCONNECT:return t===void 0;case B.CONNECT_ERROR:return typeof t=="string"||_u(t);case B.EVENT:case B.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&_x.indexOf(t[0])===-1);case B.ACK:case B.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};Oe.Decoder=ur;var dr=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=(0,Su.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});var ku=b(Vn=>{"use strict";p();Object.defineProperty(Vn,"__esModule",{value:!0});Vn.Client=void 0;var zn=qi(),Sx=W(),Ex=require("url"),Ae=Sx("socket.io:client"),mr=class{constructor(e,t){this.sockets=new Map,this.nsps=new Map,this.server=e,this.conn=t,this.encoder=e.encoder,this.decoder=new e._parser.Decoder,this.id=t.id,this.setup()}get request(){return this.conn.request}setup(){this.onclose=this.onclose.bind(this),this.ondata=this.ondata.bind(this),this.onerror=this.onerror.bind(this),this.ondecoded=this.ondecoded.bind(this),this.decoder.on("decoded",this.ondecoded),this.conn.on("data",this.ondata),this.conn.on("error",this.onerror),this.conn.on("close",this.onclose),this.connectTimeout=setTimeout(()=>{this.nsps.size===0?(Ae("no namespace joined yet, close the client"),this.close()):Ae("the client has already joined a namespace, nothing to do")},this.server._connectTimeout)}connect(e,t={}){if(this.server._nsps.has(e))return Ae("connecting to namespace %s",e),this.doConnect(e,t);this.server._checkNamespace(e,t,n=>{n?this.doConnect(e,t):(Ae("creation of namespace %s was denied",e),this._packet({type:zn.PacketType.CONNECT_ERROR,nsp:e,data:{message:"Invalid namespace"}}))})}doConnect(e,t){let n=this.server.of(e);n._add(this,t,s=>{this.sockets.set(s.id,s),this.nsps.set(n.name,s),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)})}_disconnect(){for(let e of this.sockets.values())e.disconnect();this.sockets.clear(),this.close()}_remove(e){if(this.sockets.has(e.id)){let t=this.sockets.get(e.id).nsp.name;this.sockets.delete(e.id),this.nsps.delete(t)}else Ae("ignoring remove for %s",e.id)}close(){this.conn.readyState==="open"&&(Ae("forcing transport close"),this.conn.close(),this.onclose("forced server close"))}_packet(e,t={}){if(this.conn.readyState!=="open"){Ae("ignoring packet write %j",e);return}let n=t.preEncoded?e:this.encoder.encode(e);this.writeToEngine(n,t)}writeToEngine(e,t){if(t.volatile&&!this.conn.transport.writable){Ae("volatile packet is discarded since the transport is not currently writable");return}let n=Array.isArray(e)?e:[e];for(let s of n)this.conn.write(s,t)}ondata(e){try{this.decoder.add(e)}catch(t){Ae("invalid packet format"),this.onerror(t)}}ondecoded(e){let t,n;if(this.conn.protocol===3){let a=Ex.parse(e.nsp,!0);t=a.pathname,n=a.query}else t=e.nsp,n=e.data;let s=this.nsps.get(t);!s&&e.type===zn.PacketType.CONNECT?this.connect(t,n):s&&e.type!==zn.PacketType.CONNECT&&e.type!==zn.PacketType.CONNECT_ERROR?process.nextTick(function(){s._onpacket(e)}):(Ae("invalid state (packet type: %s)",e.type),this.close())}onerror(e){for(let t of this.sockets.values())t._onerror(e);this.conn.close()}onclose(e,t){Ae("client close with reason %s",e),this.destroy();for(let n of this.sockets.values())n._onclose(e,t);this.sockets.clear(),this.decoder.destroy()}destroy(){this.conn.removeListener("data",this.ondata),this.conn.removeListener("error",this.onerror),this.conn.removeListener("close",this.onclose),this.decoder.removeListener("decoded",this.ondecoded),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)}};Vn.Client=mr});var Wn=b(Hn=>{"use strict";p();Object.defineProperty(Hn,"__esModule",{value:!0});Hn.StrictEventEmitter=void 0;var kx=require("events"),fr=class extends kx.EventEmitter{on(e,t){return super.on(e,t)}once(e,t){return super.once(e,t)}emit(e,...t){return super.emit(e,...t)}emitReserved(e,...t){return super.emit(e,...t)}emitUntyped(e,...t){return super.emit(e,...t)}listeners(e){return super.listeners(e)}};Hn.StrictEventEmitter=fr});var hr=b(Gn=>{"use strict";p();Object.defineProperty(Gn,"__esModule",{value:!0});Gn.RESERVED_EVENTS=void 0;Gn.RESERVED_EVENTS=new Set(["connect","connect_error","disconnect","disconnecting","newListener","removeListener"])});var vr=b(ai=>{"use strict";p();Object.defineProperty(ai,"__esModule",{value:!0});ai.RemoteSocket=ai.BroadcastOperator=void 0;var Tx=hr(),Cx=qi(),$n=class i{constructor(e,t=new Set,n=new Set,s={}){this.adapter=e,this.rooms=t,this.exceptRooms=n,this.flags=s}to(e){let t=new Set(this.rooms);return Array.isArray(e)?e.forEach(n=>t.add(n)):t.add(e),new i(this.adapter,t,this.exceptRooms,this.flags)}in(e){return this.to(e)}except(e){let t=new Set(this.exceptRooms);return Array.isArray(e)?e.forEach(n=>t.add(n)):t.add(e),new i(this.adapter,this.rooms,t,this.flags)}compress(e){let t=Object.assign({},this.flags,{compress:e});return new i(this.adapter,this.rooms,this.exceptRooms,t)}get volatile(){let e=Object.assign({},this.flags,{volatile:!0});return new i(this.adapter,this.rooms,this.exceptRooms,e)}get local(){let e=Object.assign({},this.flags,{local:!0});return new i(this.adapter,this.rooms,this.exceptRooms,e)}timeout(e){let t=Object.assign({},this.flags,{timeout:e});return new i(this.adapter,this.rooms,this.exceptRooms,t)}emit(e,...t){if(Tx.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);let n=[e,...t],s={type:Cx.PacketType.EVENT,data:n};if(!(typeof n[n.length-1]=="function"))return this.adapter.broadcast(s,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags}),!0;let r=n.pop(),o=!1,c=[],l=setTimeout(()=>{o=!0,r.apply(this,[new Error("operation has timed out"),this.flags.expectSingleResponse?null:c])},this.flags.timeout),u=-1,d=0,v=0,_=()=>{!o&&u===d&&c.length===v&&(clearTimeout(l),r.apply(this,[null,this.flags.expectSingleResponse?c[0]:c]))};return this.adapter.broadcastWithAck(s,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags},g=>{v+=g,d++,_()},g=>{c.push(g),_()}),this.adapter.serverCount().then(g=>{u=g,_()}),!0}emitWithAck(e,...t){return new Promise((n,s)=>{t.push((a,r)=>a?(a.responses=r,s(a)):n(r)),this.emit(e,...t)})}allSockets(){if(!this.adapter)throw new Error("No adapter for this namespace, are you trying to get the list of clients of a dynamic namespace?");return this.adapter.sockets(this.rooms)}fetchSockets(){return this.adapter.fetchSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags}).then(e=>e.map(t=>t.server?t:new Kn(this.adapter,t)))}socketsJoin(e){this.adapter.addSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},Array.isArray(e)?e:[e])}socketsLeave(e){this.adapter.delSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},Array.isArray(e)?e:[e])}disconnectSockets(e=!1){this.adapter.disconnectSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},e)}};ai.BroadcastOperator=$n;var Kn=class{constructor(e,t){this.id=t.id,this.handshake=t.handshake,this.rooms=new Set(t.rooms),this.data=t.data,this.operator=new $n(e,new Set([this.id]),new Set,{expectSingleResponse:!0})}timeout(e){return this.operator.timeout(e)}emit(e,...t){return this.operator.emit(e,...t)}join(e){return this.operator.socketsJoin(e)}leave(e){return this.operator.socketsLeave(e)}disconnect(e=!1){return this.operator.disconnectSockets(e),this}};ai.RemoteSocket=Kn});var xr=b(ri=>{"use strict";p();var Ou=ri&&ri.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ri,"__esModule",{value:!0});ri.Socket=void 0;var be=qi(),Ox=Ou(W()),Ax=Wn(),Tu=Ou(sa()),Rx=vr(),Px=hr(),Q=(0,Ox.default)("socket.io:socket"),Ix=new Set(["transport error","transport close","forced close","ping timeout","server shutting down","forced server close"]);function Cu(){}var gr=class extends Ax.StrictEventEmitter{constructor(e,t,n,s){super(),this.nsp=e,this.client=t,this.recovered=!1,this.data={},this.connected=!1,this.acks=new Map,this.fns=[],this.flags={},this.server=e.server,this.adapter=this.nsp.adapter,s?(this.id=s.sid,this.pid=s.pid,s.rooms.forEach(a=>this.join(a)),this.data=s.data,s.missedPackets.forEach(a=>{this.packet({type:be.PacketType.EVENT,data:a})}),this.recovered=!0):(t.conn.protocol===3?this.id=e.name!=="/"?e.name+"#"+t.id:t.id:this.id=Tu.default.generateId(),this.server._opts.connectionStateRecovery&&(this.pid=Tu.default.generateId())),this.handshake=this.buildHandshake(n),this.on("error",Cu)}buildHandshake(e){var t,n,s,a;return{headers:((t=this.request)===null||t===void 0?void 0:t.headers)||{},time:new Date+"",address:this.conn.remoteAddress,xdomain:!!(!((n=this.request)===null||n===void 0)&&n.headers.origin),secure:!this.request||!!this.request.connection.encrypted,issued:+new Date,url:(s=this.request)===null||s===void 0?void 0:s.url,query:((a=this.request)===null||a===void 0?void 0:a._query)||{},auth:e}}emit(e,...t){if(Px.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);let n=[e,...t],s={type:be.PacketType.EVENT,data:n};if(typeof n[n.length-1]=="function"){let r=this.nsp._ids++;Q("emitting packet with ack id %d",r),this.registerAckCallback(r,n.pop()),s.id=r}let a=Object.assign({},this.flags);return this.flags={},this.nsp.server.opts.connectionStateRecovery?this.adapter.broadcast(s,{rooms:new Set([this.id]),except:new Set,flags:a}):(this.notifyOutgoingListeners(s),this.packet(s,a)),!0}emitWithAck(e,...t){let n=this.flags.timeout!==void 0;return new Promise((s,a)=>{t.push((r,o)=>n?r?a(r):s(o):s(r)),this.emit(e,...t)})}registerAckCallback(e,t){let n=this.flags.timeout;if(n===void 0){this.acks.set(e,t);return}let s=setTimeout(()=>{Q("event with ack id %d has timed out after %d ms",e,n),this.acks.delete(e),t.call(this,new Error("operation has timed out"))},n);this.acks.set(e,(...a)=>{clearTimeout(s),t.apply(this,[null,...a])})}to(e){return this.newBroadcastOperator().to(e)}in(e){return this.newBroadcastOperator().in(e)}except(e){return this.newBroadcastOperator().except(e)}send(...e){return this.emit("message",...e),this}write(...e){return this.emit("message",...e),this}packet(e,t={}){e.nsp=this.nsp.name,t.compress=t.compress!==!1,this.client._packet(e,t)}join(e){return Q("join room %s",e),this.adapter.addAll(this.id,new Set(Array.isArray(e)?e:[e]))}leave(e){return Q("leave room %s",e),this.adapter.del(this.id,e)}leaveAll(){this.adapter.delAll(this.id)}_onconnect(){Q("socket connected - writing packet"),this.connected=!0,this.join(this.id),this.conn.protocol===3?this.packet({type:be.PacketType.CONNECT}):this.packet({type:be.PacketType.CONNECT,data:{sid:this.id,pid:this.pid}})}_onpacket(e){switch(Q("got packet %j",e),e.type){case be.PacketType.EVENT:this.onevent(e);break;case be.PacketType.BINARY_EVENT:this.onevent(e);break;case be.PacketType.ACK:this.onack(e);break;case be.PacketType.BINARY_ACK:this.onack(e);break;case be.PacketType.DISCONNECT:this.ondisconnect();break}}onevent(e){let t=e.data||[];if(Q("emitting event %j",t),e.id!=null&&(Q("attaching ack callback to event"),t.push(this.ack(e.id))),this._anyListeners&&this._anyListeners.length){let n=this._anyListeners.slice();for(let s of n)s.apply(this,t)}this.dispatch(t)}ack(e){let t=this,n=!1;return function(){if(n)return;let s=Array.prototype.slice.call(arguments);Q("sending ack %j",s),t.packet({id:e,type:be.PacketType.ACK,data:s}),n=!0}}onack(e){let t=this.acks.get(e.id);typeof t=="function"?(Q("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),this.acks.delete(e.id)):Q("bad ack %s",e.id)}ondisconnect(){Q("got disconnect packet"),this._onclose("client namespace disconnect")}_onerror(e){this.emitReserved("error",e)}_onclose(e,t){if(!this.connected)return this;Q("closing socket - reason %s",e),this.emitReserved("disconnecting",e,t),this.server._opts.connectionStateRecovery&&Ix.has(e)&&(Q("connection state recovery is enabled for sid %s",this.id),this.adapter.persistSession({sid:this.id,pid:this.pid,rooms:[...this.rooms],data:this.data})),this._cleanup(),this.client._remove(this),this.connected=!1,this.emitReserved("disconnect",e,t)}_cleanup(){this.leaveAll(),this.nsp._remove(this),this.join=Cu}_error(e){this.packet({type:be.PacketType.CONNECT_ERROR,data:e})}disconnect(e=!1){return this.connected?(e?this.client._disconnect():(this.packet({type:be.PacketType.DISCONNECT}),this._onclose("server namespace disconnect")),this):this}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}get broadcast(){return this.newBroadcastOperator()}get local(){return this.newBroadcastOperator().local}timeout(e){return this.flags.timeout=e,this}dispatch(e){Q("dispatching an event %j",e),this.run(e,t=>{process.nextTick(()=>{if(t)return this._onerror(t);this.connected?super.emitUntyped.apply(this,e):Q("ignore packet received after disconnection")})})}use(e){return this.fns.push(e),this}run(e,t){if(!this.fns.length)return t();let n=this.fns.slice(0);function s(a){n[a](e,r=>{if(r)return t(r);if(!n[a+1])return t();s(a+1)})}s(0)}get disconnected(){return!this.connected}get request(){return this.client.request}get conn(){return this.client.conn}get rooms(){return this.adapter.socketRooms(this.id)||new Set}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let n of t)n.apply(this,e.data)}}newBroadcastOperator(){let e=Object.assign({},this.flags);return this.flags={},new Rx.BroadcastOperator(this.adapter,new Set,new Set([this.id]),e)}};ri.Socket=gr});var yr=b(He=>{"use strict";p();var Dx=He&&He.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(He,"__esModule",{value:!0});He.Namespace=He.RESERVED_EVENTS=void 0;var Au=xr(),jx=Wn(),Nx=Dx(W()),fe=vr(),Ui=(0,Nx.default)("socket.io:namespace");He.RESERVED_EVENTS=new Set(["connect","connection","new_namespace"]);var br=class extends jx.StrictEventEmitter{constructor(e,t){super(),this.sockets=new Map,this._preConnectSockets=new Map,this._fns=[],this._ids=0,this.server=e,this.name=t,this._initAdapter()}_initAdapter(){this.adapter=new(this.server.adapter())(this)}use(e){return this._fns.push(e),this}run(e,t){if(!this._fns.length)return t();let n=this._fns.slice(0);function s(a){n[a](e,r=>{if(r)return t(r);if(!n[a+1])return t();s(a+1)})}s(0)}to(e){return new fe.BroadcastOperator(this.adapter).to(e)}in(e){return new fe.BroadcastOperator(this.adapter).in(e)}except(e){return new fe.BroadcastOperator(this.adapter).except(e)}async _add(e,t,n){var s;Ui("adding socket to nsp %s",this.name);let a=await this._createSocket(e,t);if(this._preConnectSockets.set(a.id,a),!((s=this.server.opts.connectionStateRecovery)===null||s===void 0)&&s.skipMiddlewares&&a.recovered&&e.conn.readyState==="open")return this._doConnect(a,n);this.run(a,r=>{process.nextTick(()=>{if(e.conn.readyState!=="open"){Ui("next called after client was closed - ignoring socket"),a._cleanup();return}if(r)return Ui("middleware error, sending CONNECT_ERROR packet to the client"),a._cleanup(),e.conn.protocol===3?a._error(r.data||r.message):a._error({message:r.message,data:r.data});this._doConnect(a,n)})})}async _createSocket(e,t){let n=t.pid,s=t.offset;if(this.server.opts.connectionStateRecovery&&typeof n=="string"&&typeof s=="string"){let a;try{a=await this.adapter.restoreSession(n,s)}catch(r){Ui("error while restoring session: %s",r)}if(a)return Ui("connection state recovered for sid %s",a.sid),new Au.Socket(this,e,t,a)}return new Au.Socket(this,e,t)}_doConnect(e,t){this._preConnectSockets.delete(e.id),this.sockets.set(e.id,e),e._onconnect(),t&&t(e),this.emitReserved("connect",e),this.emitReserved("connection",e)}_remove(e){this.sockets.delete(e.id)||this._preConnectSockets.delete(e.id)}emit(e,...t){return new fe.BroadcastOperator(this.adapter).emit(e,...t)}send(...e){return this.emit("message",...e),this}write(...e){return this.emit("message",...e),this}serverSideEmit(e,...t){if(He.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);return t.unshift(e),this.adapter.serverSideEmit(t),!0}serverSideEmitWithAck(e,...t){return new Promise((n,s)=>{t.push((a,r)=>a?(a.responses=r,s(a)):n(r)),this.serverSideEmit(e,...t)})}_onServerSideEmit(e){super.emitUntyped.apply(this,e)}allSockets(){return new fe.BroadcastOperator(this.adapter).allSockets()}compress(e){return new fe.BroadcastOperator(this.adapter).compress(e)}get volatile(){return new fe.BroadcastOperator(this.adapter).volatile}get local(){return new fe.BroadcastOperator(this.adapter).local}timeout(e){return new fe.BroadcastOperator(this.adapter).timeout(e)}fetchSockets(){return new fe.BroadcastOperator(this.adapter).fetchSockets()}socketsJoin(e){return new fe.BroadcastOperator(this.adapter).socketsJoin(e)}socketsLeave(e){return new fe.BroadcastOperator(this.adapter).socketsLeave(e)}disconnectSockets(e=!1){return new fe.BroadcastOperator(this.adapter).disconnectSockets(e)}};He.Namespace=br});var ju=b(pt=>{"use strict";p();Object.defineProperty(pt,"__esModule",{value:!0});pt.yeast=pt.decode=pt.encode=void 0;var Iu="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Zn=64,Du={},Ru=0,ct=0,Pu;function wr(i){let e="";do e=Iu[i%Zn]+e,i=Math.floor(i/Zn);while(i>0);return e}pt.encode=wr;function Lx(i){let e=0;for(ct=0;ct<i.length;ct++)e=e*Zn+Du[i.charAt(ct)];return e}pt.decode=Lx;function Bx(){let i=wr(+new Date);return i!==Pu?(Ru=0,Pu=i):i+"."+wr(Ru++)}pt.yeast=Bx;for(;ct<Zn;ct++)Du[Iu[ct]]=ct});var Er=b(oi=>{"use strict";p();var _r;Object.defineProperty(oi,"__esModule",{value:!0});oi.SessionAwareAdapter=oi.Adapter=void 0;var Mx=require("events"),Fx=ju(),Yn=Ya(),qx=typeof((_r=Yn?.Sender)===null||_r===void 0?void 0:_r.frame)=="function",Jn=class extends Mx.EventEmitter{constructor(e){super(),this.nsp=e,this.rooms=new Map,this.sids=new Map,this.encoder=e.server.encoder}init(){}close(){}serverCount(){return Promise.resolve(1)}addAll(e,t){this.sids.has(e)||this.sids.set(e,new Set);for(let n of t)this.sids.get(e).add(n),this.rooms.has(n)||(this.rooms.set(n,new Set),this.emit("create-room",n)),this.rooms.get(n).has(e)||(this.rooms.get(n).add(e),this.emit("join-room",n,e))}del(e,t){this.sids.has(e)&&this.sids.get(e).delete(t),this._del(t,e)}_del(e,t){let n=this.rooms.get(e);n!=null&&(n.delete(t)&&this.emit("leave-room",e,t),n.size===0&&this.rooms.delete(e)&&this.emit("delete-room",e))}delAll(e){if(this.sids.has(e)){for(let t of this.sids.get(e))this._del(t,e);this.sids.delete(e)}}broadcast(e,t){let n=t.flags||{},s={preEncoded:!0,volatile:n.volatile,compress:n.compress};e.nsp=this.nsp.name;let a=this._encode(e,s);this.apply(t,r=>{typeof r.notifyOutgoingListeners=="function"&&r.notifyOutgoingListeners(e),r.client.writeToEngine(a,s)})}broadcastWithAck(e,t,n,s){let a=t.flags||{},r={preEncoded:!0,volatile:a.volatile,compress:a.compress};e.nsp=this.nsp.name,e.id=this.nsp._ids++;let o=this._encode(e,r),c=0;this.apply(t,l=>{c++,l.acks.set(e.id,s),typeof l.notifyOutgoingListeners=="function"&&l.notifyOutgoingListeners(e),l.client.writeToEngine(o,r)}),n(c)}_encode(e,t){let n=this.encoder.encode(e);if(qx&&n.length===1&&typeof n[0]=="string"){let s=Buffer.from("4"+n[0]);t.wsPreEncodedFrame=Yn.Sender.frame(s,{readOnly:!1,mask:!1,rsv1:!1,opcode:1,fin:!0})}return n}sockets(e){let t=new Set;return this.apply({rooms:e},n=>{t.add(n.id)}),Promise.resolve(t)}socketRooms(e){return this.sids.get(e)}fetchSockets(e){let t=[];return this.apply(e,n=>{t.push(n)}),Promise.resolve(t)}addSockets(e,t){this.apply(e,n=>{n.join(t)})}delSockets(e,t){this.apply(e,n=>{t.forEach(s=>n.leave(s))})}disconnectSockets(e,t){this.apply(e,n=>{n.disconnect(t)})}apply(e,t){let n=e.rooms,s=this.computeExceptSids(e.except);if(n.size){let a=new Set;for(let r of n)if(this.rooms.has(r))for(let o of this.rooms.get(r)){if(a.has(o)||s.has(o))continue;let c=this.nsp.sockets.get(o);c&&(t(c),a.add(o))}}else for(let[a]of this.sids){if(s.has(a))continue;let r=this.nsp.sockets.get(a);r&&t(r)}}computeExceptSids(e){let t=new Set;if(e&&e.size>0)for(let n of e)this.rooms.has(n)&&this.rooms.get(n).forEach(s=>t.add(s));return t}serverSideEmit(e){console.warn("this adapter does not support the serverSideEmit() functionality")}persistSession(e){}restoreSession(e,t){return null}};oi.Adapter=Jn;var Sr=class extends Jn{constructor(e){super(e),this.nsp=e,this.sessions=new Map,this.packets=[],this.maxDisconnectionDuration=e.server.opts.connectionStateRecovery.maxDisconnectionDuration,setInterval(()=>{let n=Date.now()-this.maxDisconnectionDuration;this.sessions.forEach((s,a)=>{s.disconnectedAt<n&&this.sessions.delete(a)});for(let s=this.packets.length-1;s>=0;s--)if(this.packets[s].emittedAt<n){this.packets.splice(0,s+1);break}},60*1e3).unref()}persistSession(e){e.disconnectedAt=Date.now(),this.sessions.set(e.pid,e)}restoreSession(e,t){let n=this.sessions.get(e);if(!n)return null;if(n.disconnectedAt+this.maxDisconnectionDuration<Date.now())return this.sessions.delete(e),null;let a=this.packets.findIndex(o=>o.id===t);if(a===-1)return null;let r=[];for(let o=a+1;o<this.packets.length;o++){let c=this.packets[o];Ux(n.rooms,c.opts)&&r.push(c.data)}return Promise.resolve(Object.assign(Object.assign({},n),{missedPackets:r}))}broadcast(e,t){var n;let s=e.type===2,a=e.id===void 0,r=((n=t.flags)===null||n===void 0?void 0:n.volatile)===void 0;if(s&&a&&r){let o=(0,Fx.yeast)();e.data.push(o),this.packets.push({id:o,opts:t,data:e.data,emittedAt:Date.now()})}super.broadcast(e,t)}};oi.SessionAwareAdapter=Sr;function Ux(i,e){let t=e.rooms.size===0||i.some(s=>e.rooms.has(s)),n=i.every(s=>!e.except.has(s));return t&&n}});var Nu=b(Re=>{"use strict";p();var zx=Re&&Re.__rest||function(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(t[n[s]]=i[n[s]]);return t};Object.defineProperty(Re,"__esModule",{value:!0});Re.ClusterAdapterWithHeartbeat=Re.ClusterAdapter=Re.MessageType=void 0;var Vx=Er(),Hx=W(),Wx=require("crypto"),q=(0,Hx.debug)("socket.io-adapter"),Gx="emitter",Xn=5e3;function pi(){return(0,Wx.randomBytes)(8).toString("hex")}var k;(function(i){i[i.INITIAL_HEARTBEAT=1]="INITIAL_HEARTBEAT",i[i.HEARTBEAT=2]="HEARTBEAT",i[i.BROADCAST=3]="BROADCAST",i[i.SOCKETS_JOIN=4]="SOCKETS_JOIN",i[i.SOCKETS_LEAVE=5]="SOCKETS_LEAVE",i[i.DISCONNECT_SOCKETS=6]="DISCONNECT_SOCKETS",i[i.FETCH_SOCKETS=7]="FETCH_SOCKETS",i[i.FETCH_SOCKETS_RESPONSE=8]="FETCH_SOCKETS_RESPONSE",i[i.SERVER_SIDE_EMIT=9]="SERVER_SIDE_EMIT",i[i.SERVER_SIDE_EMIT_RESPONSE=10]="SERVER_SIDE_EMIT_RESPONSE",i[i.BROADCAST_CLIENT_COUNT=11]="BROADCAST_CLIENT_COUNT",i[i.BROADCAST_ACK=12]="BROADCAST_ACK",i[i.ADAPTER_CLOSE=13]="ADAPTER_CLOSE"})(k=Re.MessageType||(Re.MessageType={}));function Et(i){return{rooms:[...i.rooms],except:[...i.except],flags:i.flags}}function ci(i){return{rooms:new Set(i.rooms),except:new Set(i.except),flags:i.flags}}var Qn=class extends Vx.Adapter{constructor(e){super(e),this.requests=new Map,this.ackRequests=new Map,this.uid=pi()}onMessage(e,t){if(e.uid===this.uid)return q("[%s] ignore message from self",this.uid);switch(q("[%s] new event of type %d from %s",this.uid,e.type,e.uid),e.type){case k.BROADCAST:{if(e.data.requestId!==void 0)super.broadcastWithAck(e.data.packet,ci(e.data.opts),s=>{q("[%s] waiting for %d client acknowledgements",this.uid,s),this.publishResponse(e.uid,{type:k.BROADCAST_CLIENT_COUNT,data:{requestId:e.data.requestId,clientCount:s}})},s=>{q("[%s] received acknowledgement with value %j",this.uid,s),this.publishResponse(e.uid,{type:k.BROADCAST_ACK,data:{requestId:e.data.requestId,packet:s}})});else{let s=e.data.packet,a=ci(e.data.opts);this.addOffsetIfNecessary(s,a,t),super.broadcast(s,a)}break}case k.SOCKETS_JOIN:super.addSockets(ci(e.data.opts),e.data.rooms);break;case k.SOCKETS_LEAVE:super.delSockets(ci(e.data.opts),e.data.rooms);break;case k.DISCONNECT_SOCKETS:super.disconnectSockets(ci(e.data.opts),e.data.close);break;case k.FETCH_SOCKETS:{q("[%s] calling fetchSockets with opts %j",this.uid,e.data.opts),super.fetchSockets(ci(e.data.opts)).then(n=>{this.publishResponse(e.uid,{type:k.FETCH_SOCKETS_RESPONSE,data:{requestId:e.data.requestId,sockets:n.map(s=>{let a=s.handshake,{sessionStore:r}=a,o=zx(a,["sessionStore"]);return{id:s.id,handshake:o,rooms:[...s.rooms],data:s.data}})}})});break}case k.SERVER_SIDE_EMIT:{let n=e.data.packet;if(!(e.data.requestId!==void 0)){this.nsp._onServerSideEmit(n);return}let a=!1,r=o=>{a||(a=!0,q("[%s] calling acknowledgement with %j",this.uid,o),this.publishResponse(e.uid,{type:k.SERVER_SIDE_EMIT_RESPONSE,data:{requestId:e.data.requestId,packet:o}}))};this.nsp._onServerSideEmit([...n,r]);break}case k.BROADCAST_CLIENT_COUNT:case k.BROADCAST_ACK:case k.FETCH_SOCKETS_RESPONSE:case k.SERVER_SIDE_EMIT_RESPONSE:this.onResponse(e);break;default:q("[%s] unknown message type: %s",this.uid,e.type)}}onResponse(e){var t,n;let s=e.data.requestId;switch(q("[%s] received response %s to request %s",this.uid,e.type,s),e.type){case k.BROADCAST_CLIENT_COUNT:{(t=this.ackRequests.get(s))===null||t===void 0||t.clientCountCallback(e.data.clientCount);break}case k.BROADCAST_ACK:{(n=this.ackRequests.get(s))===null||n===void 0||n.ack(e.data.packet);break}case k.FETCH_SOCKETS_RESPONSE:{let a=this.requests.get(s);if(!a)return;a.current++,e.data.sockets.forEach(r=>a.responses.push(r)),a.current===a.expected&&(clearTimeout(a.timeout),a.resolve(a.responses),this.requests.delete(s));break}case k.SERVER_SIDE_EMIT_RESPONSE:{let a=this.requests.get(s);if(!a)return;a.current++,a.responses.push(e.data.packet),a.current===a.expected&&(clearTimeout(a.timeout),a.resolve(null,a.responses),this.requests.delete(s));break}default:q("[%s] unknown response type: %s",this.uid,e.type)}}async broadcast(e,t){var n;if(!((n=t.flags)===null||n===void 0?void 0:n.local))try{let a=await this.publishAndReturnOffset({type:k.BROADCAST,data:{packet:e,opts:Et(t)}});this.addOffsetIfNecessary(e,t,a)}catch(a){return q("[%s] error while broadcasting message: %s",this.uid,a.message)}super.broadcast(e,t)}addOffsetIfNecessary(e,t,n){var s;if(!this.nsp.server.opts.connectionStateRecovery)return;let a=e.type===2,r=e.id===void 0,o=((s=t.flags)===null||s===void 0?void 0:s.volatile)===void 0;a&&r&&o&&e.data.push(n)}broadcastWithAck(e,t,n,s){var a;if(!((a=t?.flags)===null||a===void 0?void 0:a.local)){let o=pi();this.ackRequests.set(o,{clientCountCallback:n,ack:s}),this.publish({type:k.BROADCAST,data:{packet:e,requestId:o,opts:Et(t)}}),setTimeout(()=>{this.ackRequests.delete(o)},t.flags.timeout)}super.broadcastWithAck(e,t,n,s)}async addSockets(e,t){var n;if(!((n=e.flags)===null||n===void 0?void 0:n.local))try{await this.publishAndReturnOffset({type:k.SOCKETS_JOIN,data:{opts:Et(e),rooms:t}})}catch(a){q("[%s] error while publishing message: %s",this.uid,a.message)}super.addSockets(e,t)}async delSockets(e,t){var n;if(!((n=e.flags)===null||n===void 0?void 0:n.local))try{await this.publishAndReturnOffset({type:k.SOCKETS_LEAVE,data:{opts:Et(e),rooms:t}})}catch(a){q("[%s] error while publishing message: %s",this.uid,a.message)}super.delSockets(e,t)}async disconnectSockets(e,t){var n;if(!((n=e.flags)===null||n===void 0?void 0:n.local))try{await this.publishAndReturnOffset({type:k.DISCONNECT_SOCKETS,data:{opts:Et(e),close:t}})}catch(a){q("[%s] error while publishing message: %s",this.uid,a.message)}super.disconnectSockets(e,t)}async fetchSockets(e){var t;let[n,s]=await Promise.all([super.fetchSockets(e),this.serverCount()]),a=s-1;if(!((t=e.flags)===null||t===void 0)&&t.local||a<=0)return n;let r=pi();return new Promise((o,c)=>{let l=setTimeout(()=>{let d=this.requests.get(r);d&&(c(new Error(`timeout reached: only ${d.current} responses received out of ${d.expected}`)),this.requests.delete(r))},e.flags.timeout||Xn),u={type:k.FETCH_SOCKETS,resolve:o,timeout:l,current:0,expected:a,responses:n};this.requests.set(r,u),this.publish({type:k.FETCH_SOCKETS,data:{opts:Et(e),requestId:r}})})}async serverSideEmit(e){if(!(typeof e[e.length-1]=="function"))return this.publish({type:k.SERVER_SIDE_EMIT,data:{packet:e}});let n=e.pop(),s=await this.serverCount()-1;if(q('[%s] waiting for %d responses to "serverSideEmit" request',this.uid,s),s<=0)return n(null,[]);let a=pi(),r=setTimeout(()=>{let c=this.requests.get(a);c&&(n(new Error(`timeout reached: only ${c.current} responses received out of ${c.expected}`),c.responses),this.requests.delete(a))},Xn),o={type:k.SERVER_SIDE_EMIT,resolve:n,timeout:r,current:0,expected:s,responses:[]};this.requests.set(a,o),this.publish({type:k.SERVER_SIDE_EMIT,data:{requestId:a,packet:e}})}publish(e){this.publishAndReturnOffset(e).catch(t=>{q("[%s] error while publishing message: %s",this.uid,t)})}publishAndReturnOffset(e){return e.uid=this.uid,e.nsp=this.nsp.name,this.doPublish(e)}publishResponse(e,t){t.uid=this.uid,t.nsp=this.nsp.name,this.doPublishResponse(e,t).catch(n=>{q("[%s] error while publishing response: %s",this.uid,n)})}};Re.ClusterAdapter=Qn;var kr=class extends Qn{constructor(e,t){super(e),this.nodesMap=new Map,this.customRequests=new Map,this._opts=Object.assign({heartbeatInterval:5e3,heartbeatTimeout:1e4},t),this.cleanupTimer=setInterval(()=>{let n=Date.now();this.nodesMap.forEach((s,a)=>{n-s>this._opts.heartbeatTimeout&&(q("[%s] node %s seems down",this.uid,a),this.removeNode(a))})},1e3)}init(){this.publish({type:k.INITIAL_HEARTBEAT})}scheduleHeartbeat(){this.heartbeatTimer?this.heartbeatTimer.refresh():this.heartbeatTimer=setTimeout(()=>{this.publish({type:k.HEARTBEAT})},this._opts.heartbeatInterval)}close(){this.publish({type:k.ADAPTER_CLOSE}),clearTimeout(this.heartbeatTimer),this.cleanupTimer&&clearInterval(this.cleanupTimer)}onMessage(e,t){if(e.uid===this.uid)return q("[%s] ignore message from self",this.uid);switch(e.uid&&e.uid!==Gx&&this.nodesMap.set(e.uid,Date.now()),q("[%s] new event of type %d from %s",this.uid,e.type,e.uid),e.type){case k.INITIAL_HEARTBEAT:this.publish({type:k.HEARTBEAT});break;case k.HEARTBEAT:break;case k.ADAPTER_CLOSE:this.removeNode(e.uid);break;default:super.onMessage(e,t)}}serverCount(){return Promise.resolve(1+this.nodesMap.size)}publish(e){return this.scheduleHeartbeat(),super.publish(e)}async serverSideEmit(e){if(!(typeof e[e.length-1]=="function"))return this.publish({type:k.SERVER_SIDE_EMIT,data:{packet:e}});let n=e.pop(),s=this.nodesMap.size;if(q('[%s] waiting for %d responses to "serverSideEmit" request',this.uid,s),s<=0)return n(null,[]);let a=pi(),r=setTimeout(()=>{let c=this.customRequests.get(a);c&&(n(new Error(`timeout reached: missing ${c.missingUids.size} responses`),c.responses),this.customRequests.delete(a))},Xn),o={type:k.SERVER_SIDE_EMIT,resolve:n,timeout:r,missingUids:new Set([...this.nodesMap.keys()]),responses:[]};this.customRequests.set(a,o),this.publish({type:k.SERVER_SIDE_EMIT,data:{requestId:a,packet:e}})}async fetchSockets(e){var t;let[n,s]=await Promise.all([super.fetchSockets({rooms:e.rooms,except:e.except,flags:{local:!0}}),this.serverCount()]),a=s-1;if(!((t=e.flags)===null||t===void 0)&&t.local||a<=0)return n;let r=pi();return new Promise((o,c)=>{let l=setTimeout(()=>{let d=this.customRequests.get(r);d&&(c(new Error(`timeout reached: missing ${d.missingUids.size} responses`)),this.customRequests.delete(r))},e.flags.timeout||Xn),u={type:k.FETCH_SOCKETS,resolve:o,timeout:l,missingUids:new Set([...this.nodesMap.keys()]),responses:n};this.customRequests.set(r,u),this.publish({type:k.FETCH_SOCKETS,data:{opts:Et(e),requestId:r}})})}onResponse(e){let t=e.data.requestId;switch(q("[%s] received response %s to request %s",this.uid,e.type,t),e.type){case k.FETCH_SOCKETS_RESPONSE:{let n=this.customRequests.get(t);if(!n)return;e.data.sockets.forEach(s=>n.responses.push(s)),n.missingUids.delete(e.uid),n.missingUids.size===0&&(clearTimeout(n.timeout),n.resolve(n.responses),this.customRequests.delete(t));break}case k.SERVER_SIDE_EMIT_RESPONSE:{let n=this.customRequests.get(t);if(!n)return;n.responses.push(e.data.packet),n.missingUids.delete(e.uid),n.missingUids.size===0&&(clearTimeout(n.timeout),n.resolve(null,n.responses),this.customRequests.delete(t));break}default:super.onResponse(e)}}removeNode(e){this.customRequests.forEach((t,n)=>{t.missingUids.delete(e),t.missingUids.size===0&&(clearTimeout(t.timeout),t.type===k.FETCH_SOCKETS?t.resolve(t.responses):t.type===k.SERVER_SIDE_EMIT&&t.resolve(null,t.responses),this.customRequests.delete(n))}),this.nodesMap.delete(e)}};Re.ClusterAdapterWithHeartbeat=kr});var es=b(ye=>{"use strict";p();Object.defineProperty(ye,"__esModule",{value:!0});ye.MessageType=ye.ClusterAdapterWithHeartbeat=ye.ClusterAdapter=ye.SessionAwareAdapter=ye.Adapter=void 0;var Lu=Er();Object.defineProperty(ye,"Adapter",{enumerable:!0,get:function(){return Lu.Adapter}});Object.defineProperty(ye,"SessionAwareAdapter",{enumerable:!0,get:function(){return Lu.SessionAwareAdapter}});var Tr=Nu();Object.defineProperty(ye,"ClusterAdapter",{enumerable:!0,get:function(){return Tr.ClusterAdapter}});Object.defineProperty(ye,"ClusterAdapterWithHeartbeat",{enumerable:!0,get:function(){return Tr.ClusterAdapterWithHeartbeat}});Object.defineProperty(ye,"MessageType",{enumerable:!0,get:function(){return Tr.MessageType}})});var Fu=b(li=>{"use strict";p();var $x=li&&li.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(li,"__esModule",{value:!0});li.ParentNamespace=void 0;var Bu=yr(),Kx=es(),Zx=$x(W()),Mu=(0,Zx.default)("socket.io:parent-namespace"),ts=class i extends Bu.Namespace{constructor(e){super(e,"/_"+i.count++),this.children=new Set}_initAdapter(){this.adapter=new Cr(this)}emit(e,...t){return this.children.forEach(n=>{n.emit(e,...t)}),!0}createChild(e){Mu("creating child namespace %s",e);let t=new Bu.Namespace(this.server,e);if(this._fns.forEach(n=>t.use(n)),this.listeners("connect").forEach(n=>t.on("connect",n)),this.listeners("connection").forEach(n=>t.on("connection",n)),this.children.add(t),this.server._opts.cleanupEmptyChildNamespaces){let n=t._remove;t._remove=s=>{n.call(t,s),t.sockets.size===0&&(Mu("closing child namespace %s",e),t.adapter.close(),this.server._nsps.delete(t.name),this.children.delete(t))}}return this.server._nsps.set(e,t),this.server.sockets.emitReserved("new_namespace",t),t}fetchSockets(){throw new Error("fetchSockets() is not supported on parent namespaces")}};li.ParentNamespace=ts;ts.count=0;var Cr=class extends Kx.Adapter{broadcast(e,t){this.nsp.children.forEach(n=>{n.adapter.broadcast(e,t)})}}});var Wu=b(Tt=>{"use strict";p();var Yx=Tt&&Tt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.patchAdapter=Xx;Tt.restoreAdapter=Qx;Tt.serveFile=tb;var kt=es(),qu=require("fs"),Jx=Yx(W()),is=(0,Jx.default)("socket.io:adapter-uws"),Or="",{addAll:zu,del:Vu,broadcast:Hu}=kt.Adapter.prototype;function Xx(i){kt.Adapter.prototype.addAll=function(e,t){let n=!this.sids.has(e);zu.call(this,e,t);let s=this.nsp.sockets.get(e)||this.nsp._preConnectSockets.get(e);if(s){if(s.conn.transport.name==="websocket"){Uu(this.nsp.name,s,n,t);return}n&&s.conn.on("upgrade",()=>{let a=this.sids.get(e);a&&Uu(this.nsp.name,s,n,a)})}},kt.Adapter.prototype.del=function(e,t){Vu.call(this,e,t);let n=this.nsp.sockets.get(e)||this.nsp._preConnectSockets.get(e);if(n&&n.conn.transport.name==="websocket"){let s=n.conn.id,a=n.conn.transport.socket,r=`${this.nsp.name}${Or}${t}`;is("unsubscribe connection %s from topic %s",s,r),a.unsubscribe(r)}},kt.Adapter.prototype.broadcast=function(e,t){if(!(t.rooms.size<=1&&t.except.size===0)){Hu.call(this,e,t);return}let s=t.flags||{},a={preEncoded:!0,volatile:s.volatile,compress:s.compress};e.nsp=this.nsp.name;let r=this.encoder.encode(e),o=t.rooms.size===0?this.nsp.name:`${this.nsp.name}${Or}${t.rooms.keys().next().value}`;is("fast publish to %s",o),r.forEach(c=>{let l=typeof c!="string";i.publish(o,l?c:"4"+c,l)}),this.apply(t,c=>{c.conn.transport.name!=="websocket"&&c.client.writeToEngine(r,a)})}}function Uu(i,e,t,n){let s=e.conn.id,a=e.conn.transport.socket;t&&(is("subscribe connection %s to topic %s",s,i),a.subscribe(i)),n.forEach(r=>{let o=`${i}${Or}${r}`;is("subscribe connection %s to topic %s",s,o),a.subscribe(o)})}function Qx(){kt.Adapter.prototype.addAll=zu,kt.Adapter.prototype.del=Vu,kt.Adapter.prototype.broadcast=Hu}var eb=i=>{let{buffer:e,byteOffset:t,byteLength:n}=i;return e.slice(t,t+n)};function tb(i,e){let{size:t}=(0,qu.statSync)(e),n=(0,qu.createReadStream)(e),s=()=>!n.destroyed&&n.destroy(),a=o=>{throw s(),o},r=o=>{let c=eb(o);i.cork(()=>{let l=i.getWriteOffset(),[u,d]=i.tryEnd(c,t);!d&&!u&&(n.pause(),i.onWritable(v=>{let[_,g]=i.tryEnd(c.slice(v-l),t);return!g&&_&&n.resume(),_}))})};i.onAborted(s),n.on("data",r).on("error",a).on("end",s)}});var Gu=b((u1,ib)=>{ib.exports={name:"socket.io",version:"4.8.1",description:"node.js realtime framework server",keywords:["realtime","framework","websocket","tcp","events","socket","io"],files:["dist/","client-dist/","wrapper.mjs","!**/*.tsbuildinfo"],directories:{doc:"docs/",example:"example/",lib:"lib/",test:"test/"},type:"commonjs",main:"./dist/index.js",exports:{types:"./dist/index.d.ts",import:"./wrapper.mjs",require:"./dist/index.js"},types:"./dist/index.d.ts",license:"MIT",homepage:"https://github.com/socketio/socket.io/tree/main/packages/socket.io#readme",repository:{type:"git",url:"git+https://github.com/socketio/socket.io.git"},bugs:{url:"https://github.com/socketio/socket.io/issues"},scripts:{compile:"rimraf ./dist && tsc",test:"npm run format:check && npm run compile && npm run test:types && npm run test:unit","test:types":"tsd","test:unit":"nyc mocha --require ts-node/register --reporter spec --slow 200 --bail --timeout 10000 test/index.ts","format:check":'prettier --check "lib/**/*.ts" "test/**/*.ts"',"format:fix":'prettier --write "lib/**/*.ts" "test/**/*.ts"',prepack:"npm run compile"},dependencies:{accepts:"~1.3.4",base64id:"~2.0.0",cors:"~2.8.5",debug:"~4.3.2","engine.io":"~6.6.0","socket.io-adapter":"~2.5.2","socket.io-parser":"~4.2.4"},contributors:[{name:"Guillermo Rauch",email:"rauchg@gmail.com"},{name:"Arnout Kazemier",email:"info@3rd-eden.com"},{name:"Vladimir Dronnikov",email:"dronnikov@gmail.com"},{name:"Einar Otto Stangvik",email:"einaros@gmail.com"}],engines:{node:">=10.2.0"},tsd:{directory:"test"}}});var td=b((ee,zi)=>{"use strict";p();var nb=ee&&ee.__createBinding||(Object.create?function(i,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,n,s)}:function(i,e,t,n){n===void 0&&(n=t),i[n]=e[t]}),sb=ee&&ee.__setModuleDefault||(Object.create?function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}:function(i,e){i.default=e}),ab=ee&&ee.__importStar||function(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t in i)t!=="default"&&Object.prototype.hasOwnProperty.call(i,t)&&nb(e,i,t);return sb(e,i),e},Qu=ee&&ee.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ee,"__esModule",{value:!0});ee.Namespace=ee.Socket=ee.Server=void 0;var rb=require("http"),ob=require("fs"),Ar=require("zlib"),cb=rn(),ns=require("stream"),$u=require("path"),Ku=vu(),pb=ku(),Zu=require("events"),Pr=yr();Object.defineProperty(ee,"Namespace",{enumerable:!0,get:function(){return Pr.Namespace}});var lb=Fu(),Yu=es(),ub=ab(qi()),db=Qu(W()),ed=xr();Object.defineProperty(ee,"Socket",{enumerable:!0,get:function(){return ed.Socket}});var mb=Wn(),Rr=Wu(),fb=Qu(Xa()),pe=(0,db.default)("socket.io:server"),Ju=Gu().version,Xu=/\.map/,ui=class i extends mb.StrictEventEmitter{constructor(e,t={}){super(),this._nsps=new Map,this.parentNsps=new Map,this.parentNamespacesFromRegExp=new Map,typeof e=="object"&&e instanceof Object&&!e.listen&&(t=e,e=void 0),this.path(t.path||"/socket.io"),this.connectTimeout(t.connectTimeout||45e3),this.serveClient(t.serveClient!==!1),this._parser=t.parser||ub,this.encoder=new this._parser.Encoder,this.opts=t,t.connectionStateRecovery?(t.connectionStateRecovery=Object.assign({maxDisconnectionDuration:2*60*1e3,skipMiddlewares:!0},t.connectionStateRecovery),this.adapter(t.adapter||Yu.SessionAwareAdapter)):this.adapter(t.adapter||Yu.Adapter),t.cleanupEmptyChildNamespaces=!!t.cleanupEmptyChildNamespaces,this.sockets=this.of("/"),(e||typeof e=="number")&&this.attach(e),this.opts.cors&&(this._corsMiddleware=(0,fb.default)(this.opts.cors))}get _opts(){return this.opts}serveClient(e){return arguments.length?(this._serveClient=e,this):this._serveClient}_checkNamespace(e,t,n){if(this.parentNsps.size===0)return n(!1);let s=this.parentNsps.keys(),a=()=>{let r=s.next();if(r.done)return n(!1);r.value(e,t,(o,c)=>{if(o||!c)return a();if(this._nsps.has(e))return pe("dynamic namespace %s already exists",e),n(this._nsps.get(e));let l=this.parentNsps.get(r.value).createChild(e);pe("dynamic namespace %s was created",e),n(l)})};a()}path(e){if(!arguments.length)return this._path;this._path=e.replace(/\/$/,"");let t=this._path.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return this.clientPathRegex=new RegExp("^"+t+"/socket\\.io(\\.msgpack|\\.esm)?(\\.min)?\\.js(\\.map)?(?:\\?|$)"),this}connectTimeout(e){return e===void 0?this._connectTimeout:(this._connectTimeout=e,this)}adapter(e){if(!arguments.length)return this._adapter;this._adapter=e;for(let t of this._nsps.values())t._initAdapter();return this}listen(e,t={}){return this.attach(e,t)}attach(e,t={}){if(typeof e=="function"){let n="You are trying to attach socket.io to an express request handler function. Please pass a http.Server instance.";throw new Error(n)}if(Number(e)==e&&(e=Number(e)),typeof e=="number"){pe("creating http server and binding to %d",e);let n=e;e=rb.createServer((s,a)=>{a.writeHead(404),a.end()}),e.listen(n)}return Object.assign(t,this.opts),t.path=t.path||this._path,this.initEngine(e,t),this}attachApp(e,t={}){Object.assign(t,this.opts),t.path=t.path||this._path,pe("creating uWebSockets.js-based engine with opts %j",t);let n=new Ku.uServer(t);n.attach(e,t),this.bind(n),this._serveClient&&e.get(`${this._path}/*`,(s,a)=>{if(!this.clientPathRegex.test(a.getUrl())){a.setYield(!0);return}let r=a.getUrl().replace(this._path,"").replace(/\?.*$/,"").replace(/^\//,""),o=Xu.test(r),c=o?"map":"source",l='"'+Ju+'"',u="W/"+l,d=a.getHeader("if-none-match");if(d&&(l===d||u===d)){pe("serve client %s 304",c),s.writeStatus("304 Not Modified"),s.end();return}pe("serve client %s",c),s.writeHeader("cache-control","public, max-age=0"),s.writeHeader("content-type","application/"+(o?"json":"javascript")+"; charset=utf-8"),s.writeHeader("etag",l);let v=$u.join(__dirname,"../client-dist/",r);(0,Rr.serveFile)(s,v)}),(0,Rr.patchAdapter)(e)}initEngine(e,t){pe("creating engine.io instance with opts %j",t),this.eio=(0,Ku.attach)(e,t),this._serveClient&&this.attachServe(e),this.httpServer=e,this.bind(this.eio)}attachServe(e){pe("attaching client serving req handler");let t=e.listeners("request").slice(0);e.removeAllListeners("request"),e.on("request",(n,s)=>{if(this.clientPathRegex.test(n.url))this._corsMiddleware?this._corsMiddleware(n,s,()=>{this.serve(n,s)}):this.serve(n,s);else for(let a=0;a<t.length;a++)t[a].call(e,n,s)})}serve(e,t){let n=e.url.replace(this._path,"").replace(/\?.*$/,""),s=Xu.test(n),a=s?"map":"source",r='"'+Ju+'"',o="W/"+r,c=e.headers["if-none-match"];if(c&&(r===c||o===c)){pe("serve client %s 304",a),t.writeHead(304),t.end();return}pe("serve client %s",a),t.setHeader("Cache-Control","public, max-age=0"),t.setHeader("Content-Type","application/"+(s?"json":"javascript")+"; charset=utf-8"),t.setHeader("ETag",r),i.sendFile(n,e,t)}static sendFile(e,t,n){let s=(0,ob.createReadStream)($u.join(__dirname,"../client-dist/",e)),a=cb(t).encodings(["br","gzip","deflate"]),r=o=>{o&&n.end()};switch(a){case"br":n.writeHead(200,{"content-encoding":"br"}),(0,ns.pipeline)(s,(0,Ar.createBrotliCompress)(),n,r);break;case"gzip":n.writeHead(200,{"content-encoding":"gzip"}),(0,ns.pipeline)(s,(0,Ar.createGzip)(),n,r);break;case"deflate":n.writeHead(200,{"content-encoding":"deflate"}),(0,ns.pipeline)(s,(0,Ar.createDeflate)(),n,r);break;default:n.writeHead(200),(0,ns.pipeline)(s,n,r)}}bind(e){return this.engine=e,this.engine.on("connection",this.onconnection.bind(this)),this}onconnection(e){pe("incoming connection with id %s",e.id);let t=new pb.Client(this,e);return e.protocol===3&&t.connect("/"),this}of(e,t){if(typeof e=="function"||e instanceof RegExp){let s=new lb.ParentNamespace(this);return pe("initializing parent namespace %s",s.name),typeof e=="function"?this.parentNsps.set(e,s):(this.parentNsps.set((a,r,o)=>o(null,e.test(a)),s),this.parentNamespacesFromRegExp.set(e,s)),t&&s.on("connect",t),s}String(e)[0]!=="/"&&(e="/"+e);let n=this._nsps.get(e);if(!n){for(let[s,a]of this.parentNamespacesFromRegExp)if(s.test(e))return pe("attaching namespace %s to parent namespace %s",e,s),a.createChild(e);pe("initializing namespace %s",e),n=new Pr.Namespace(this,e),this._nsps.set(e,n),e!=="/"&&this.sockets.emitReserved("new_namespace",n)}return t&&n.on("connect",t),n}async close(e){await Promise.allSettled([...this._nsps.values()].map(async t=>{t.sockets.forEach(n=>{n._onclose("server shutting down")}),await t.adapter.close()})),this.engine.close(),(0,Rr.restoreAdapter)(),this.httpServer?this.httpServer.close(e):e&&e()}use(e){return this.sockets.use(e),this}to(e){return this.sockets.to(e)}in(e){return this.sockets.in(e)}except(e){return this.sockets.except(e)}send(...e){return this.sockets.emit("message",...e),this}write(...e){return this.sockets.emit("message",...e),this}serverSideEmit(e,...t){return this.sockets.serverSideEmit(e,...t)}serverSideEmitWithAck(e,...t){return this.sockets.serverSideEmitWithAck(e,...t)}allSockets(){return this.sockets.allSockets()}compress(e){return this.sockets.compress(e)}get volatile(){return this.sockets.volatile}get local(){return this.sockets.local}timeout(e){return this.sockets.timeout(e)}fetchSockets(){return this.sockets.fetchSockets()}socketsJoin(e){return this.sockets.socketsJoin(e)}socketsLeave(e){return this.sockets.socketsLeave(e)}disconnectSockets(e=!1){return this.sockets.disconnectSockets(e)}};ee.Server=ui;var hb=Object.keys(Zu.EventEmitter.prototype).filter(function(i){return typeof Zu.EventEmitter.prototype[i]=="function"});hb.forEach(function(i){ui.prototype[i]=function(){return this.sockets[i].apply(this.sockets,arguments)}});zi.exports=(i,e)=>new ui(i,e);zi.exports.Server=ui;zi.exports.Namespace=Pr.Namespace;zi.exports.Socket=ed.Socket});var id,nd,m1,f1,sd=S(()=>{p();id=Se(td(),1),{Server:nd,Namespace:m1,Socket:f1}=id.default});var Dr={};ae(Dr,{disconnect:()=>gb,init:()=>vb});function vb(){if(ss)return;let i=as.BrowserWindow.getAllWindows(),e=["https://discord.com","https://ptb.discord.com","https://canary.discord.com"];for(let t of i){let n=t.webContents.getURL();e.some(s=>n.startsWith(s))&&(di=t.webContents)}Vi=(0,ad.createServer)(),Ir=new nd(Vi,{serveClient:!1,allowEIO3:!0,cors:{origin:"*"}}),Vi.listen(3020,()=>{console.log("[vc-premid] SocketIO starting on 3020"),Hi("SocketIO starting on 3020")}),Vi.on("error",yb),Ir.on("connection",xb),ss=!0}function gb(){ss&&(Ir.close(),Vi.close(),ss=!1)}async function xb(i){try{Hi("[vc-premid] PreMiD socket connected!");let{username:e,globalName:t,id:n,avatar:s,discriminator:a,flags:r,premiumType:o}=JSON.parse(await di.executeJavaScript("JSON.stringify(window.Vencord.Webpack.Common.UserStore.getCurrentUser());"));i.emit("discordUser",{username:e,global_name:t,discriminator:a,id:n,avatar:s,bot:!1,flags:r,premium_type:o}),i.on("getVersion",()=>{Hi("Extension requested version"),i.emit("receiveVersion","221")}),i.on("setActivity",bb),i.on("clearActivity",od),i.on("selectLocalPresence",()=>{Hi("Selecting local presence is not supported"),as.dialog.showMessageBox({message:"Selecting local presence is not supported right now!",title:"vc-premid: oops!"})}),i.once("disconnect",()=>wb())}catch(e){rd("Error in onConnect: ",e)}}function Hi(i){di?di.executeJavaScript(`window.Vencord.Plugins.plugins.PreMiD.logger.info('${i}')`):console.log(`[vc-premid (fallback)] ${i}`)}function rd(i,...e){console.error(`${i}`,e)}function bb(i){di.executeJavaScript(`window.Vencord.Plugins.plugins.PreMiD.receiveActivity(${JSON.stringify(i)})`).catch(console.error)}function od(){di.executeJavaScript("window.Vencord.Plugins.plugins.PreMiD.clearActivity()")}function yb(i){i.message.includes("EADDRINUSE")||rd("SocketIO error",i)}async function wb(){console.log("[vc-premid] SocketIO disconnected"),Hi("SocketIO disconnected"),od()}var as,ad,Ir,Vi,ss,di,cd=S(()=>{"use strict";p();as=require("electron"),ad=require("http");sd();ss=!1});var jr={};ae(jr,{getMemory:()=>_b});function _b(){let i=process.memoryUsage();return{heapUsed:i.heapUsed,heapTotal:i.heapTotal}}var pd=S(()=>{"use strict";p()});var ld,ud=S(()=>{p();Co();Oo();Fo();zo();Wo();Go();Zo();Xo();nc();sc();Fs();_c();Sc();Tc();Pc();cd();pd();ld={AppleMusicRichPresence:Es,ConsoleShortcuts:ks,FixSpotifyEmbeds:Mo,FixYoutubeEmbeds:Uo,OpenInApp:Rs,Translate:Ps,VoiceMessages:Is,XSOverlay:Ds,YoutubeAdblock:ic,Identity:js,MessageLoggerEnhanced:Ws,RPCStats:Gs,ThemeLibrary:$s,XSOverlay:Ks,MediaDownloader:Js,PreMiD:Dr,venfetch:jr}});var Nr,dd,md=S(()=>{"use strict";p();xi();Nr=require("electron");ud();dd={};for(let[i,e]of Object.entries(ld)){let t=Object.entries(e);if(!t.length)continue;let n=dd[i]={};for(let[s,a]of t){let r=`VencordPluginNative_${i}_${s}`;Nr.ipcMain.handle(r,a),n[s]=r}}Nr.ipcMain.on("VencordGetPluginIpcMethodMap",i=>{i.returnValue=dd})});function Lr(i,e=300){let t;return function(...n){clearTimeout(t),t=setTimeout(()=>{i(...n)},e)}}var fd=S(()=>{"use strict";p()});var hd,vd=S(()=>{p();hd="PCFkb2N0eXBlIGh0bWw+PGh0bWwgbGFuZz0iZW4iPjxoZWFkPjxtZXRhIGNoYXJzZXQ9InV0Zi04Ij48dGl0bGU+VmVuY29yZCBRdWlja0NTUyBFZGl0b3I8L3RpdGxlPjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9tb25hY28tZWRpdG9yQDAuNTAuMC9taW4vdnMvZWRpdG9yL2VkaXRvci5tYWluLmNzcyIgaW50ZWdyaXR5PSJzaGEyNTYtdGlKUFEyTzA0ei9wWi9Bd2R5SWdock9NemV3ZitQSXZFbDFZS2JRdnNaaz0iIGNyb3Nzb3JpZ2luPSJhbm9ueW1vdXMiIHJlZmVycmVycG9saWN5PSJuby1yZWZlcnJlciI+PHN0eWxlPiNjb250YWluZXIsYm9keSxodG1se3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO21hcmdpbjowO3BhZGRpbmc6MDtvdmVyZmxvdzpoaWRkZW59PC9zdHlsZT48L2hlYWQ+PGJvZHk+PGRpdiBpZD0iY29udGFpbmVyIj48L2Rpdj48c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9tb25hY28tZWRpdG9yQDAuNTAuMC9taW4vdnMvbG9hZGVyLmpzIiBpbnRlZ3JpdHk9InNoYTI1Ni1LY1U0OFRHcjg0cjd1bkY3SjVJZ0JvOTVhZVZyRWJyR2UwNFM3VGNGVWpzPSIgY3Jvc3NvcmlnaW49ImFub255bW91cyIgcmVmZXJyZXJwb2xpY3k9Im5vLXJlZmVycmVyIj48L3NjcmlwdD48c2NyaXB0PnJlcXVpcmUuY29uZmlnKHtwYXRoczp7dnM6Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vbW9uYWNvLWVkaXRvckAwLjUwLjAvbWluL3ZzIn19KSxyZXF1aXJlKFsidnMvZWRpdG9yL2VkaXRvci5tYWluIl0sKCgpPT57Z2V0Q3VycmVudENzcygpLnRoZW4oKGU9Pnt2YXIgdD1tb25hY28uZWRpdG9yLmNyZWF0ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29udGFpbmVyIikse3ZhbHVlOmUsbGFuZ3VhZ2U6ImNzcyIsdGhlbWU6Z2V0VGhlbWUoKX0pO3Qub25EaWRDaGFuZ2VNb2RlbENvbnRlbnQoKCgpPT5zZXRDc3ModC5nZXRWYWx1ZSgpKSkpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCgoKT0+e3QubGF5b3V0KCl9KSl9KSl9KSk8L3NjcmlwdD48L2JvZHk+PC9odG1sPg=="});function Br(i,e={}){return{fileName:i,name:e.name??i.replace(/\.css$/i,""),author:e.author??"Unknown Author",description:e.description??"A Discord Theme.",version:e.version,license:e.license,source:e.source,website:e.website,invite:e.invite}}function gd(i){return i.charCodeAt(0)===65279&&(i=i.slice(1)),i}function xd(i,e){if(!i)return Br(e);let t=i.split("/**",2)?.[1]?.split("*/",1)?.[0];if(!t)return Br(e);let n={},s="",a="";for(let r of t.split(Sb))if(r.length!==0)if(r.charAt(0)==="@"&&r.charAt(1)!==" "){n[s]=a.trim();let o=r.indexOf(" ");s=r.substring(1,o),a=r.substring(o+1)}else a+=" "+r.replace("\\n",`
`).replace(Eb,"@");return n[s]=a.trim(),delete n[""],Br(e,n)}var Sb,Eb,bd=S(()=>{"use strict";p();Sb=/[^\S\r\n]*?\r?(?:\r\n|\n)[^\S\r\n]*?\*[^\S\r\n]?/,Eb=/^\\@/});function wd(i){i.webContents.setWindowOpenHandler(({url:e})=>{switch(e){case"about:blank":case"https://discord.com/popout":case"https://ptb.discord.com/popout":case"https://canary.discord.com/popout":return{action:"allow"}}try{var{protocol:t}=new URL(e)}catch{return{action:"deny"}}switch(t){case"http:":case"https:":case"mailto:":case"steam:":case"spotify:":yd.shell.openExternal(e)}return{action:"deny"}})}var yd,_d=S(()=>{"use strict";p();yd=require("electron")});function Mr(i,e){let t=(0,mi.normalize)(i),n=(0,mi.join)(i,e),s=(0,mi.normalize)(n);return s.startsWith(t)?s:null}function Sd(){return(0,Ot.readFile)(Mt,"utf-8").catch(()=>"")}async function kb(){let i=await(0,Ot.readdir)(Ze).catch(()=>[]),e=[];for(let t of i){if(!t.endsWith(".css"))continue;let n=await Ed(t).then(gd).catch(()=>null);n!=null&&e.push(xd(n,t))}return e}function Ed(i){i=i.replace(/\?v=\d+$/,"");let e=Mr(Ze,i);return e?(0,Ot.readFile)(e,"utf-8"):Promise.reject(`Unsafe path ${i}`)}function kd(i){let e;(0,Ot.open)(Mt,"a+").then(n=>{n.close(),e=(0,Ct.watch)(Mt,{persistent:!1},Lr(async()=>{i.webContents.postMessage("VencordQuickCssUpdate",await Sd())},50))}).catch(()=>{});let t=(0,Ct.watch)(Ze,{persistent:!1},Lr(()=>{i.webContents.postMessage("VencordThemeUpdate",void 0)}));i.once("closed",()=>{e?.close(),t.close()})}var $,Ct,Ot,mi,Fr=S(()=>{"use strict";p();mo();md();mt();fd();xi();$=require("electron");vd();Ct=require("fs"),Ot=require("fs/promises"),mi=require("path");bd();ut();_d();(0,Ct.mkdirSync)(Ze,{recursive:!0});$.ipcMain.handle("VencordOpenQuickCss",()=>$.shell.openPath(Mt));$.ipcMain.handle("VencordOpenExternal",(i,e)=>{try{var{protocol:t}=new URL(e)}catch{throw"Malformed URL"}if(!Do.includes(t))throw"Disallowed protocol.";$.shell.openExternal(e)});$.ipcMain.handle("VencordGetQuickCss",()=>Sd());$.ipcMain.handle("VencordSetQuickCss",(i,e)=>(0,Ct.writeFileSync)(Mt,e));$.ipcMain.handle("VencordGetThemesDir",()=>Ze);$.ipcMain.handle("VencordGetThemesList",()=>kb());$.ipcMain.handle("VencordGetThemeData",(i,e)=>Ed(e));$.ipcMain.handle("VencordGetThemeSystemValues",()=>({"os-accent-color":`#${$.systemPreferences.getAccentColor?.()||""}`}));$.ipcMain.handle("VencordOpenMonacoEditor",async()=>{let i="Vencord QuickCSS Editor",e=$.BrowserWindow.getAllWindows().find(n=>n.title===i);if(e&&!e.isDestroyed()){e.focus();return}let t=new $.BrowserWindow({title:i,autoHideMenuBar:!0,darkTheme:!0,webPreferences:{preload:(0,mi.join)(__dirname,"preload.js"),contextIsolation:!0,nodeIntegration:!1,sandbox:!1}});wd(t),await t.loadURL(`data:text/html;base64,${hd}`)})});function Kd(i,e,t){let n=e;if(e in i)return void t(i[n]);Object.defineProperty(i,e,{set(s){delete i[n],i[n]=s,t(s)},configurable:!0,enumerable:!1})}var Zd=S(()=>{"use strict";p()});var $b={};function Wb(i,e){let t=i.slice(4).split(".").map(Number),n=e.slice(4).split(".").map(Number);for(let s=0;s<n.length;s++){if(t[s]>n[s])return!0;if(t[s]<n[s])return!1}return!1}function Gb(){if(!process.env.DISABLE_UPDATER_AUTO_PATCHING)try{let i=(0,_e.dirname)(process.execPath),e=(0,_e.basename)(i),t=(0,_e.join)(i,".."),n=(0,he.readdirSync)(t).reduce((o,c)=>c.startsWith("app-")&&Wb(c,o)?c:o,e);if(n===e)return;let s=(0,_e.join)(t,n,"resources"),a=(0,_e.join)(s,"app.asar"),r=(0,_e.join)(s,"_app.asar");if(!(0,he.existsSync)(a)||(0,he.statSync)(a).isDirectory())return;console.info("[Vencord+] Detected Host Update. Repatching..."),(0,he.renameSync)(a,r),(0,he.mkdirSync)(a),(0,he.writeFileSync)((0,_e.join)(a,"package.json"),JSON.stringify({name:"discord",main:"index.js"})),(0,he.writeFileSync)((0,_e.join)(a,"index.js"),`require(${JSON.stringify((0,_e.join)(__dirname,"patcher.js"))});`)}catch(i){console.error("[Vencord+] Failed to repatch latest host update",i)}}var Yd,he,_e,Jd=S(()=>{"use strict";p();Yd=require("electron"),he=require("original-fs"),_e=require("path");Yd.app.on("before-quit",Gb)});var Jb={};var te,lt,Kb,Zb,Gr,Yb,Xd=S(()=>{"use strict";p();Zd();te=Se(require("electron")),lt=require("path");Fr();mt();ut();console.log("[Vencord+] Starting up...");Kb=require.main.filename,Zb=require.main.path.endsWith("app.asar")?"_app.asar":"app.asar",Gr=(0,lt.join)((0,lt.dirname)(Kb),"..",Zb),Yb=require((0,lt.join)(Gr,"package.json"));require.main.filename=(0,lt.join)(Gr,Yb.main);te.app.setAppPath(Gr);if(Ki)console.log("[Vencord+] Running in vanilla mode. Not loading Vencord");else{let i=re.store;if(process.platform==="win32"&&(Jd(),i.winCtrlQ)){let s=te.Menu.buildFromTemplate;te.Menu.buildFromTemplate=function(a){if(a[0]?.label==="&File"){let{submenu:r}=a[0];Array.isArray(r)&&r.push({label:"Quit (Hidden)",visible:!1,acceleratorWorksWhenHidden:!0,accelerator:"Control+Q",click:()=>te.app.quit()})}return s.call(this,a)}}class e extends te.default.BrowserWindow{constructor(a){if(a?.webPreferences?.preload&&a.title){let r=a.webPreferences.preload;a.webPreferences.preload=(0,lt.join)(__dirname,"preload.js"),a.webPreferences.sandbox=!1,a.webPreferences.backgroundThrottling=!1,i.frameless?a.frame=!1:process.platform==="win32"&&i.winNativeTitleBar&&delete a.frame,i.transparent&&(a.transparent=!0,a.backgroundColor="#00000000"),process.platform==="darwin"&&i.macosVibrancyStyle&&(a.backgroundColor="#00000000",i.macosVibrancyStyle&&(a.vibrancy=i.macosVibrancyStyle)),process.env.DISCORD_PRELOAD=r,super(a),kd(this)}else super(a)}}Object.assign(e,te.default.BrowserWindow),Object.defineProperty(e,"name",{value:"BrowserWindow",configurable:!0});let t=require.resolve("electron");delete require.cache[t].exports,require.cache[t].exports={...te.default,BrowserWindow:e},Kd(global,"appSettings",s=>{s.set("DANGEROUS_ENABLE_DEVTOOLS_ONLY_ENABLE_IF_YOU_KNOW_WHAT_YOURE_DOING",!0),i.disableMinSize?(s.set("MIN_WIDTH",0),s.set("MIN_HEIGHT",0)):(s.set("MIN_WIDTH",940),s.set("MIN_HEIGHT",500))}),process.env.DATA_DIR=(0,lt.join)(te.app.getPath("userData"),"..","Vencord");let n=te.app.commandLine.appendSwitch;te.app.commandLine.appendSwitch=function(...s){if(s[0]==="disable-features"){let a=new Set((s[1]??"").split(","));a.add("WidgetLayering"),a.add("UseEcoQoSForBackgroundProcess"),s[1]+=[...a].join(",")}return n.apply(this,s)},te.app.commandLine.appendSwitch("disable-renderer-backgrounding"),te.app.commandLine.appendSwitch("disable-background-timer-throttling"),te.app.commandLine.appendSwitch("disable-backgrounding-occluded-windows")}console.log("[Vencord+] Loading original Discord app.asar");require(require.main.filename)});p();var Rt=require("electron"),Qd=require("path");Fr();mt();ut();p();var Wd=require("electron");p();var Od=require("module"),Tb=(0,Od.createRequire)("/"),os,Cb=";var __w=require('worker_threads');__w.parentPort.on('message',function(m){onmessage({data:m})}),postMessage=function(m,t){__w.parentPort.postMessage(m,t)},close=process.exit;self=global";try{os=Tb("worker_threads").Worker}catch{}var Ob=os?function(i,e,t,n,s){var a=!1,r=new os(i+Cb,{eval:!0}).on("error",function(o){return s(o,null)}).on("message",function(o){return s(null,o)}).on("exit",function(o){o&&!a&&s(new Error("exited with code "+o),null)});return r.postMessage(t,n),r.terminate=function(){return a=!0,os.prototype.terminate.call(r)},r}:function(i,e,t,n,s){setImmediate(function(){return s(new Error("async operations unsupported - update to Node 12+ (or Node 10-11 with the --experimental-worker CLI flag)"),null)});var a=function(){};return{terminate:a,postMessage:a}},se=Uint8Array,At=Uint16Array,Ad=Int32Array,zr=new se([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vr=new se([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Rd=new se([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Pd=function(i,e){for(var t=new At(31),n=0;n<31;++n)t[n]=e+=1<<i[n-1];for(var s=new Ad(t[30]),n=1;n<30;++n)for(var a=t[n];a<t[n+1];++a)s[a]=a-t[n]<<5|n;return{b:t,r:s}},Id=Pd(zr,2),Hr=Id.b,Ab=Id.r;Hr[28]=258,Ab[258]=28;var Dd=Pd(Vr,0),jd=Dd.b,Z1=Dd.r,ls=new At(32768);for(O=0;O<32768;++O)We=(O&43690)>>1|(O&21845)<<1,We=(We&52428)>>2|(We&13107)<<2,We=(We&61680)>>4|(We&3855)<<4,ls[O]=((We&65280)>>8|(We&255)<<8)>>1;var We,O,fi=function(i,e,t){for(var n=i.length,s=0,a=new At(e);s<n;++s)i[s]&&++a[i[s]-1];var r=new At(e);for(s=1;s<e;++s)r[s]=r[s-1]+a[s-1]<<1;var o;if(t){o=new At(1<<e);var c=15-e;for(s=0;s<n;++s)if(i[s])for(var l=s<<4|i[s],u=e-i[s],d=r[i[s]-1]++<<u,v=d|(1<<u)-1;d<=v;++d)o[ls[d]>>c]=l}else for(o=new At(n),s=0;s<n;++s)i[s]&&(o[s]=ls[r[i[s]-1]++]>>15-i[s]);return o},Wi=new se(288);for(O=0;O<144;++O)Wi[O]=8;var O;for(O=144;O<256;++O)Wi[O]=9;var O;for(O=256;O<280;++O)Wi[O]=7;var O;for(O=280;O<288;++O)Wi[O]=8;var O,Nd=new se(32);for(O=0;O<32;++O)Nd[O]=5;var O;var Ld=fi(Wi,9,1);var Bd=fi(Nd,5,1),cs=function(i){for(var e=i[0],t=1;t<i.length;++t)i[t]>e&&(e=i[t]);return e},we=function(i,e,t){var n=e/8|0;return(i[n]|i[n+1]<<8)>>(e&7)&t},ps=function(i,e){var t=e/8|0;return(i[t]|i[t+1]<<8|i[t+2]<<16)>>(e&7)},Md=function(i){return(i+7)/8|0},us=function(i,e,t){return(e==null||e<0)&&(e=0),(t==null||t>i.length)&&(t=i.length),new se(i.subarray(e,t))};var Fd=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ne=function(i,e,t){var n=new Error(e||Fd[i]);if(n.code=i,Error.captureStackTrace&&Error.captureStackTrace(n,ne),!t)throw n;return n},qd=function(i,e,t,n){var s=i.length,a=n?n.length:0;if(!s||e.f&&!e.l)return t||new se(0);var r=!t,o=r||e.i!=2,c=e.i;r&&(t=new se(s*3));var l=function(Xr){var Qr=t.length;if(Xr>Qr){var eo=new se(Math.max(Qr*2,Xr));eo.set(t),t=eo}},u=e.f||0,d=e.p||0,v=e.b||0,_=e.l,g=e.d,h=e.m,x=e.n,y=s*8;do{if(!_){u=we(i,d,1);var w=we(i,d+1,3);if(d+=3,w)if(w==1)_=Ld,g=Bd,h=9,x=5;else if(w==2){var P=we(i,d,31)+257,N=we(i,d+10,15)+4,K=P+we(i,d+5,31)+1;d+=14;for(var D=new se(K),Ge=new se(19),Z=0;Z<N;++Z)Ge[Rd[Z]]=we(i,d+Z*3,7);d+=N*3;for(var vi=cs(Ge),em=(1<<vi)-1,tm=fi(Ge,vi,1),Z=0;Z<K;){var $r=tm[we(i,d,em)];d+=$r&15;var A=$r>>4;if(A<16)D[Z++]=A;else{var Pt=0,Gi=0;for(A==16?(Gi=3+we(i,d,3),d+=2,Pt=D[Z-1]):A==17?(Gi=3+we(i,d,7),d+=3):A==18&&(Gi=11+we(i,d,127),d+=7);Gi--;)D[Z++]=Pt}}var Kr=D.subarray(0,P),$e=D.subarray(P);h=cs(Kr),x=cs($e),_=fi(Kr,h,1),g=fi($e,x,1)}else ne(1);else{var A=Md(d)+4,C=i[A-4]|i[A-3]<<8,j=A+C;if(j>s){c&&ne(0);break}o&&l(v+C),t.set(i.subarray(A,j),v),e.b=v+=C,e.p=d=j*8,e.f=u;continue}if(d>y){c&&ne(0);break}}o&&l(v+131072);for(var im=(1<<h)-1,nm=(1<<x)-1,ds=d;;ds=d){var Pt=_[ps(i,d)&im],It=Pt>>4;if(d+=Pt&15,d>y){c&&ne(0);break}if(Pt||ne(2),It<256)t[v++]=It;else if(It==256){ds=d,_=null;break}else{var Zr=It-254;if(It>264){var Z=It-257,gi=zr[Z];Zr=we(i,d,(1<<gi)-1)+Hr[Z],d+=gi}var ms=g[ps(i,d)&nm],fs=ms>>4;ms||ne(3),d+=ms&15;var $e=jd[fs];if(fs>3){var gi=Vr[fs];$e+=ps(i,d)&(1<<gi)-1,d+=gi}if(d>y){c&&ne(0);break}o&&l(v+131072);var Yr=v+Zr;if(v<$e){var Jr=a-$e,sm=Math.min($e,Yr);for(Jr+v<0&&ne(3);v<sm;++v)t[v]=n[Jr+v]}for(;v<Yr;++v)t[v]=t[v-$e]}}e.l=_,e.p=ds,e.b=v,e.f=u,_&&(u=1,e.m=h,e.d=g,e.n=x)}while(!u);return v!=t.length&&r?us(t,0,v):t.subarray(0,v)};var Rb=new se(0);var Pb=function(i,e){var t={};for(var n in i)t[n]=i[n];for(var n in e)t[n]=e[n];return t},Td=function(i,e,t){for(var n=i(),s=i.toString(),a=s.slice(s.indexOf("[")+1,s.lastIndexOf("]")).replace(/\s+/g,"").split(","),r=0;r<n.length;++r){var o=n[r],c=a[r];if(typeof o=="function"){e+=";"+c+"=";var l=o.toString();if(o.prototype)if(l.indexOf("[native code]")!=-1){var u=l.indexOf(" ",8)+1;e+=l.slice(u,l.indexOf("(",u))}else{e+=l;for(var d in o.prototype)e+=";"+c+".prototype."+d+"="+o.prototype[d].toString()}else e+=l}else t[c]=o}return e},rs=[],Ib=function(i){var e=[];for(var t in i)i[t].buffer&&e.push((i[t]=new i[t].constructor(i[t])).buffer);return e},Db=function(i,e,t,n){if(!rs[t]){for(var s="",a={},r=i.length-1,o=0;o<r;++o)s=Td(i[o],s,a);rs[t]={c:Td(i[r],s,a),e:a}}var c=Pb({},rs[t].e);return Ob(rs[t].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",t,c,Ib(c),n)},jb=function(){return[se,At,Ad,zr,Vr,Rd,Hr,jd,Ld,Bd,ls,Fd,fi,cs,we,ps,Md,us,ne,qd,Wr,Ud,zd]};var Ud=function(i){return postMessage(i,[i.buffer])},zd=function(i){return i&&{out:i.size&&new se(i.size),dictionary:i.dictionary}},Nb=function(i,e,t,n,s,a){var r=Db(t,n,s,function(o,c){r.terminate(),a(o,c)});return r.postMessage([i,e],e.consume?[i.buffer]:[]),function(){r.terminate()}};var je=function(i,e){return i[e]|i[e+1]<<8},Pe=function(i,e){return(i[e]|i[e+1]<<8|i[e+2]<<16|i[e+3]<<24)>>>0},qr=function(i,e){return Pe(i,e)+Pe(i,e+4)*4294967296};function Lb(i,e,t){return t||(t=e,e={}),typeof t!="function"&&ne(7),Nb(i,e,[jb],function(n){return Ud(Wr(n.data[0],zd(n.data[1])))},1,t)}function Wr(i,e){return qd(i,{i:2},e&&e.out,e&&e.dictionary)}var Ur=typeof TextDecoder<"u"&&new TextDecoder,Bb=0;try{Ur.decode(Rb,{stream:!0}),Bb=1}catch{}var Mb=function(i){for(var e="",t=0;;){var n=i[t++],s=(n>127)+(n>223)+(n>239);if(t+s>i.length)return{s:e,r:us(i,t-1)};s?s==3?(n=((n&15)<<18|(i[t++]&63)<<12|(i[t++]&63)<<6|i[t++]&63)-65536,e+=String.fromCharCode(55296|n>>10,56320|n&1023)):s&1?e+=String.fromCharCode((n&31)<<6|i[t++]&63):e+=String.fromCharCode((n&15)<<12|(i[t++]&63)<<6|i[t++]&63):e+=String.fromCharCode(n)}};function Fb(i,e){if(e){for(var t="",n=0;n<i.length;n+=16384)t+=String.fromCharCode.apply(null,i.subarray(n,n+16384));return t}else{if(Ur)return Ur.decode(i);var s=Mb(i),a=s.s,t=s.r;return t.length&&ne(8),a}}var qb=function(i,e){return e+30+je(i,e+26)+je(i,e+28)},Ub=function(i,e,t){var n=je(i,e+28),s=Fb(i.subarray(e+46,e+46+n),!(je(i,e+8)&2048)),a=e+46+n,r=Pe(i,e+20),o=t&&r==4294967295?zb(i,a):[r,Pe(i,e+24),Pe(i,e+42)],c=o[0],l=o[1],u=o[2];return[je(i,e+10),c,l,s,a+je(i,e+30)+je(i,e+32),u]},zb=function(i,e){for(;je(i,e)!=1;e+=4+je(i,e+2));return[qr(i,e+12),qr(i,e+4),qr(i,e+20)]};var Cd=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(i){i()};function Vd(i,e,t){t||(t=e,e={}),typeof t!="function"&&ne(7);var n=[],s=function(){for(var x=0;x<n.length;++x)n[x]()},a={},r=function(x,y){Cd(function(){t(x,y)})};Cd(function(){r=t});for(var o=i.length-22;Pe(i,o)!=101010256;--o)if(!o||i.length-o>65558)return r(ne(13,0,1),null),s;var c=je(i,o+8);if(c){var l=c,u=Pe(i,o+16),d=u==4294967295||l==65535;if(d){var v=Pe(i,o-12);d=Pe(i,v)==101075792,d&&(l=c=Pe(i,v+32),u=Pe(i,v+48))}for(var _=e&&e.filter,g=function(x){var y=Ub(i,u,d),w=y[0],A=y[1],C=y[2],j=y[3],P=y[4],N=y[5],K=qb(i,N);u=P;var D=function(Z,vi){Z?(s(),r(Z,null)):(vi&&(a[j]=vi),--c||r(null,a))};if(!_||_({name:j,size:A,originalSize:C,compression:w}))if(!w)D(null,us(i,K,K+A));else if(w==8){var Ge=i.subarray(K,K+A);if(C<524288||A>.8*C)try{D(null,Wr(Ge,{out:new se(C)}))}catch(Z){D(Z,null)}else n.push(Lb(Ge,{size:C},D))}else D(ne(14,"unknown compression type "+w,1),null);else D(null,null)},h=0;h<l;++h)g(h)}else r(null,{});return s}var Gd=require("fs"),Ne=require("fs/promises"),hi=require("path");ut();p();function Hd(i){function e(r,o,c,l){let u=0;return u+=r<<0,u+=o<<8,u+=c<<16,u+=l<<24>>>0,u}if(i[0]===80&&i[1]===75&&i[2]===3&&i[3]===4)return i;if(i[0]!==67||i[1]!==114||i[2]!==50||i[3]!==52)throw new Error("Invalid header: Does not start with Cr24");let t=i[4]===3,n=i[4]===2;if(!n&&!t||i[5]||i[6]||i[7])throw new Error("Unexpected crx format version number.");if(n){let r=e(i[8],i[9],i[10],i[11]),o=e(i[12],i[13],i[14],i[15]),c=16+r+o;return i.subarray(c,i.length)}let a=12+e(i[8],i[9],i[10],i[11]);return i.subarray(a,i.length)}vs();var Vb=(0,hi.join)(Lt,"ExtensionCache");async function Hb(i,e){return await(0,Ne.mkdir)(e,{recursive:!0}),new Promise((t,n)=>{Vd(i,(s,a)=>{if(s)return void n(s);Promise.all(Object.keys(a).map(async r=>{if(r.startsWith("_metadata/"))return;if(r.endsWith("/"))return void(0,Ne.mkdir)((0,hi.join)(e,r),{recursive:!0});let o=r.split("/"),c=o.pop(),l=o.join("/"),u=(0,hi.join)(e,l);l&&await(0,Ne.mkdir)(u,{recursive:!0}),await(0,Ne.writeFile)((0,hi.join)(u,c),a[r])})).then(()=>t()).catch(r=>{(0,Ne.rm)(e,{recursive:!0,force:!0}),n(r)})})})}async function $d(i){let e=(0,hi.join)(Vb,`${i}`);try{await(0,Ne.access)(e,Gd.constants.F_OK)}catch{let n=i==="fmkadmapgofadopljbjfkapdkoienihi"?"https://raw.githubusercontent.com/Vendicated/random-files/f6f550e4c58ac5f2012095a130406c2ab25b984d/fmkadmapgofadopljbjfkapdkoienihi.zip":`https://clients2.google.com/service/update2/crx?response=redirect&acceptformat=crx2,crx3&x=id%3D${i}%26uc&prodversion=${process.versions.chrome}`,s=await Dt(n,{headers:{"User-Agent":`Electron ${process.versions.electron} ~ VencordPlus (https://github.com/RobinRMC/VencordPlus)`}});await Hb(Hd(s),e).catch(console.error)}Wd.session.defaultSession.loadExtension(e)}Ki||Rt.app.whenReady().then(()=>{Rt.protocol.registerFileProtocol("vencord",({url:s},a)=>{let r=s.slice(10);if(r.endsWith("/")&&(r=r.slice(0,-1)),r.startsWith("/themes/")){let o=r.slice(8),c=Mr(Ze,o);if(!c){a({statusCode:403});return}a(c.replace(/\?v=\d+$/,""));return}switch(r){case"renderer.js.map":case"vencordDesktopRenderer.js.map":case"preload.js.map":case"vencordDesktopPreload.js.map":case"patcher.js.map":case"vencordDesktopMain.js.map":a((0,Qd.join)(__dirname,r));break;default:a({statusCode:403})}});try{re.store.enableReactDevtools&&$d("fmkadmapgofadopljbjfkapdkoienihi").then(()=>console.info("[Vencord+] Installed React Developer Tools")).catch(s=>console.error("[Vencord+] Failed to install React Developer Tools",s))}catch{}let i=(s,a)=>Object.keys(s).find(r=>r.toLowerCase()===a),e=s=>{let a={};return s.split(";").forEach(r=>{let[o,...c]=r.trim().split(/\s+/g);o&&!Object.prototype.hasOwnProperty.call(a,o)&&(a[o]=c)}),a},t=s=>Object.entries(s).filter(([,a])=>a?.length).map(a=>a.flat().join(" ")).join("; "),n=s=>{let a=i(s,"content-security-policy");if(a){let r=e(s[a][0]);for(let o of["style-src","connect-src","img-src","font-src","media-src","worker-src"])r[o]??=[],r[o].push("*","blob:","data:","vencord:","'unsafe-inline'");r["script-src"]??=[],r["script-src"].push("'unsafe-eval'","https://cdn.jsdelivr.net","https://cdnjs.cloudflare.com"),s[a]=[t(r)]}};Rt.session.defaultSession.webRequest.onHeadersReceived(({responseHeaders:s,resourceType:a},r)=>{if(s&&(a==="mainFrame"&&n(s),a==="stylesheet")){let o=i(s,"content-type");o&&(s[o]=["text/css"])}r({cancel:!1,responseHeaders:s})}),Rt.session.defaultSession.webRequest.onHeadersReceived=()=>{}});Xd();
//# sourceURL=VencordPatcher
//# sourceMappingURL=vencord://patcher.js.map
/*! For license information please see patcher.js.LEGAL.txt */
